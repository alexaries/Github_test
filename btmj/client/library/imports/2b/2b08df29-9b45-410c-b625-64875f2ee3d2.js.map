{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "_gameresult",
    "_seats",
    "onLoad",
    "vv",
    "node",
    "getChildByName",
    "seats",
    "i",
    "children",
    "length",
    "push",
    "getComponent",
    "btnClose",
    "find",
    "utils",
    "addClickEvent",
    "btnShare",
    "self",
    "on",
    "data",
    "onGameEnd",
    "detail",
    "showResult",
    "seat",
    "info",
    "isZuiJiaPaoShou",
    "active",
    "Label",
    "string",
    "numzimo",
    "numjiepao",
    "numdianpao",
    "numangang",
    "numminggang",
    "endinfo",
    "gameNetMgr",
    "maxscore",
    "maxdianpao",
    "dianpaogaoshou",
    "score",
    "isBigwin",
    "setInfo",
    "name",
    "setID",
    "userid",
    "onBtnCloseClicked",
    "userMgr",
    "getGemsAndCoins",
    "gems",
    "coins",
    "director",
    "loadScene",
    "onBtnShareClicked",
    "share",
    "show"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        _gameresult: null,\r\n        _seats: [],\r\n    },\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        if (cc.vv == null) {\r\n            return;\r\n        }\r\n        this._gameresult = this.node.getChildByName(\"game_result\");\r\n        //this._gameresult.active = false;\r\n        var seats = this._gameresult.getChildByName(\"seats\");\r\n        for (var i = 0; i < seats.children.length; ++i) {\r\n            this._seats.push(seats.children[i].getComponent(\"Seat\"));\r\n        }\r\n        var btnClose = cc.find(\"Canvas/game_result/btnClose\");\r\n        if (btnClose) {\r\n            cc.vv.utils.addClickEvent(btnClose, this.node, \"GameResult\", \"onBtnCloseClicked\");\r\n        }\r\n        var btnShare = cc.find(\"Canvas/game_result/btnShare\");\r\n        if (btnShare) {\r\n            cc.vv.utils.addClickEvent(btnShare, this.node, \"GameResult\", \"onBtnShareClicked\");\r\n        }\r\n        //初始化网络事件监听器\r\n        var self = this;\r\n        this.node.on('game_end', function(data) {\r\n            self.onGameEnd(data.detail);\r\n        });\r\n    },\r\n    showResult: function(seat, info, isZuiJiaPaoShou) {\r\n        seat.node.getChildByName(\"zuijiapaoshou\").active = isZuiJiaPaoShou;\r\n        seat.node.getChildByName(\"zimocishu\").getComponent(cc.Label).string = info.numzimo;\r\n        seat.node.getChildByName(\"jiepaocishu\").getComponent(cc.Label).string = info.numjiepao;\r\n        seat.node.getChildByName(\"dianpaocishu\").getComponent(cc.Label).string = info.numdianpao;\r\n        seat.node.getChildByName(\"angangcishu\").getComponent(cc.Label).string = info.numangang;\r\n        seat.node.getChildByName(\"minggangcishu\").getComponent(cc.Label).string = info.numminggang;\r\n        // seat.node.getChildByName(\"chajiaocishu\").getComponent(cc.Label).string = info.numchadajiao;\r\n    },\r\n    onGameEnd: function(endinfo) {\r\n        var seats = cc.vv.gameNetMgr.seats;\r\n        var maxscore = -1;\r\n        var maxdianpao = 0;\r\n        var dianpaogaoshou = -1;\r\n        for (var i = 0; i < seats.length; ++i) {\r\n            var seat = seats[i];\r\n            if (seat.score > maxscore) {\r\n                maxscore = seat.score;\r\n            }\r\n            if (endinfo[i].numdianpao > maxdianpao) {\r\n                maxdianpao = endinfo[i].numdianpao;\r\n                dianpaogaoshou = i;\r\n            }\r\n        }\r\n        for (var i = 0; i < seats.length; ++i) {\r\n            var seat = seats[i];\r\n            var isBigwin = false;\r\n            if (seat.score > 0) {\r\n                isBigwin = seat.score == maxscore;\r\n            }\r\n            this._seats[i].setInfo(seat.name, seat.score, isBigwin);\r\n            this._seats[i].setID(seat.userid);\r\n            var isZuiJiaPaoShou = dianpaogaoshou == i;\r\n            this.showResult(this._seats[i], endinfo[i], isZuiJiaPaoShou);\r\n        }\r\n    },\r\n    onBtnCloseClicked: function() {\r\n        //刷新客户端金币和钻石\r\n        cc.vv.userMgr.getGemsAndCoins(function(data) {\r\n            cc.vv.userMgr.gems = data.gems;\r\n            cc.vv.userMgr.coins = data.coins;\r\n        });\r\n        cc.director.loadScene(\"newhall\");\r\n    },\r\n    onBtnShareClicked: function() {\r\n        cc.vv.share.show();\r\n        // cc.vv.anysdkMgr.shareResult();\r\n    }\r\n});"
  ]
}
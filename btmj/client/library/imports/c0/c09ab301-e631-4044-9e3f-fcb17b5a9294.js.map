{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "_sprIcon",
    "_zhuang",
    "_ready",
    "_offline",
    "_lblName",
    "_lblScore",
    "_scoreBg",
    "_nddayingjia",
    "_voicemsg",
    "_chatBubble",
    "_emoji",
    "_lastChatTime",
    "_userName",
    "_score",
    "_dayingjia",
    "_isOffline",
    "_isReady",
    "_isZhuang",
    "_userId",
    "_fan",
    "onLoad",
    "vv",
    "node",
    "getChildByName",
    "getComponent",
    "Label",
    "active",
    "Button",
    "utils",
    "addClickEvent",
    "refresh",
    "setUserID",
    "onIconClicked",
    "iconSprite",
    "Sprite",
    "seat",
    "gameNetMgr",
    "getSeatByID",
    "sex",
    "baseInfoMap",
    "info",
    "string",
    "numOfGames",
    "setInfo",
    "name",
    "score",
    "fan",
    "setZhuang",
    "value",
    "setReady",
    "isReady",
    "setID",
    "id",
    "idNode",
    "lbl",
    "setOffline",
    "isOffline",
    "chat",
    "content",
    "emoji",
    "console",
    "log",
    "Animation",
    "play",
    "voiceMsg",
    "show",
    "update",
    "dt",
    "stop"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        _sprIcon: null,\r\n        _zhuang: null,\r\n        _ready: null,\r\n        _offline: null,\r\n        _lblName: null,\r\n        _lblScore: null,\r\n        _scoreBg: null,\r\n        _nddayingjia: null,\r\n        _voicemsg: null,\r\n        _chatBubble: null,\r\n        _emoji: null,\r\n        _lastChatTime: -1,\r\n        _userName: \"\",\r\n        _score: 0,\r\n        _dayingjia: false,\r\n        _isOffline: false,\r\n        _isReady: false,\r\n        _isZhuang: false,\r\n        _userId: null,\r\n        _fan: null,\r\n    },\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        if (cc.vv == null) {\r\n            return;\r\n        }\r\n        this._sprIcon = this.node.getChildByName(\"icon\").getComponent(\"ImageLoader\");\r\n        this._lblName = this.node.getChildByName(\"name\").getComponent(cc.Label);\r\n        this._lblScore = this.node.getChildByName(\"score\").getComponent(cc.Label);\r\n        this._voicemsg = this.node.getChildByName(\"voicemsg\");\r\n        if (this._voicemsg) {\r\n            this._voicemsg.active = false;\r\n        }\r\n        if (this._sprIcon && this._sprIcon.getComponent(cc.Button)) {\r\n            cc.vv.utils.addClickEvent(this._sprIcon, this.node, \"whSeat\", \"onIconClicked\");\r\n        }\r\n        this._offline = this.node.getChildByName(\"offline\");\r\n        this._fan = this.node.getChildByName(\"fan\") ? this.node.getChildByName(\"fan\").getComponent(cc.Label) : null;\r\n        this._ready = this.node.getChildByName(\"ready\");\r\n        this._zhuang = this.node.getChildByName(\"zhuang\");\r\n        this._scoreBg = this.node.getChildByName(\"Z_money_frame\");\r\n        this._nddayingjia = this.node.getChildByName(\"dayingjia\");\r\n        this._chatBubble = this.node.getChildByName(\"ChatBubble\");\r\n        if (this._chatBubble != null) {\r\n            this._chatBubble.active = false;\r\n        }\r\n        this._emoji = this.node.getChildByName(\"emoji\");\r\n        if (this._emoji != null) {\r\n            this._emoji.active = false;\r\n        }\r\n        this.refresh();\r\n        if (this._sprIcon && this._userId) {\r\n            this._sprIcon.setUserID(this._userId);\r\n        }\r\n    },\r\n    onIconClicked: function() {\r\n        var iconSprite = this._sprIcon.node.getComponent(cc.Sprite);\r\n        if (this._userId != null && this._userId > 0) {\r\n            var seat = cc.vv.gameNetMgr.getSeatByID(this._userId);\r\n            var sex = 0;\r\n            if (cc.vv.baseInfoMap) {\r\n                var info = cc.vv.baseInfoMap[this._userId];\r\n                if (info) {\r\n                    sex = info.sex;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    refresh: function() {\r\n        if (this._lblName != null) {\r\n            this._lblName.string = this._userName;\r\n        }\r\n        if (this._lblScore != null) {\r\n            this._lblScore.string = this._score;\r\n        }\r\n        if (this._nddayingjia != null) {\r\n            this._nddayingjia.active = this._dayingjia == true;\r\n        }\r\n        if (this._offline) {\r\n            this._offline.active = this._isOffline && this._userName != \"\";\r\n        }\r\n        if (this._ready) {\r\n            this._ready.active = this._isReady && (cc.vv.gameNetMgr.numOfGames > 0);\r\n        }\r\n        if (this._zhuang) {\r\n            this._zhuang.active = this._isZhuang;\r\n        }\r\n        this.node.active = this._userName != null && this._userName != \"\";\r\n    },\r\n    setInfo: function(name, score, fan) {\r\n        this._userName = name;\r\n        this._score = score;\r\n        if (this._score == null) {\r\n            this._score = 0;\r\n        }\r\n        if (this._scoreBg != null) {\r\n            this._scoreBg.active = this._score != null;\r\n        }\r\n        if (this._lblScore != null) {\r\n            this._lblScore.node.active = this._score != null;\r\n        }\r\n        if (this._fan) {\r\n            this._fan.string = fan ? (fan + \"番\") : \"0番\";\r\n        }\r\n        this.refresh();\r\n    },\r\n    setZhuang: function(value) {\r\n        this._isZhuang = value;\r\n        if (this._zhuang) {\r\n            this._zhuang.active = value;\r\n        } else {\r\n            this._zhuang = this.node.getChildByName(\"zhuang\");\r\n            this._zhuang.active = value;\r\n        }\r\n    },\r\n    setReady: function(isReady) {\r\n        this._isReady = isReady;\r\n        if (this._ready) {\r\n            this._ready.active = this._isReady && (cc.vv.gameNetMgr.numOfGames > 0);\r\n        }\r\n    },\r\n    setID: function(id) {\r\n        var idNode = this.node.getChildByName(\"id\");\r\n        if (idNode) {\r\n            var lbl = idNode.getComponent(cc.Label);\r\n            lbl.string = \"ID:\" + id;\r\n        }\r\n        this._userId = id;\r\n        if (this._sprIcon) {\r\n            this._sprIcon.setUserID(id);\r\n        }\r\n    },\r\n    setOffline: function(isOffline) {\r\n        this._isOffline = isOffline;\r\n        if (this._offline) {\r\n            this._offline.active = this._isOffline && this._userName != \"\";\r\n        }\r\n    },\r\n    chat: function(content) {\r\n        if (this._chatBubble == null || this._emoji == null) {\r\n            return;\r\n        }\r\n        this._emoji.active = false;\r\n        this._chatBubble.active = true;\r\n        this._chatBubble.getComponent(cc.Label).string = content;\r\n        this._chatBubble.getChildByName(\"New Label\").getComponent(cc.Label).string = content;\r\n        this._lastChatTime = 3;\r\n    },\r\n    emoji: function(emoji) {\r\n        //emoji = JSON.parse(emoji);\r\n        if (this._emoji == null || this._emoji == null) {\r\n            return;\r\n        }\r\n        console.log(emoji);\r\n        this._chatBubble.active = false;\r\n        this._emoji.active = true;\r\n        this._emoji.getComponent(cc.Animation).play(emoji);\r\n        this._lastChatTime = 3;\r\n    },\r\n    voiceMsg: function(show) {\r\n        if (this._voicemsg) {\r\n            this._voicemsg.active = show;\r\n        }\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function(dt) {\r\n        if (this._lastChatTime > 0) {\r\n            this._lastChatTime -= dt;\r\n            if (this._lastChatTime < 0) {\r\n                this._chatBubble.active = false;\r\n                this._emoji.active = false;\r\n                this._emoji.getComponent(cc.Animation).stop();\r\n            }\r\n        }\r\n    },\r\n});"
  ]
}
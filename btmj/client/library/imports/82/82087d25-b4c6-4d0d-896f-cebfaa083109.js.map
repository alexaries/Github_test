{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "_sprIcon",
    "_zhuang",
    "_ready",
    "_offline",
    "_lblName",
    "_lblScore",
    "_scoreBg",
    "_nddayingjia",
    "_voicemsg",
    "_chatBubble",
    "_emoji",
    "_lastChatTime",
    "_userName",
    "_score",
    "_dayingjia",
    "_isOffline",
    "_isReady",
    "_isZhuang",
    "_userId",
    "onLoad",
    "vv",
    "node",
    "getChildByName",
    "getComponent",
    "Label",
    "active",
    "Button",
    "utils",
    "addClickEvent",
    "refresh",
    "setUserID",
    "onIconClicked",
    "iconSprite",
    "Sprite",
    "seat",
    "gameNetMgr",
    "getSeatByID",
    "sex",
    "baseInfoMap",
    "info",
    "string",
    "numOfGames",
    "setInfo",
    "name",
    "score",
    "dayingjia",
    "setZhuang",
    "value",
    "setReady",
    "isReady",
    "setID",
    "id",
    "idNode",
    "lbl",
    "setOffline",
    "isOffline",
    "chat",
    "content",
    "emoji",
    "console",
    "log",
    "Animation",
    "play",
    "voiceMsg",
    "show",
    "update",
    "dt",
    "stop"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        _sprIcon: null,\r\n        _zhuang: null,\r\n        _ready: null,\r\n        _offline: null,\r\n        _lblName: null,\r\n        _lblScore: null,\r\n        _scoreBg: null,\r\n        _nddayingjia: null,\r\n        _voicemsg: null,\r\n        _chatBubble: null,\r\n        _emoji: null,\r\n        _lastChatTime: -1,\r\n        _userName: \"\",\r\n        _score: 0,\r\n        _dayingjia: false,\r\n        _isOffline: false,\r\n        _isReady: false,\r\n        _isZhuang: false,\r\n        _userId: null,\r\n    },\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        if (cc.vv == null) {\r\n            return;\r\n        }\r\n        this._sprIcon = this.node.getChildByName(\"icon\").getComponent(\"ImageLoader\");\r\n        this._lblName = this.node.getChildByName(\"name\").getComponent(cc.Label);\r\n        this._lblScore = this.node.getChildByName(\"score\").getComponent(cc.Label);\r\n        this._voicemsg = this.node.getChildByName(\"voicemsg\");\r\n        if (this._voicemsg) {\r\n            this._voicemsg.active = false;\r\n        }\r\n        if (this._sprIcon && this._sprIcon.getComponent(cc.Button)) {\r\n            cc.vv.utils.addClickEvent(this._sprIcon, this.node, \"Seat\", \"onIconClicked\");\r\n        }\r\n        this._offline = this.node.getChildByName(\"offline\");\r\n        this._ready = this.node.getChildByName(\"ready\");\r\n        this._zhuang = this.node.getChildByName(\"zhuang\");\r\n        this._scoreBg = this.node.getChildByName(\"Z_money_frame\");\r\n        this._nddayingjia = this.node.getChildByName(\"dayingjia\");\r\n        this._chatBubble = this.node.getChildByName(\"ChatBubble\");\r\n        if (this._chatBubble != null) {\r\n            this._chatBubble.active = false;\r\n        }\r\n        this._emoji = this.node.getChildByName(\"emoji\");\r\n        if (this._emoji != null) {\r\n            this._emoji.active = false;\r\n        }\r\n        this.refresh();\r\n        if (this._sprIcon && this._userId) {\r\n            this._sprIcon.setUserID(this._userId);\r\n        }\r\n    },\r\n    onIconClicked: function() {\r\n        var iconSprite = this._sprIcon.node.getComponent(cc.Sprite);\r\n        if (this._userId != null && this._userId > 0) {\r\n            var seat = cc.vv.gameNetMgr.getSeatByID(this._userId);\r\n            var sex = 0;\r\n            if (cc.vv.baseInfoMap) {\r\n                var info = cc.vv.baseInfoMap[this._userId];\r\n                if (info) {\r\n                    sex = info.sex;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    refresh: function() {\r\n        if (this._lblName != null) {\r\n            this._lblName.string = this._userName;\r\n        }\r\n        if (this._lblScore != null) {\r\n            this._lblScore.string = this._score;\r\n        }\r\n        if (this._nddayingjia != null) {\r\n            this._nddayingjia.active = this._dayingjia == true;\r\n        }\r\n        if (this._offline) {\r\n            this._offline.active = this._isOffline && this._userName != \"\";\r\n        }\r\n        if (this._ready) {\r\n            this._ready.active = this._isReady && (cc.vv.gameNetMgr.numOfGames > 0);\r\n        }\r\n        if (this._zhuang) {\r\n            this._zhuang.active = this._isZhuang;\r\n        }\r\n        this.node.active = this._userName != null && this._userName != \"\";\r\n    },\r\n    setInfo(name, score, dayingjia) {\r\n        this._userName = name;\r\n        this._score = score;\r\n        if (this._score == null) {\r\n            this._score = 0;\r\n        }\r\n        this._dayingjia = dayingjia;\r\n        if (this._scoreBg != null) {\r\n            this._scoreBg.active = this._score != null;\r\n        }\r\n        if (this._lblScore != null) {\r\n            this._lblScore.node.active = this._score != null;\r\n        }\r\n        this.refresh();\r\n    },\r\n    setZhuang: function(value) {\r\n        this._isZhuang = value;\r\n        if (this._zhuang) {\r\n            this._zhuang.active = value;\r\n        }else{\r\n            this._zhuang = this.node.getChildByName(\"zhuang\");\r\n            this._zhuang.active = value;\r\n        }\r\n    },\r\n    setReady: function(isReady) {\r\n        this._isReady = isReady;\r\n        if (this._ready) {\r\n            this._ready.active = this._isReady && (cc.vv.gameNetMgr.numOfGames > 0);\r\n        }\r\n    },\r\n    setID: function(id) {\r\n        var idNode = this.node.getChildByName(\"id\");\r\n        if (idNode) {\r\n            var lbl = idNode.getComponent(cc.Label);\r\n            lbl.string = \"ID:\" + id;\r\n        }\r\n        this._userId = id;\r\n        if (this._sprIcon) {\r\n            this._sprIcon.setUserID(id);\r\n        }\r\n    },\r\n    setOffline: function(isOffline) {\r\n        this._isOffline = isOffline;\r\n        if (this._offline) {\r\n            this._offline.active = this._isOffline && this._userName != \"\";\r\n        }\r\n    },\r\n    chat: function(content) {\r\n        if (this._chatBubble == null || this._emoji == null) {\r\n            return;\r\n        }\r\n        this._emoji.active = false;\r\n        this._chatBubble.active = true;\r\n        this._chatBubble.getComponent(cc.Label).string = content;\r\n        this._chatBubble.getChildByName(\"New Label\").getComponent(cc.Label).string = content;\r\n        this._lastChatTime = 3;\r\n    },\r\n    emoji: function(emoji) {\r\n        //emoji = JSON.parse(emoji);\r\n        if (this._emoji == null || this._emoji == null) {\r\n            return;\r\n        }\r\n        console.log(emoji);\r\n        this._chatBubble.active = false;\r\n        this._emoji.active = true;\r\n        this._emoji.getComponent(cc.Animation).play(emoji);\r\n        this._lastChatTime = 3;\r\n    },\r\n    voiceMsg: function(show) {\r\n        if (this._voicemsg) {\r\n            this._voicemsg.active = show;\r\n        }\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function(dt) {\r\n        if (this._lastChatTime > 0) {\r\n            this._lastChatTime -= dt;\r\n            if (this._lastChatTime < 0) {\r\n                this._chatBubble.active = false;\r\n                this._emoji.active = false;\r\n                this._emoji.getComponent(cc.Animation).stop();\r\n            }\r\n        }\r\n    },\r\n});"
  ]
}
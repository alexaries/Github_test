{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "_share",
    "_linkPanel",
    "Node",
    "_QRCodePanel",
    "_headIcon",
    "Sprite",
    "_shareInfo",
    "Label",
    "_shareType",
    "_btnLink",
    "default",
    "type",
    "Button",
    "_btnQRCode",
    "_spriteFrame",
    "_shareRoomId",
    "_sprQRCode",
    "onLoad",
    "vv",
    "initUI",
    "share",
    "find",
    "getChildByName",
    "getComponent",
    "userMgr",
    "shareRoomId",
    "gameNetMgr",
    "roomId",
    "onCloseBtnClicked",
    "console",
    "log",
    "active",
    "onLinkBtnClicked",
    "toggleStatue",
    "onQRcodeBtnClicked",
    "interactable",
    "getShareLinkInfo",
    "getShareQRCodeInfo",
    "show",
    "shareTitle",
    "shareContent",
    "userName",
    "string",
    "sys",
    "isNative",
    "document",
    "title",
    "window",
    "wxFriend",
    "desc",
    "shareUrl",
    "yaoqingUrl",
    "link",
    "shareMessage",
    "ImageLoader",
    "node",
    "setUserID",
    "userId",
    "onDestory"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "// 微信分享相关逻辑处理\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        _share: null,\n        _linkPanel: cc.Node,\n        _QRCodePanel: cc.Node,\n        _headIcon: cc.Sprite,\n        _shareInfo: cc.Label,\n        _shareType: 0,\n        _btnLink: {\n            default: null,\n            type: cc.Button\n        },\n        _btnQRCode: {\n            default: null,\n            type: cc.Button\n        },\n        _spriteFrame: null,\n        _shareRoomId: null,\n        _sprQRCode: cc.Sprite,\n    },\n    onLoad: function() {\n        if (cc.vv == null) {\n            return;\n        }\n        this.initUI()\n        cc.vv.share = this;\n    },\n    initUI: function() {\n        this._share = cc.find(\"Canvas/share\");\n        this._linkPanel = cc.find(\"Canvas/share/link_panel\");\n        this._QRCodePanel = cc.find(\"Canvas/share/QR_code_panel\");\n        this._headIcon = this._linkPanel.getChildByName(\"headicon\");\n        this._shareInfo = this._linkPanel.getChildByName(\"shareinfo\");\n        this._btnLink = cc.find(\"Canvas/share/button_link\").getComponent(cc.Button);\n        this._btnQRCode = cc.find(\"Canvas/share/button_qrcode\").getComponent(cc.Button);\n        this._sprQRCode = cc.find(\"Canvas/share/QR_code_panel/QRCodeImg\").getComponent(cc.Sprite);\n        this._shareRoomId = cc.vv.userMgr.shareRoomId || cc.vv.gameNetMgr.roomId;\n    },\n    onCloseBtnClicked: function() {\n        console.log('关闭按钮点击');\n        this._share.active = false;\n    },\n    onLinkBtnClicked: function() {\n        console.log('链接邀请按钮点击');\n        this._shareType = 1;\n        this.toggleStatue();\n    },\n    onQRcodeBtnClicked: function() {\n        console.log('二维码分享按钮点击');\n        this._shareType = 2;\n        this.toggleStatue();\n    },\n    toggleStatue: function() {\n        if (this._shareType == 1) {\n            this._linkPanel.active = true;\n            this._QRCodePanel.active = false;\n            this._btnLink.interactable = false;\n            this._btnQRCode.interactable = true;\n            this.getShareLinkInfo();\n        } else {\n            this._btnLink.interactable = true;\n            this._btnQRCode.interactable = false;\n            this._linkPanel.active = false;\n            this._QRCodePanel.active = true;\n            this.getShareQRCodeInfo();\n        }\n    },\n    show: function() {\n        this._share.active = true;\n        this._shareType = 1;\n        this.toggleStatue();\n    },\n    getShareLinkInfo: function() {\n        var shareTitle = \"亚巨棋牌\";\n        var shareContent = \"我邀请你来玩亚巨棋牌，最火热的棋牌游戏，包含各种主流及地方棋牌游戏种类，快上车吧！\";\n        if (cc.vv.userMgr.userName) {\n            shareContent = cc.vv.userMgr.userName + \"邀请你来玩亚巨棋牌，最火热的棋牌游戏，包含各种主流及地方棋牌游戏种类，快上车吧！\";\n        };\n        if (this._shareRoomId) {\n            shareContent = shareContent + \"房间号是:\" + this._shareRoomId;\n        };\n        this._shareInfo.getComponent(cc.Label).string = shareContent;\n        if (!cc.sys.isNative) {\n            document.title = window.wxFriend.title = shareTitle;\n            window.wxFriend.desc = shareContent;\n            if(cc.vv.gameNetMgr.roomId && cc.vv.gameNetMgr.roomId != null){\n                var shareUrl = cc.vv.userMgr.yaoqingUrl + cc.vv.gameNetMgr.roomId;\n            }else{\n                var shareUrl = cc.vv.userMgr.yaoqingUrl + \"000000\";\n            }\n            window.wxFriend.link = shareUrl;\n            window.shareMessage();\n        }\n    },\n    // 加载二维码\n    getShareQRCodeInfo: function() {\n        var ImageLoader = this._sprQRCode.node.getComponent(\"ImageLoader\");\n        ImageLoader.setUserID(cc.vv.userMgr.userId, 1);\n    },\n    onDestory: function() {\n        if (cc.vv) {\n            cc.vv.share = null;\n        }\n    }\n});"
  ]
}
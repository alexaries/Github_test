{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "_gameover",
    "_gameresult",
    "_seats",
    "_isGameEnd",
    "_pingju",
    "_win",
    "_lose",
    "onLoad",
    "vv",
    "gameNetMgr",
    "conf",
    "node",
    "getChildByName",
    "active",
    "_liuju",
    "wanfa",
    "getComponent",
    "Label",
    "string",
    "getWanfa",
    "listRoot",
    "i",
    "s",
    "sn",
    "viewdata",
    "username",
    "reason",
    "f",
    "fan",
    "score",
    "hu",
    "mahjongs",
    "zhuang",
    "hupai",
    "hua",
    "_pengandgang",
    "push",
    "self",
    "on",
    "data",
    "onGameOver",
    "detail",
    "console",
    "log",
    "length",
    "myscore",
    "seatIndex",
    "sCtx",
    "winScore",
    "isLiuJu",
    "seatView",
    "userData",
    "hued",
    "numOfGangs",
    "angangs",
    "wangangs",
    "diangangs",
    "numOfGen",
    "numofgen",
    "actionArr",
    "is7pairs",
    "ischadajiao",
    "j",
    "actions",
    "ac",
    "type",
    "seatDataContext",
    "fanCountMap",
    "k",
    "feng_view",
    "feng_show_name",
    "isSanYangKaiTai",
    "isGuangMingDing",
    "isJinDing",
    "isFengDing",
    "children",
    "name",
    "baseFen",
    "isBaoPai",
    "o",
    "huorder",
    "seats",
    "button",
    "join",
    "Math",
    "floor",
    "losedScore",
    "hu_index",
    "holds",
    "indexOf",
    "splice",
    "mahjongmgr",
    "sortMJ",
    "childrenCount",
    "n",
    "lackingNum",
    "pengs",
    "chis",
    "pai",
    "sprite",
    "Sprite",
    "spriteFrame",
    "getSpriteFrameByMJID",
    "index",
    "gangs",
    "mjid",
    "initPengAndGangs",
    "mjids",
    "flag",
    "pgroot",
    "instantiate",
    "pengPrefabSelf",
    "addChild",
    "sprites",
    "getComponentsInChildren",
    "isGang",
    "scaleX",
    "scaleY",
    "getEmptySpriteFrame",
    "x",
    "onBtnReadyClicked",
    "net",
    "send",
    "onBtnShareClicked"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        _gameover: null,\r\n        _gameresult: null,\r\n        _seats: [],\r\n        _isGameEnd: false,\r\n        _pingju: null,\r\n        _win: null,\r\n        _lose: null,\r\n    },\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        if (cc.vv == null) {\r\n            return;\r\n        }\r\n        if (cc.vv.gameNetMgr.conf == null) {\r\n            return;\r\n        }\r\n        this._gameover = this.node.getChildByName(\"game_over\");\r\n        this._gameover.active = false;\r\n        this._pingju = this._gameover.getChildByName(\"pingju\");\r\n        this._win = this._gameover.getChildByName(\"win\");\r\n        this._lose = this._gameover.getChildByName(\"lose\");\r\n        this._liuju = this._gameover.getChildByName(\"huangzhuang\");\r\n        this._gameresult = this.node.getChildByName(\"game_result\");\r\n        var wanfa = this._gameover.getChildByName(\"wanfa\").getComponent(cc.Label);\r\n        wanfa.string = cc.vv.gameNetMgr.getWanfa();\r\n        var listRoot = this._gameover.getChildByName(\"result_list\");\r\n        for (var i = 1; i <= 4; ++i) {\r\n            var s = \"s\" + i;\r\n            var sn = listRoot.getChildByName(s);\r\n            var viewdata = {};\r\n            viewdata.username = sn.getChildByName('username').getComponent(cc.Label);\r\n            viewdata.reason = sn.getChildByName('reason').getComponent(cc.Label);\r\n            var f = sn.getChildByName('fan');\r\n            if (f != null) {\r\n                viewdata.fan = f.getComponent(cc.Label);\r\n            }\r\n            viewdata.score = sn.getChildByName('score').getComponent(cc.Label);\r\n            viewdata.hu = sn.getChildByName('hu');\r\n            viewdata.mahjongs = sn.getChildByName('pai');\r\n            viewdata.zhuang = sn.getChildByName('zhuang');\r\n            viewdata.hupai = sn.getChildByName('hupai');\r\n            viewdata.hua = sn.getChildByName('hua');\r\n            viewdata._pengandgang = [];\r\n            this._seats.push(viewdata);\r\n        }\r\n        //初始化网络事件监听器\r\n        var self = this;\r\n        this.node.on('game_over', function(data) {\r\n            self.onGameOver(data.detail);\r\n        });\r\n        this.node.on('game_end', function(data) {\r\n            self._isGameEnd = true;\r\n        });\r\n    },\r\n    onGameOver(data) {\r\n        console.log(data);\r\n        if (data.length == 0) {\r\n            this._gameresult.active = true;\r\n            return;\r\n        }\r\n        this._gameover.active = true;\r\n        this._pingju.active = false;\r\n        this._win.active = false;\r\n        this._lose.active = false;\r\n        this._liuju.active = false;\r\n        // var myscore = data[cc.vv.gameNetMgr.seatIndex].score;\r\n        var myscore = data[cc.vv.gameNetMgr.seatIndex].sCtx.winScore;\r\n\r\n        var isLiuJu = data[cc.vv.gameNetMgr.seatIndex].isLiuJu;\r\n        if (isLiuJu) {\r\n            this._liuju.active = true;\r\n        } else {\r\n            if (myscore > 0) {\r\n                this._win.active = true;\r\n            } else {\r\n                this._lose.active = true;\r\n            }\r\n        }\r\n        //显示玩家信息\r\n        for (var i = 0; i < 4; ++i) {\r\n            var seatView = this._seats[i];\r\n            var userData = data[i];\r\n            var hued = false;\r\n            //胡牌的玩家才显示 是否清一色 根xn的字样\r\n            var numOfGangs = userData.angangs.length + userData.wangangs.length + userData.diangangs.length;\r\n            var numOfGen = userData.numofgen;\r\n            var actionArr = [];\r\n            var is7pairs = false;\r\n            var ischadajiao = false;\r\n            for (var j = 0; j < userData.actions.length; ++j) {\r\n                var ac = userData.actions[j];\r\n                if (ac.type == \"zimo\" || ac.type == \"ganghua\" || ac.type == \"dianganghua\" || ac.type == \"hu\" || ac.type == \"gangpaohu\" || ac.type == \"qiangganghu\" || ac.type == \"chadajiao\") {\r\n                    if (ac.type == \"zimo\") {\r\n                        actionArr.push(\"自摸\");\r\n                    } else if (ac.type == \"ganghua\") {\r\n                        actionArr.push(\"杠上花\");\r\n                    }\r\n                    hued = true;\r\n                } else if (ac.type == \"fangpao\") {\r\n                    actionArr.push(\"放炮\");\r\n                }\r\n            }\r\n            var seatDataContext = userData.sCtx;\r\n            if (seatDataContext) {\r\n                console.log('seatDataContext', seatDataContext);\r\n                //胡牌类型\r\n                var fanCountMap = seatDataContext.fanCountMap;\r\n                for (var k in fanCountMap) {\r\n                    if (k == 'hasKaiKou' && fanCountMap[k] == 0) {\r\n                        actionArr.push(\"未开口\");\r\n                    }\r\n                    if (fanCountMap[k] > 0) {\r\n                        switch (k) {\r\n                            case 'an_gang':\r\n                                actionArr.push(\"暗杠*\" + fanCountMap[k]);\r\n                                break;\r\n                            case 'chi':\r\n                                actionArr.push(\"吃*\" + fanCountMap[k]);\r\n                                break;\r\n                            case 'fengYiSe':\r\n                                actionArr.push(\"风一色\");\r\n                                break;\r\n                            case 'gangKai':\r\n                                actionArr.push(\"杠开\");\r\n                                break;\r\n                            case 'haiDiLaoYue':\r\n                                actionArr.push(\"海底捞月\");\r\n                                break;\r\n                            case 'hardHu':\r\n                                actionArr.push(\"硬胡\");\r\n                                break;\r\n                                // case 'hasKaiKou':\r\n                                //     actionArr.push(\"开口\");\r\n                                //     break;\r\n                            case 'lian_laiZi':\r\n                                actionArr.push(\"连赖\");\r\n                                break;\r\n                            case 'ming_gang':\r\n                                actionArr.push(\"明杠*\" + fanCountMap[k]);\r\n                                break;\r\n                            case 'peng':\r\n                                actionArr.push(\"碰*\" + fanCountMap[k]);\r\n                                break;\r\n                            case 'pengPengHu':\r\n                                actionArr.push(\"碰碰胡\");\r\n                                break;\r\n                            case 'piHu':\r\n                                actionArr.push(\"屁胡\");\r\n                                break;\r\n                            case 'pizi_single_gang':\r\n                                actionArr.push(\"皮子杠*\" + fanCountMap[k]);\r\n                                break;\r\n                            case 'hongZhong_single_gang':\r\n                                actionArr.push(\"红中杠*\" + fanCountMap[k]);\r\n                                break;\r\n                            case 'laizi_single_gang':\r\n                                actionArr.push(\"赖子杠*\" + fanCountMap[k]);\r\n                                break;\r\n                            case 'qingYiSe':\r\n                                actionArr.push(\"清一色\");\r\n                                break;\r\n                            case 'quanQiuRen':\r\n                                actionArr.push(\"全求人\");\r\n                                break;\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                //封顶统计\r\n                var feng_view = seatView.hua;\r\n                feng_view.active = false;\r\n                var feng_show_name = null;\r\n                if (seatDataContext.isSanYangKaiTai) {\r\n                    feng_show_name = \"san\";\r\n                } else if (seatDataContext.isGuangMingDing) {\r\n                    feng_show_name = \"guang\";\r\n                } else if (seatDataContext.isJinDing) {\r\n                    feng_show_name = \"jin\";\r\n                } else if (seatDataContext.isFengDing) {\r\n                    feng_show_name = \"feng\";\r\n                }\r\n                if (feng_show_name != null) {\r\n                    feng_view.active = true;\r\n                    for (var f in feng_view.children) {\r\n                        if (feng_view.children[f].name == feng_show_name) {\r\n                            feng_view.children[f].active = true;\r\n                        } else {\r\n                            feng_view.children[f].active = false;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                //底分显示\r\n                if (seatDataContext.baseFen) {\r\n                    actionArr.push(\"底分*\" + seatDataContext.baseFen);\r\n                }\r\n            }\r\n            //包牌显示\r\n            if (userData.isBaoPai) {\r\n                actionArr.push(\"包牌\");\r\n            }\r\n            for (var o = 0; o < 3; ++o) {\r\n                seatView.hu.children[o].active = false;\r\n            }\r\n            //FIXME 隐藏第几个胡牌的\r\n            if (userData.huorder >= 0) {\r\n                seatView.hu.children[userData.huorder].active = true;\r\n            }\r\n            seatView.username.string = cc.vv.gameNetMgr.seats[i].name;\r\n            seatView.zhuang.active = cc.vv.gameNetMgr.button == i;\r\n            seatView.reason.string = actionArr.join(\"、\");\r\n            //胡牌的玩家才有番\r\n            var fan = 0;\r\n            // if (hued) {\r\n            fan = userData.sCtx.fan;\r\n            // }\r\n            seatView.fan.string = fan + \"番\";\r\n            //\r\n            var winScore = Math.floor(userData.sCtx.winScore);\r\n            var losedScore = Math.floor(userData.sCtx.losedScore);\r\n            if (winScore > 0) {\r\n                seatView.score.string = \"+\" + winScore;\r\n            } else if (losedScore > 0) {\r\n                seatView.score.string = \"-\" + losedScore;\r\n            } else {\r\n                seatView.score.string = 0;\r\n            }\r\n            var hupai = -1;\r\n            if (hued) {\r\n                hupai = userData.hupai;\r\n                //从手牌中剔除胡的那张牌 \r\n                var hu_index = userData.holds.indexOf(hupai);\r\n                userData.holds.splice(hu_index, 1);\r\n            }\r\n            cc.vv.mahjongmgr.sortMJ(userData.holds);\r\n            //胡牌不参与排序\r\n            if (hued) {\r\n                userData.holds.push(hupai);\r\n            }\r\n            //隐藏所有牌\r\n            for (var k = 0; k < seatView.mahjongs.childrenCount; ++k) {\r\n                var n = seatView.mahjongs.children[k];\r\n                n.active = false;\r\n            }\r\n            var lackingNum = (userData.pengs.length + numOfGangs + userData.chis.length) * 3;\r\n            //显示相关的牌\r\n            for (var k = 0; k < userData.holds.length; ++k) {\r\n                var pai = userData.holds[k];\r\n                var n = seatView.mahjongs.children[k + lackingNum];\r\n                n.active = true;\r\n                var sprite = n.getComponent(cc.Sprite);\r\n                sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"M_\", pai);\r\n            }\r\n            for (var k = 0; k < seatView._pengandgang.length; ++k) {\r\n                seatView._pengandgang[k].active = false;\r\n            }\r\n            //初始化杠牌\r\n            var index = 0;\r\n            var gangs = userData.angangs;\r\n            for (var k = 0; k < gangs.length; ++k) {\r\n                var mjid = gangs[k];\r\n                this.initPengAndGangs(seatView, index, mjid, \"angang\");\r\n                index++;\r\n            }\r\n            var gangs = userData.diangangs;\r\n            for (var k = 0; k < gangs.length; ++k) {\r\n                var mjid = gangs[k];\r\n                this.initPengAndGangs(seatView, index, mjid, \"diangang\");\r\n                index++;\r\n            }\r\n            var gangs = userData.wangangs;\r\n            for (var k = 0; k < gangs.length; ++k) {\r\n                var mjid = gangs[k];\r\n                this.initPengAndGangs(seatView, index, mjid, \"wangang\");\r\n                index++;\r\n            }\r\n            //初始化碰牌\r\n            var pengs = userData.pengs;\r\n            if (pengs) {\r\n                for (var k = 0; k < pengs.length; ++k) {\r\n                    var mjid = pengs[k];\r\n                    this.initPengAndGangs(seatView, index, mjid, \"peng\");\r\n                    index++;\r\n                }\r\n            }\r\n            //初始化吃牌\r\n            var chis = userData.chis;\r\n            if (chis) {\r\n                for (var k = 0; k < chis.length; ++k) {\r\n                    var mjids = chis[k];\r\n                    if (mjids) {\r\n                        this.initPengAndGangs(seatView, index, mjids, \"chi\");\r\n                        index++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    initPengAndGangs: function(seatView, index, mjid, flag) {\r\n        var pgroot = null;\r\n        if (seatView._pengandgang.length <= index) {\r\n            pgroot = cc.instantiate(cc.vv.mahjongmgr.pengPrefabSelf);\r\n            seatView._pengandgang.push(pgroot);\r\n            seatView.mahjongs.addChild(pgroot);\r\n        } else {\r\n            pgroot = seatView._pengandgang[index];\r\n            pgroot.active = true;\r\n        }\r\n        var sprites = pgroot.getComponentsInChildren(cc.Sprite);\r\n        for (var s = 0; s < sprites.length; ++s) {\r\n            var sprite = sprites[s];\r\n            if (sprite.node.name == \"gang\") {\r\n                var isGang = (flag != \"peng\" && flag != \"chi\");\r\n                sprite.node.active = isGang;\r\n                sprite.node.scaleX = 1.0;\r\n                sprite.node.scaleY = 1.0;\r\n                if (flag == \"angang\") {\r\n                    sprite.spriteFrame = cc.vv.mahjongmgr.getEmptySpriteFrame(\"myself\");\r\n                    sprite.node.scaleX = 1.4;\r\n                    sprite.node.scaleY = 1.4;\r\n                } else {\r\n                    if (flag == \"chi\") {\r\n                        sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"B_\", mjid[s]);\r\n                    } else {\r\n                        sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"B_\", mjid);\r\n                    }\r\n                }\r\n            } else {\r\n                if (flag == \"chi\") {\r\n                    sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"B_\", mjid[s]);\r\n                } else {\r\n                    sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"B_\", mjid);\r\n                }\r\n            }\r\n        }\r\n        pgroot.x = index * 55 * 3 + index * 10;\r\n    },\r\n    onBtnReadyClicked: function() {\r\n        console.log(\"onBtnReadyClicked\");\r\n        if (this._isGameEnd) {\r\n            this._gameresult.active = true;\r\n        } else {\r\n            cc.vv.net.send('ready');\r\n        }\r\n        this._gameover.active = false;\r\n    },\r\n    onBtnShareClicked: function() {\r\n            console.log(\"onBtnShareClicked\");\r\n        }\r\n        // called every frame, uncomment this function to activate update callback\r\n        // update: function (dt) {\r\n        // },\r\n});"
  ]
}
{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "onLoad",
    "vv",
    "gameChild",
    "node",
    "getChildByName",
    "myself",
    "pengangroot",
    "realwidth",
    "director",
    "getVisibleSize",
    "width",
    "scale",
    "scaleX",
    "scaleY",
    "self",
    "on",
    "data",
    "console",
    "log",
    "detail",
    "onPengGangChanged",
    "seatData",
    "onGameBein",
    "seats",
    "gameNetMgr",
    "i",
    "hideSide",
    "side",
    "childrenCount",
    "children",
    "active",
    "angangs",
    "diangangs",
    "wangangs",
    "pengs",
    "chis",
    "localIndex",
    "getLocalIndex",
    "seatindex",
    "mahjongmgr",
    "getSide",
    "pre",
    "getFoldPre",
    "index",
    "gangs",
    "length",
    "mjid",
    "initPengAndGangs",
    "debug",
    "mjids",
    "initChis",
    "flag",
    "info",
    "pgroot",
    "instantiate",
    "pengPrefabLeft",
    "pengPrefabSelf",
    "addChild",
    "y",
    "setLocalZOrder",
    "x",
    "sprites",
    "getComponentsInChildren",
    "Sprite",
    "s",
    "sprite",
    "name",
    "isGang",
    "spriteFrame",
    "getEmptySpriteFrame",
    "getSpriteFrameByMJID"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n    },\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        if (!cc.vv) {\r\n            return;\r\n        }\r\n        var gameChild = this.node.getChildByName(\"game\");\r\n        var myself = gameChild.getChildByName(\"myself\");\r\n        var pengangroot = myself.getChildByName(\"penggangs\");\r\n        var realwidth = cc.director.getVisibleSize().width;\r\n        var scale = realwidth / 1280;\r\n        pengangroot.scaleX *= scale;\r\n        pengangroot.scaleY *= scale;\r\n        var self = this;\r\n        this.node.on('peng_notify', function(data) {\r\n            //刷新所有的牌\r\n            console.log(\"peng_notify\", data.detail);\r\n            var data = data.detail;\r\n            self.onPengGangChanged(data);\r\n        });\r\n        this.node.on('chi_notify', function(data) {\r\n            //刷新所有的牌\r\n            console.log(\"chi_notify-----penggang\", data.detail);\r\n            var data = data.detail;\r\n            self.onPengGangChanged(data);\r\n        });\r\n        this.node.on('gang_notify', function(data) {\r\n            //刷新所有的牌\r\n            //console.log(data.detail);\r\n            var data = data.detail;\r\n            self.onPengGangChanged(data.seatData);\r\n        });\r\n        this.node.on('game_begin', function(data) {\r\n            self.onGameBein();\r\n        });\r\n        var seats = cc.vv.gameNetMgr.seats;\r\n        for (var i in seats) {\r\n            this.onPengGangChanged(seats[i]);\r\n        }\r\n    },\r\n    onGameBein: function() {\r\n        this.hideSide(\"myself\");\r\n        this.hideSide(\"right\");\r\n        this.hideSide(\"up\");\r\n        this.hideSide(\"left\");\r\n    },\r\n    hideSide: function(side) {\r\n        var gameChild = this.node.getChildByName(\"game\");\r\n        var myself = gameChild.getChildByName(side);\r\n        var pengangroot = myself.getChildByName(\"penggangs\");\r\n        if (pengangroot) {\r\n            for (var i = 0; i < pengangroot.childrenCount; ++i) {\r\n                pengangroot.children[i].active = false;\r\n            }\r\n        }\r\n    },\r\n    onPengGangChanged: function(seatData) {\r\n        if (seatData.angangs == null && seatData.diangangs == null && seatData.wangangs == null && seatData.pengs == null && seatData.chis == null) {\r\n            return;\r\n        }\r\n        var localIndex = cc.vv.gameNetMgr.getLocalIndex(seatData.seatindex);\r\n        var side = cc.vv.mahjongmgr.getSide(localIndex);\r\n        var pre = cc.vv.mahjongmgr.getFoldPre(localIndex);\r\n        console.log(\"onPengGangChanged\" + localIndex);\r\n        var gameChild = this.node.getChildByName(\"game\");\r\n        var myself = gameChild.getChildByName(side);\r\n        var pengangroot = myself.getChildByName(\"penggangs\");\r\n        for (var i = 0; i < pengangroot.childrenCount; ++i) {\r\n            pengangroot.children[i].active = false;\r\n        }\r\n        //初始化杠牌\r\n        var index = 0;\r\n        var gangs = seatData.angangs;\r\n        if (gangs) {\r\n            for (var i = 0; i < gangs.length; ++i) {\r\n                var mjid = gangs[i];\r\n                this.initPengAndGangs(pengangroot, side, pre, index, mjid, \"angang\");\r\n                index++;\r\n            }\r\n        }\r\n        var gangs = seatData.diangangs;\r\n        if (gangs) {\r\n            for (var i = 0; i < gangs.length; ++i) {\r\n                var mjid = gangs[i];\r\n                this.initPengAndGangs(pengangroot, side, pre, index, mjid, \"diangang\");\r\n                index++;\r\n            }\r\n        }\r\n        var gangs = seatData.wangangs;\r\n        if (gangs) {\r\n            for (var i = 0; i < gangs.length; ++i) {\r\n                var mjid = gangs[i];\r\n                this.initPengAndGangs(pengangroot, side, pre, index, mjid, \"wangang\");\r\n                index++;\r\n            }\r\n        }\r\n        //初始化碰牌\r\n        var pengs = seatData.pengs;\r\n        if (pengs) {\r\n            for (var i = 0; i < pengs.length; ++i) {\r\n                var mjid = pengs[i];\r\n                this.initPengAndGangs(pengangroot, side, pre, index, mjid, \"peng\");\r\n                index++;\r\n            }\r\n        }\r\n        // 吃的牌一定要以数组的形式存放,类似[[1,2,3],[3,4,5]];\r\n        //初始化吃牌\r\n        var chis = seatData.chis\r\n        console.debug(\"显示吃牌操作\", chis);\r\n        if (chis) {\r\n            console.debug(\"吃的\", chis.length);\r\n            for (var i = 0; i < chis.length; ++i) {\r\n                var mjids = chis[i];\r\n                this.initChis(pengangroot, side, pre, index, mjids);\r\n                index++;\r\n            }\r\n        }\r\n    },\r\n    initPengAndGangs: function(pengangroot, side, pre, index, mjid, flag) {\r\n        console.info(\"initPengAndGangs\", pengangroot, side, pre, index, mjid, flag);\r\n        var pgroot = null;\r\n        if (pengangroot.childrenCount <= index) {\r\n            if (side == \"left\" || side == \"right\") {\r\n                pgroot = cc.instantiate(cc.vv.mahjongmgr.pengPrefabLeft);\r\n            } else {\r\n                pgroot = cc.instantiate(cc.vv.mahjongmgr.pengPrefabSelf);\r\n            }\r\n            pengangroot.addChild(pgroot);\r\n        } else {\r\n            pgroot = pengangroot.children[index];\r\n            pgroot.active = true;\r\n        }\r\n        if (side == \"left\") {\r\n            pgroot.y = -(index * 25 * 3);\r\n        } else if (side == \"right\") {\r\n            pgroot.y = (index * 25 * 3);\r\n            pgroot.setLocalZOrder(-index);\r\n        } else if (side == \"myself\") {\r\n            pgroot.x = index * 55 * 3 + index * 10;\r\n        } else {\r\n            pgroot.x = -(index * 55 * 3);\r\n        }\r\n        var sprites = pgroot.getComponentsInChildren(cc.Sprite);\r\n        for (var s = 0; s < sprites.length; ++s) {\r\n            var sprite = sprites[s];\r\n            if (sprite.node.name == \"gang\") {\r\n                var isGang = flag != \"peng\";\r\n                sprite.node.active = isGang;\r\n                sprite.node.scaleX = 1.0;\r\n                sprite.node.scaleY = 1.0;\r\n                if (flag == \"angang\") {\r\n                    sprite.spriteFrame = cc.vv.mahjongmgr.getEmptySpriteFrame(side);\r\n                    if (side == \"myself\" || side == \"up\") {\r\n                        sprite.node.scaleX = 1.4;\r\n                        sprite.node.scaleY = 1.4;\r\n                    }\r\n                } else {\r\n                    sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(pre, mjid);\r\n                }\r\n            } else {\r\n                sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(pre, mjid);\r\n            }\r\n        }\r\n    },\r\n    // 吃牌\r\n    initChis: function(pengangroot, side, pre, index, mjids) {\r\n        console.debug(\"initChis\", mjids);\r\n        var pgroot = null;\r\n        if (pengangroot.childrenCount <= index) {\r\n            if (side == \"left\" || side == \"right\") {\r\n                pgroot = cc.instantiate(cc.vv.mahjongmgr.pengPrefabLeft);\r\n            } else {\r\n                pgroot = cc.instantiate(cc.vv.mahjongmgr.pengPrefabSelf);\r\n            }\r\n            pengangroot.addChild(pgroot);\r\n        } else {\r\n            pgroot = pengangroot.children[index];\r\n            pgroot.active = true;\r\n        }\r\n        if (side == \"left\") {\r\n            pgroot.y = -(index * 25 * 3);\r\n        } else if (side == \"right\") {\r\n            pgroot.y = (index * 25 * 3);\r\n            pgroot.setLocalZOrder(-index);\r\n        } else if (side == \"myself\") {\r\n            pgroot.x = index * 55 * 3 + index * 10;\r\n        } else {\r\n            pgroot.x = -(index * 55 * 3);\r\n        }\r\n        var sprites = pgroot.getComponentsInChildren(cc.Sprite);\r\n        for (var s = 0; s < sprites.length; ++s) {\r\n            var sprite = sprites[s];\r\n            if (sprite.node.name == \"gang\") {\r\n                sprite.node.active = false;\r\n            }\r\n            sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(pre, mjids[s]);\r\n        }\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n    // },\r\n});"
  ]
}
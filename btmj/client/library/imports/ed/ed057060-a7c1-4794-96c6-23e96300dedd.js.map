{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "loadImage",
    "url",
    "code",
    "callback",
    "cc",
    "loader",
    "load",
    "err",
    "tex",
    "spriteFrame",
    "SpriteFrame",
    "Rect",
    "width",
    "height",
    "getBaseInfo",
    "userid",
    "vv",
    "baseInfoMap",
    "http",
    "sendRequest",
    "ret",
    "headimgurl",
    "info",
    "name",
    "sex",
    "master_url",
    "Class",
    "extends",
    "Component",
    "properties",
    "onLoad",
    "setupSpriteFrame",
    "setUserID",
    "ttype",
    "images",
    "self",
    "yaoqing",
    "userMgr",
    "yaoqing_key",
    "roomid",
    "shareRoomId",
    "gameNetMgr",
    "roomId",
    "_spriteFrame",
    "spr",
    "getComponent",
    "Sprite"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "function loadImage(url, code, callback) {\r\n    cc.loader.load(url, function(err, tex) {\r\n        var spriteFrame = new cc.SpriteFrame(tex, cc.Rect(0, 0, tex.width, tex.height));\r\n        callback(code, spriteFrame);\r\n    });\r\n};\r\n\r\nfunction getBaseInfo(userid, callback) {\r\n    if (cc.vv.baseInfoMap == null) {\r\n        cc.vv.baseInfoMap = {};\r\n    }\r\n    if (cc.vv.baseInfoMap[userid] != null) {\r\n        callback(userid, cc.vv.baseInfoMap[userid]);\r\n    } else {\r\n        cc.vv.http.sendRequest('/base_info', {\r\n            userid: userid\r\n        }, function(ret) {\r\n            var url = null;\r\n            if (ret.headimgurl) {\r\n                url = ret.headimgurl;\r\n            }\r\n            var info = {\r\n                name: ret.name,\r\n                sex: ret.sex,\r\n                url: url\r\n            }\r\n            cc.vv.baseInfoMap[userid] = info;\r\n            callback(userid, info);\r\n        }, cc.vv.http.master_url);\r\n    }\r\n};\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {},\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        this.setupSpriteFrame();\r\n    },\r\n    setUserID: function(userid, ttype) {\r\n        if (!userid) {\r\n            return;\r\n        }\r\n        if (cc.vv.images == null) {\r\n            cc.vv.images = {};\r\n        }\r\n        var self = this;\r\n        // 如果指定类型为1表示显示二维码信息\r\n        if (ttype == 1) {\r\n            var yaoqing = 'btmj' + cc.vv.userMgr.yaoqing_key;\r\n            var roomid = cc.vv.userMgr.shareRoomId || cc.vv.gameNetMgr.roomId || \"000000\";\r\n            var url = 'http://mj.yajugame.com/manage1/?/member/user/qrcode_app/';\r\n            if (!yaoqing) {\r\n                return\r\n            }\r\n            url = url + yaoqing + '/' + roomid + '.png';\r\n            loadImage(url, userid, function(err, spriteFrame) {\r\n                self._spriteFrame = spriteFrame;\r\n                self.setupSpriteFrame();\r\n            });\r\n        } else {\r\n            getBaseInfo(userid, function(code, info) {\r\n                if (info && info.url) {\r\n                    loadImage(info.url, userid, function(err, spriteFrame) {\r\n                        self._spriteFrame = spriteFrame;\r\n                        self.setupSpriteFrame();\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    },\r\n    setupSpriteFrame: function() {\r\n        if (this._spriteFrame) {\r\n            var spr = this.getComponent(cc.Sprite);\r\n            if (spr) {\r\n                spr.spriteFrame = this._spriteFrame;\r\n            }\r\n        }\r\n    }\r\n});"
  ]
}
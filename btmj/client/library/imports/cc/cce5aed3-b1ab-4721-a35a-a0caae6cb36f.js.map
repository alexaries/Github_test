{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "_alertV",
    "_alertContentV",
    "_morraHallV",
    "_roomIdV",
    "_seatsV",
    "_caiquanV",
    "_leftAnimation",
    "_rightAnimation",
    "_leftOpenAnim",
    "_rightOpenAnim",
    "_animTime",
    "_resultsV",
    "_currentQuanV",
    "_winlabelV",
    "_winBgV",
    "currentQuan",
    "isRandom",
    "gameEndData",
    "jianzi",
    "shitou",
    "bu",
    "seatindex",
    "seats",
    "canAgain",
    "guize",
    "onLoad",
    "find",
    "getChildByName",
    "getComponent",
    "Label",
    "initSeatsView",
    "showWinCount",
    "initCaiquanView",
    "initEventHandlers",
    "setGemsAndCoins",
    "vv",
    "userMgr",
    "gems",
    "coins",
    "gameNetMgr",
    "cq_data",
    "console",
    "log",
    "initSeatsData",
    "net",
    "send",
    "seat",
    "children",
    "difen",
    "wincont",
    "lastTime",
    "layout",
    "left",
    "active",
    "right",
    "Animation",
    "_leftXuanding",
    "_rightXuanding",
    "Array",
    "push",
    "cqEventHandler",
    "node",
    "self",
    "on",
    "data",
    "playOpenAnim",
    "res",
    "detail",
    "gameEnd",
    "s",
    "again",
    "clearCq",
    "setTimeout",
    "userid",
    "userId",
    "pop",
    "string",
    "getGemsAndCoins",
    "context",
    "alert",
    "show",
    "loadHomeHall",
    "num",
    "Math",
    "floor",
    "random",
    "chuJianzi",
    "chuShitou",
    "chuBu",
    "str",
    "stop",
    "consu",
    "conf",
    "utils",
    "showJinbi",
    "baseScore",
    "roomId",
    "i",
    "length",
    "name",
    "score",
    "seatIndex",
    "wined",
    "gameOverShowGesture",
    "chuQuan",
    "winCount",
    "j",
    "leftAnim",
    "animState1",
    "play",
    "wrapMode",
    "WrapMode",
    "Loop",
    "rightAnim",
    "animState2",
    "showGesture",
    "type",
    "index",
    "flag",
    "onBtnCloseAlert",
    "onBtnCloseRoom",
    "director",
    "loadScene",
    "onOpenguize",
    "onCloseguize"
  ],
  "mappings": ";;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACR;AACA;AACAC,iBAAS,IAHD,EAGO;AACfC,wBAAgB,IAJR;AAKRC,qBAAa,IALL,EAKW;AACnBC,kBAAU,IANF;AAORC,iBAAS,EAPD,EAOK;AACbC,mBAAW,EARH;AASR;AACAC,wBAAgB,IAVR;AAWRC,yBAAiB,IAXT;AAYRC,uBAAe,IAZP;AAaRC,wBAAgB,IAbR;AAcRC,mBAAW,IAdH;AAeRC,mBAAW,IAfH,EAeS;AACjBC,uBAAe,IAhBP,EAgBa;AACrBC,oBAAY,IAjBJ;AAkBRC,iBAAS,IAlBD;AAmBRC,qBAAa,CAAC,CAnBN,EAmBS;AACjBC,kBAAU,KApBF,EAoBS;AACjBC,qBAAa,IArBL,EAqBW;AACnBC,gBAAQ,CAtBA;AAuBRC,gBAAQ,CAvBA;AAwBRC,YAAI,CAxBI;AAyBRC,mBAAW,CAzBH,EAyBM;AACdC,eAAO,IA1BC;AA2BRC,kBAAU,KA3BF,EA2BS;AACjBC,eAAO;AA5BC,KAFP;AAgCL;AACAC,YAAQ,kBAAW;AACf;AACA;AACA,aAAKD,KAAL,GAAa7B,GAAG+B,IAAH,CAAQ,uBAAR,CAAb;AACA,aAAK1B,OAAL,GAAeL,GAAG+B,IAAH,CAAQ,sBAAR,CAAf;AACA,aAAKzB,cAAL,GAAsB,KAAKD,OAAL,CAAa2B,cAAb,CAA4B,SAA5B,EAAuCC,YAAvC,CAAoDjC,GAAGkC,KAAvD,CAAtB;AACA,aAAK3B,WAAL,GAAmBP,GAAG+B,IAAH,CAAQ,iBAAR,CAAnB;AACA,aAAKvB,QAAL,GAAgB,KAAKD,WAAL,CAAiByB,cAAjB,CAAgC,QAAhC,EAA0CC,YAA1C,CAAuDjC,GAAGkC,KAA1D,CAAhB;AACA,aAAKC,aAAL;AACA,aAAKC,YAAL,CAAkB,KAAlB;AACA,aAAKC,eAAL;AACA,aAAKC,iBAAL;AACA,aAAKC,eAAL,CAAqBvC,GAAGwC,EAAH,CAAMC,OAAN,CAAcC,IAAnC,EAAyC1C,GAAGwC,EAAH,CAAMC,OAAN,CAAcE,KAAvD;AACA,YAAI3C,GAAGwC,EAAH,CAAMI,UAAN,CAAiBC,OAArB,EAA8B;AAC1BC,oBAAQC,GAAR,CAAY,mBAAZ,EAAiC/C,GAAGwC,EAAH,CAAMI,UAAN,CAAiBC,OAAlD;AACA,iBAAKlB,KAAL,GAAa3B,GAAGwC,EAAH,CAAMI,UAAN,CAAiBC,OAAjB,CAAyBlB,KAAtC;AACA,iBAAKqB,aAAL,CAAmBhD,GAAGwC,EAAH,CAAMI,UAAN,CAAiBC,OAApC;AACH;AACD7C,WAAGwC,EAAH,CAAMS,GAAN,CAAUC,IAAV,CAAe,OAAf;AACH,KApDI;AAqDLf,mBAAe,yBAAW;AACtB,YAAIgB,OAAO,EAAX;AACAA,aAAK,CAAL,IAAU,KAAK5C,WAAL,CAAiByB,cAAjB,CAAgC,MAAhC,EAAwCoB,QAAxC,CAAiD,CAAjD,EAAoDnB,YAApD,CAAiEjC,GAAGkC,KAApE,CAAV;AACAiB,aAAK,CAAL,IAAU,KAAK5C,WAAL,CAAiByB,cAAjB,CAAgC,MAAhC,EAAwCoB,QAAxC,CAAiD,CAAjD,EAAoDnB,YAApD,CAAiEjC,GAAGkC,KAApE,CAAV;AACA,aAAKzB,OAAL,CAAa0C,IAAb,GAAoBA,IAApB;AACA,aAAK1C,OAAL,CAAa4C,KAAb,GAAqB,KAAK9C,WAAL,CAAiByB,cAAjB,CAAgC,OAAhC,EAAyCC,YAAzC,CAAsDjC,GAAGkC,KAAzD,CAArB;AACA,aAAKzB,OAAL,CAAaiC,IAAb,GAAoB,KAAKnC,WAAL,CAAiByB,cAAjB,CAAgC,QAAhC,EAA0CA,cAA1C,CAAyD,MAAzD,EAAiEC,YAAjE,CAA8EjC,GAAGkC,KAAjF,CAApB;AACA,aAAKzB,OAAL,CAAakC,KAAb,GAAqB,KAAKpC,WAAL,CAAiByB,cAAjB,CAAgC,SAAhC,EAA2CA,cAA3C,CAA0D,OAA1D,EAAmEC,YAAnE,CAAgFjC,GAAGkC,KAAnF,CAArB;AACA,aAAKzB,OAAL,CAAa6C,OAAb,GAAuB,KAAK/C,WAAL,CAAiByB,cAAjB,CAAgC,OAAhC,EAAyCA,cAAzC,CAAwD,SAAxD,EAAmEC,YAAnE,CAAgFjC,GAAGkC,KAAnF,CAAvB;AACA,aAAKhB,UAAL,GAAkB,KAAKX,WAAL,CAAiByB,cAAjB,CAAgC,UAAhC,CAAlB;AACA,aAAKb,OAAL,GAAe,KAAKZ,WAAL,CAAiByB,cAAjB,CAAgC,OAAhC,CAAf;AACA,aAAKvB,OAAL,CAAa8C,QAAb,GAAwB,KAAKhD,WAAL,CAAiByB,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,UAA7D,EAAyEC,YAAzE,CAAsFjC,GAAGkC,KAAzF,CAAxB;AACH,KAjEI;AAkELG,qBAAiB,2BAAW;AACxB,YAAImB,SAAS,KAAKjD,WAAL,CAAiByB,cAAjB,CAAgC,SAAhC,EAA2CA,cAA3C,CAA0D,QAA1D,CAAb;AACA,aAAKtB,SAAL,CAAe+C,IAAf,GAAsBD,OAAOxB,cAAP,CAAsB,MAAtB,CAAtB;AACA,aAAKtB,SAAL,CAAe+C,IAAf,CAAoBC,MAApB,GAA6B,KAA7B;AACA,aAAKhD,SAAL,CAAeiD,KAAf,GAAuBH,OAAOxB,cAAP,CAAsB,OAAtB,CAAvB;AACA,aAAKtB,SAAL,CAAeiD,KAAf,CAAqBD,MAArB,GAA8B,KAA9B;AACA,aAAK/C,cAAL,GAAsB6C,OAAOxB,cAAP,CAAsB,QAAtB,CAAtB;AACA,aAAKpB,eAAL,GAAuB4C,OAAOxB,cAAP,CAAsB,QAAtB,CAAvB;AACA,aAAKnB,aAAL,GAAqB,KAAKF,cAAL,CAAoBsB,YAApB,CAAiCjC,GAAG4D,SAApC,CAArB;AACA,aAAK9C,cAAL,GAAsB,KAAKF,eAAL,CAAqBqB,YAArB,CAAkCjC,GAAG4D,SAArC,CAAtB;AACA,aAAKC,aAAL,GAAqB,KAAKnD,SAAL,CAAe+C,IAAf,CAAoBzB,cAApB,CAAmC,UAAnC,CAArB;AACA,aAAK8B,cAAL,GAAsB,KAAKpD,SAAL,CAAeiD,KAAf,CAAqB3B,cAArB,CAAoC,UAApC,CAAtB;AACA,aAAKhB,SAAL,GAAiB,IAAI+C,KAAJ,EAAjB;AACA,aAAK/C,SAAL,CAAegD,IAAf,CAAoBR,OAAOxB,cAAP,CAAsB,SAAtB,CAApB;AACA,aAAKhB,SAAL,CAAegD,IAAf,CAAoBR,OAAOxB,cAAP,CAAsB,SAAtB,CAApB;AACA,aAAKhB,SAAL,CAAegD,IAAf,CAAoBR,OAAOxB,cAAP,CAAsB,SAAtB,CAApB;AACH,KAlFI;AAmFLM,uBAAmB,6BAAW;AAC1BtC,WAAGwC,EAAH,CAAMI,UAAN,CAAiBqB,cAAjB,GAAkC,KAAKC,IAAvC;AACA,YAAIC,OAAO,IAAX;AACA;AACA,aAAKD,IAAL,CAAUE,EAAV,CAAa,UAAb,EAAyB,UAASC,IAAT,EAAe;AACpCvB,oBAAQC,GAAR,CAAY,+BAAZ,EAA6CsB,IAA7C;AACAF,iBAAKG,YAAL;AACH,SAHD;AAIA;AACA,aAAKJ,IAAL,CAAUE,EAAV,CAAa,aAAb,EAA4B,UAASG,GAAT,EAAc;AACtC,gBAAIF,OAAOE,IAAIC,MAAJ,CAAWH,IAAtB;AACArE,eAAGwC,EAAH,CAAMI,UAAN,CAAiBC,OAAjB,GAA2BwB,IAA3B;AACAF,iBAAKxC,KAAL,GAAa0C,KAAK1C,KAAlB;AACAwC,iBAAKnB,aAAL,CAAmBqB,IAAnB;AACH,SALD;AAMA;AACA,aAAKH,IAAL,CAAUE,EAAV,CAAa,cAAb,EAA6B,UAASG,GAAT,EAAc;AACvC,gBAAIF,OAAOE,IAAIC,MAAJ,CAAWH,IAAtB;AACAF,iBAAK7C,WAAL,GAAmB+C,IAAnB;AACA;AACAF,iBAAKM,OAAL;AACA,gBAAIC,IAAIP,IAAR;AACA,gBAAIQ,QAAQ,SAARA,KAAQ,GAAW;AACnB,oBAAID,EAAEhD,SAAF,IAAe,CAAf,IAAoBgD,EAAE9C,QAA1B,EAAoC;AAAE;AAClC5B,uBAAGwC,EAAH,CAAMS,GAAN,CAAUC,IAAV,CAAe,UAAf;AACH;AACDwB,kBAAEE,OAAF;AACH,aALD;AAMAC,uBAAWF,KAAX,EAAkB,IAAlB;AACA;AACH,SAdD;AAeA;AACA,aAAKT,IAAL,CAAUE,EAAV,CAAa,gBAAb,EAA+B,UAASG,GAAT,EAAc;AACzC,gBAAIO,SAASP,IAAIC,MAAjB;AACAL,iBAAKvC,QAAL,GAAgB,KAAhB;AACA,gBAAIkD,UAAU9E,GAAGwC,EAAH,CAAMC,OAAN,CAAcsC,MAA5B,EAAoC;AAChCZ,qBAAKS,OAAL;AACAT,qBAAKxC,KAAL,GAAa,IAAb;AACAwC,qBAAKzC,SAAL,GAAiB,CAAjB;AACH,aAJD,MAIO;AACH,oBAAIyC,KAAKxC,KAAT,EAAgB;AACZwC,yBAAKxC,KAAL,CAAWqD,GAAX;AACAlC,4BAAQC,GAAR,CAAY,oCAAZ,EAAkDoB,KAAKxC,KAAvD;AACAwC,yBAAK1D,OAAL,CAAa0C,IAAb,CAAkB,CAAlB,EAAqB8B,MAArB,GAA8B,EAA9B;AACAd,yBAAK/B,YAAL,CAAkB,KAAlB;AACH;AACJ;AACD+B,iBAAKe,eAAL;AACH,SAhBD;AAiBA;AACA,aAAKhB,IAAL,CAAUE,EAAV,CAAa,aAAb,EAA4B,UAASG,GAAT,EAAc;AACtC,gBAAIY,UAAUhB,IAAd;AACA,gBAAIW,SAASP,IAAIC,MAAjB;AACA,gBAAIM,UAAU9E,GAAGwC,EAAH,CAAMC,OAAN,CAAcsC,MAA5B,EAAoC,CAAE,CAAtC,MAA4C;AACxC/E,mBAAGwC,EAAH,CAAM4C,KAAN,CAAYC,IAAZ,CAAiB,IAAjB,EAAuB,mBAAvB,EAA4C,YAAW;AACnDF,4BAAQG,YAAR;AACH,iBAFD;AAGH;AACDnB,iBAAKvC,QAAL,GAAgB,KAAhB;AACAuC,iBAAKS,OAAL;AACAT,iBAAKxC,KAAL,GAAa,IAAb;AACAwC,iBAAKzC,SAAL,GAAiB,CAAjB;AACAyC,iBAAKe,eAAL;AACH,SAbD;AAcA;AACA,aAAKhB,IAAL,CAAUE,EAAV,CAAa,cAAb,EAA6B,UAASG,GAAT,EAAc;AACvC,gBAAIF,OAAOE,IAAIC,MAAJ,CAAWH,IAAtB;AACAF,iBAAK1D,OAAL,CAAa8C,QAAb,CAAsB0B,MAAtB,GAA+BZ,IAA/B;AACA,gBAAIA,QAAQ,CAAZ,EAAe;AACX,oBAAIF,KAAK/C,WAAL,IAAoB,CAAC,CAAzB,EAA4B;AACxB;AACA+C,yBAAK9C,QAAL,GAAgB,IAAhB;AACA,wBAAIkE,MAAMC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,EAA3B,IAAiC,CAA3C;AACA,wBAAIH,OAAO,CAAX,EAAc;AACVpB,6BAAKwB,SAAL;AACH,qBAFD,MAEO,IAAIJ,OAAO,CAAX,EAAc;AACjBpB,6BAAKyB,SAAL;AACH,qBAFM,MAEA;AACHzB,6BAAK0B,KAAL;AACH;AACJ;AACJ;AACJ,SAjBD;AAkBA;AACA,aAAK3B,IAAL,CAAUE,EAAV,CAAa,iBAAb,EAAgC,UAASG,GAAT,EAAc;AAC1C,gBAAIY,UAAUhB,IAAd;AACA,gBAAIW,SAASP,IAAIC,MAAjB;AACAL,iBAAKvC,QAAL,GAAgB,KAAhB;AACA,gBAAIkD,UAAU9E,GAAGwC,EAAH,CAAMC,OAAN,CAAcsC,MAA5B,EAAoC;AAChCZ,qBAAKS,OAAL;AACAT,qBAAKxC,KAAL,GAAa,IAAb;AACAwC,qBAAKzC,SAAL,GAAiB,CAAjB;AACA1B,mBAAGwC,EAAH,CAAM4C,KAAN,CAAYC,IAAZ,CAAiB,IAAjB,EAAuB,cAAvB,EAAuC,YAAW;AAC9CF,4BAAQG,YAAR;AACH,iBAFD;AAGH,aAPD,MAOO;AACH,oBAAInB,KAAKxC,KAAT,EAAgB;AACZwC,yBAAKxC,KAAL,CAAWqD,GAAX;AACAlC,4BAAQC,GAAR,CAAY,yCAAZ,EAAuDoB,KAAKxC,KAA5D;AACAwC,yBAAK1D,OAAL,CAAa0C,IAAb,CAAkB,CAAlB,EAAqB8B,MAArB,GAA8B,EAA9B;AACH;AACDd,qBAAK/B,YAAL,CAAkB,KAAlB;AACH;AACD+B,iBAAKe,eAAL;AACH,SApBD;AAqBA;AACA,aAAKhB,IAAL,CAAUE,EAAV,CAAa,kBAAb,EAAiC,UAASG,GAAT,EAAc;AAC3C,gBAAIY,UAAUhB,IAAd;AACA,gBAAIW,SAASP,IAAIC,MAAjB;AACA,gBAAIsB,MAAM,EAAV;AACA,gBAAIhB,UAAU9E,GAAGwC,EAAH,CAAMC,OAAN,CAAcsC,MAA5B,EAAoC;AAChC/E,mBAAGwC,EAAH,CAAM4C,KAAN,CAAYC,IAAZ,CAAiB,IAAjB,EAAuB,gBAAvB,EAAyC,YAAW;AAChDF,4BAAQG,YAAR;AACH,iBAFD;AAGH,aAJD,MAIO;AACHtF,mBAAGwC,EAAH,CAAM4C,KAAN,CAAYC,IAAZ,CAAiB,IAAjB,EAAuB,mBAAvB,EAA4C,YAAW;AACnDF,4BAAQG,YAAR;AACH,iBAFD;AAGH;AACDnB,iBAAKvC,QAAL,GAAgB,KAAhB;AACAuC,iBAAKS,OAAL;AACAT,iBAAKxC,KAAL,GAAa,IAAb;AACAwC,iBAAKzC,SAAL,GAAiB,CAAjB;AACAyC,iBAAKe,eAAL;AACH,SAlBD;AAmBA;AACA,aAAKhB,IAAL,CAAUE,EAAV,CAAa,mBAAb,EAAkC,UAASC,IAAT,EAAe;AAC7C;AACA,gBAAIU,SAASV,KAAKG,MAAlB;AACA,gBAAIL,KAAKxC,KAAL,CAAW,CAAX,EAAcmD,MAAd,IAAwBC,MAA5B,EAAoC;AAChC;AACAZ,qBAAKtD,aAAL,CAAmBkF,IAAnB;AACA5B,qBAAKxD,cAAL,CAAoB+C,MAApB,GAA6B,KAA7B;AACAS,qBAAKzD,SAAL,CAAe+C,IAAf,CAAoBC,MAApB,GAA6B,IAA7B;AACA,oBAAI1D,GAAGwC,EAAH,CAAMC,OAAN,CAAcsC,MAAd,IAAwBA,MAA5B,EAAoC;AAChC;AACAZ,yBAAKN,aAAL,CAAmBH,MAAnB,GAA4B,IAA5B;AACH;AACJ,aATD,MASO;AACH;AACAS,qBAAKrD,cAAL,CAAoBiF,IAApB;AACA5B,qBAAKvD,eAAL,CAAqB8C,MAArB,GAA8B,KAA9B;AACAS,qBAAKzD,SAAL,CAAeiD,KAAf,CAAqBD,MAArB,GAA8B,IAA9B;AACA,oBAAI1D,GAAGwC,EAAH,CAAMC,OAAN,CAAcsC,MAAd,IAAwBA,MAA5B,EAAoC;AAChC;AACAZ,yBAAKL,cAAL,CAAoBJ,MAApB,GAA6B,IAA7B;AACH;AACJ;AACJ,SAtBD;AAuBA,aAAKQ,IAAL,CAAUE,EAAV,CAAa,YAAb,EAA2B,UAASG,GAAT,EAAc;AACrC,gBAAIY,UAAUhB,IAAd;AACAA,iBAAKvC,QAAL,GAAgB,KAAhB;AACAuC,iBAAKxC,KAAL,GAAa,IAAb;AACAwC,iBAAKzC,SAAL,GAAiB,CAAjB;AACH,SALD;AAMH,KA9OI;AA+OLsB,mBAAe,uBAASqB,IAAT,EAAe;AAC1B,YAAIF,OAAO,IAAX;AACA,YAAI6B,QAAQ3B,KAAK4B,IAAL,CAAUD,KAAtB;AACA,YAAIA,SAAS,CAAb,EAAgB;AACZ;AACA7B,iBAAK1D,OAAL,CAAa4C,KAAb,CAAmB4B,MAAnB,GAA4BjF,GAAGwC,EAAH,CAAM0D,KAAN,CAAYC,SAAZ,CAAsB9B,KAAK4B,IAAL,CAAUG,SAAhC,IAA6C,IAAzE;AACH,SAHD,MAGO;AACH;AACAjC,iBAAK1D,OAAL,CAAa4C,KAAb,CAAmB4B,MAAnB,GAA4BjF,GAAGwC,EAAH,CAAM0D,KAAN,CAAYC,SAAZ,CAAsB9B,KAAK4B,IAAL,CAAUG,SAAhC,IAA6C,IAAzE;AACH;AACD,YAAIjC,KAAKxC,KAAT,EAAgB;AACZwC,iBAAK3D,QAAL,CAAcyE,MAAd,GAAuB,SAASjF,GAAGwC,EAAH,CAAMI,UAAN,CAAiByD,MAAjD;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAInC,KAAKxC,KAAL,CAAW4E,MAA/B,EAAuCD,GAAvC,EAA4C;AACxCnC,qBAAK1D,OAAL,CAAa0C,IAAb,CAAkBmD,CAAlB,EAAqBrB,MAArB,GAA8Bd,KAAKxC,KAAL,CAAW2E,CAAX,EAAcE,IAA5C;AACA,oBAAIrC,KAAKxC,KAAL,CAAW2E,CAAX,EAAcxB,MAAd,IAAwB9E,GAAGwC,EAAH,CAAMC,OAAN,CAAcsC,MAA1C,EAAkD;AAC9CZ,yBAAK1D,OAAL,CAAa6C,OAAb,CAAqB2B,MAArB,GAA8Bd,KAAKxC,KAAL,CAAW2E,CAAX,EAAcG,KAA5C;AACAtC,yBAAKzC,SAAL,GAAiByC,KAAKxC,KAAL,CAAW2E,CAAX,EAAc5E,SAA/B;AACAyC,yBAAKe,eAAL;AACH;AACJ;AACD,gBAAIf,KAAKxC,KAAL,CAAW4E,MAAX,IAAqB,CAArB,IAA0BpC,KAAKxC,KAAL,CAAW,CAAX,EAAcmD,MAAd,IAAwB,CAAtD,EAAyD;AACrD,oBAAIX,KAAKxC,KAAL,CAAW,CAAX,EAAcmD,MAAd,IAAwB9E,GAAGwC,EAAH,CAAMC,OAAN,CAAcsC,MAA1C,EAAkD;AAAE;AAChDZ,yBAAK7D,cAAL,CAAoB2E,MAApB,GAA6Bd,KAAKxC,KAAL,CAAW,CAAX,EAAc6E,IAAd,GAAqB,OAAlD;AACArC,yBAAK9D,OAAL,CAAaqD,MAAb,GAAsB,IAAtB;AACA,wBAAIyB,UAAUhB,IAAd;AACAU,+BAAW,YAAW;AAClBM,gCAAQ9E,OAAR,CAAgBqD,MAAhB,GAAyB,KAAzB;AACH,qBAFD,EAEG,IAFH;AAGH;AACD,qBAAKtB,YAAL,CAAkB,IAAlB;AACH,aAVD,MAUO;AACH,qBAAKA,YAAL,CAAkB,KAAlB;AACH;AACJ;AACD+B,aAAKvC,QAAL,GAAiBuC,KAAKxC,KAAL,CAAW4E,MAAX,IAAqB,CAArB,IAA0BpC,KAAKxC,KAAL,CAAW,CAAX,EAAcmD,MAAd,IAAwB,CAAnE;AACAX,aAAKS,OAAL;AACH,KAnRI;AAoRLH,aAAS,mBAAW;AAChB,YAAI,CAAC,KAAKnD,WAAN,IAAqB,KAAKA,WAAL,IAAoB,IAA7C,EAAmD;AAC/C;AACH;AACD,aAAKwC,cAAL,CAAoBJ,MAApB,GAA6B,KAA7B;AACA,aAAKG,aAAL,CAAmBH,MAAnB,GAA4B,KAA5B;AACA,aAAK,IAAI4C,IAAI,CAAb,EAAgBA,IAAI,KAAKhF,WAAL,CAAiBiF,MAArC,EAA6CD,GAA7C,EAAkD;AAC9C,gBAAI,KAAKhF,WAAL,CAAiBgF,CAAjB,EAAoBI,SAApB,IAAiC,KAAKhF,SAA1C,EAAqD;AAAE;AACnD;AACA,qBAAKV,SAAL,CAAe,KAAKM,WAAL,CAAiB,CAAjB,EAAoBqF,KAAnC,EAA0CjD,MAA1C,GAAmD,IAAnD,CAFiD,CAEO;AAC3D,aAHD,MAGO;AACH,qBAAKkD,mBAAL,CAAyB,KAAKtF,WAAL,CAAiBgF,CAAjB,EAAoBO,OAA7C,EAAsDP,CAAtD;AACH;AACD,iBAAK7F,OAAL,CAAa6C,OAAb,CAAqB2B,MAArB,GAA+BqB,KAAK,CAAL,GAAS,CAAT,GAAa,KAAKhF,WAAL,CAAiBgF,CAAjB,EAAoBQ,QAAhE,CAP8C,CAO6B;AAC9E;AACJ,KAnSI;AAoSLlC,aAAS,mBAAW;AAChB,YAAI,KAAKlE,SAAT,EAAoB;AAChB,gBAAI+C,OAAO,KAAK/C,SAAL,CAAe+C,IAAf,CAAoBL,QAA/B;AACA,gBAAIO,QAAQ,KAAKjD,SAAL,CAAeiD,KAAf,CAAqBP,QAAjC;AACA,iBAAK,IAAIkD,IAAI,CAAb,EAAgBA,IAAI7C,KAAK8C,MAAzB,EAAiCD,GAAjC,EAAsC;AAClC,qBAAK,IAAIS,IAAI,CAAb,EAAgBA,IAAItD,KAAK6C,CAAL,EAAQlD,QAAR,CAAiBmD,MAArC,EAA6CQ,GAA7C,EAAkD;AAC9CtD,yBAAK6C,CAAL,EAAQlD,QAAR,CAAiB2D,CAAjB,EAAoBrD,MAApB,GAA6B,KAA7B;AACH;AACJ;AACD,iBAAK,IAAI4C,IAAI,CAAb,EAAgBA,IAAI3C,MAAM4C,MAA1B,EAAkCD,GAAlC,EAAuC;AACnC,qBAAK,IAAIS,IAAI,CAAb,EAAgBA,IAAIpD,MAAM2C,CAAN,EAASlD,QAAT,CAAkBmD,MAAtC,EAA8CQ,GAA9C,EAAmD;AAC/CpD,0BAAM2C,CAAN,EAASlD,QAAT,CAAkB2D,CAAlB,EAAqBrD,MAArB,GAA8B,KAA9B;AACH;AACJ;AACJ;AACD,YAAI,KAAK1C,SAAT,EAAoB;AAChB,iBAAK,IAAIsF,IAAI,CAAb,EAAgBA,IAAI,KAAKtF,SAAL,CAAeuF,MAAnC,EAA2CD,GAA3C,EAAgD;AAC5C,qBAAKtF,SAAL,CAAesF,CAAf,EAAkB5C,MAAlB,GAA2B,KAA3B;AACH;AACJ;AACD,aAAKzC,aAAL,GAAqB,IAArB;AACA,aAAKG,WAAL,GAAmB,CAAC,CAApB;AACA,aAAKC,QAAL,GAAgB,KAAhB;AACA,aAAKC,WAAL,GAAmB,IAAnB;AACA,YAAI,KAAKZ,SAAT,EAAoB;AAChB,iBAAKA,SAAL,CAAe+C,IAAf,CAAoBC,MAApB,GAA6B,KAA7B;AACH;AACD,YAAI,KAAKhD,SAAT,EAAoB;AAChB,iBAAKA,SAAL,CAAeiD,KAAf,CAAqBD,MAArB,GAA8B,KAA9B;AACH;AACJ,KAlUI;AAmUL;AACAY,kBAAc,wBAAW;AACrB,YAAIH,OAAO,IAAX;AACA,aAAKzD,SAAL,CAAe+C,IAAf,CAAoBC,MAApB,GAA6B,KAA7B;AACA,aAAKhD,SAAL,CAAeiD,KAAf,CAAqBD,MAArB,GAA8B,KAA9B;AACA,YAAIsD,WAAW,SAAXA,QAAW,GAAW;AACtB7C,iBAAKxD,cAAL,CAAoB+C,MAApB,GAA6B,IAA7B;AACA,gBAAIuD,aAAa9C,KAAKtD,aAAL,CAAmBqG,IAAnB,CAAwB,UAAxB,CAAjB;AACAD,uBAAWE,QAAX,GAAsBnH,GAAGoH,QAAH,CAAYC,IAAlC;AACH,SAJD;AAKA,YAAIC,YAAY,SAAZA,SAAY,GAAW;AACvBnD,iBAAKvD,eAAL,CAAqB8C,MAArB,GAA8B,IAA9B;AACA,gBAAI6D,aAAapD,KAAKrD,cAAL,CAAoBoG,IAApB,CAAyB,UAAzB,CAAjB;AACAK,uBAAWJ,QAAX,GAAsBnH,GAAGoH,QAAH,CAAYC,IAAlC;AACH,SAJD;AAKA,YAAIlD,KAAK9C,QAAT,EAAmB;AACf2F;AACAM;AACA;AACH;AACDN;AACAM;AACH,KAzVI;AA0VLE,iBAAa,qBAASC,IAAT,EAAe;AAAE;AAC1B,YAAI,KAAKxG,aAAL,IAAsB,KAAKA,aAAL,IAAsB,IAAhD,EAAsD;AAClD,iBAAKA,aAAL,CAAmByC,MAAnB,GAA4B,KAA5B;AACH;AACD,YAAID,OAAO,KAAK/C,SAAL,CAAe+C,IAAf,CAAoBL,QAA/B;AACA,YAAIO,QAAQ,KAAKjD,SAAL,CAAeiD,KAAf,CAAqBP,QAAjC;AACA,aAAK,IAAIkD,CAAT,IAAc7C,IAAd,EAAoB;AAChBA,iBAAK6C,CAAL,EAAQ5C,MAAR,GAAiB,KAAjB;AACH;AACD,aAAK,IAAI4C,CAAT,IAAc3C,KAAd,EAAqB;AACjBA,kBAAM2C,CAAN,EAAS5C,MAAT,GAAkB,KAAlB;AACH;AACD,YAAI,KAAKhC,SAAL,IAAkB,CAAtB,EAAyB;AAAE;AACvB+B,iBAAK,CAAL,EAAQC,MAAR,GAAiB,IAAjB;AACA,iBAAKzC,aAAL,GAAqBwC,KAAK,CAAL,EAAQL,QAAR,CAAiBqE,IAAjB,CAArB;AACH,SAHD,MAGO;AACH9D,kBAAM,CAAN,EAASD,MAAT,GAAkB,IAAlB;AACA,iBAAKzC,aAAL,GAAqB0C,MAAM,CAAN,EAASP,QAAT,CAAkBqE,IAAlB,CAArB;AACH;AACD,aAAKxG,aAAL,CAAmByC,MAAnB,GAA4B,IAA5B;AACA,aAAKtC,WAAL,GAAmBqG,IAAnB;AACA,aAAK/G,SAAL,CAAe+C,IAAf,CAAoBC,MAApB,GAA6B,IAA7B;AACA,aAAKhD,SAAL,CAAeiD,KAAf,CAAqBD,MAArB,GAA8B,IAA9B;AACH,KAjXI;AAkXLkD,yBAAqB,6BAASa,IAAT,EAAeC,KAAf,EAAsB;AACvC,YAAIjE,OAAO,KAAK/C,SAAL,CAAe+C,IAAf,CAAoBL,QAA/B;AACA,YAAIO,QAAQ,KAAKjD,SAAL,CAAeiD,KAAf,CAAqBP,QAAjC;AACA,YAAIsE,SAAS,CAAb,EAAgB;AACZjE,iBAAK,CAAL,EAAQC,MAAR,GAAiB,IAAjB;AACAD,iBAAK,CAAL,EAAQL,QAAR,CAAiBqE,IAAjB,EAAuB/D,MAAvB,GAAgC,IAAhC;AACH,SAHD,MAGO;AACHC,kBAAM,CAAN,EAASD,MAAT,GAAkB,IAAlB;AACAC,kBAAM,CAAN,EAASP,QAAT,CAAkBqE,IAAlB,EAAwB/D,MAAxB,GAAiC,IAAjC;AACH;AACD;AACH,KA7XI;AA8XL;AACAtB,kBAAc,sBAASuF,IAAT,EAAe;AACzB,aAAKzG,UAAL,CAAgBwC,MAAhB,GAAyBiE,IAAzB;AACA,aAAKxG,OAAL,CAAauC,MAAb,GAAsBiE,IAAtB;AACH,KAlYI;AAmYL;AACAzC,qBAAiB,2BAAW;AACxB,YAAIf,OAAO,IAAX;AACAnE,WAAGwC,EAAH,CAAMC,OAAN,CAAcyC,eAAd,CAA8B,UAASb,IAAT,EAAe;AACzCvB,oBAAQC,GAAR,CAAY,gCAAZ,EAA8CsB,IAA9C;AACArE,eAAGwC,EAAH,CAAMC,OAAN,CAAcC,IAAd,GAAqB2B,KAAK3B,IAA1B;AACA1C,eAAGwC,EAAH,CAAMC,OAAN,CAAcE,KAAd,GAAsB0B,KAAK1B,KAA3B;AACA;AACA;AACAwB,iBAAK5B,eAAL,CAAqB8B,KAAK3B,IAA1B,EAAgC2B,KAAK1B,KAArC;AACH,SAPD;AAQH,KA9YI;AA+YLJ,qBAAiB,yBAASG,IAAT,EAAeC,KAAf,EAAsB;AACnC,YAAI,KAAKlC,OAAL,IAAgB,KAAKA,OAAL,CAAaiC,IAA7B,IAAqC,KAAKjC,OAAL,CAAakC,KAAtD,EAA6D;AACzD,iBAAKlC,OAAL,CAAaiC,IAAb,CAAkBuC,MAAlB,GAA2BjF,GAAGwC,EAAH,CAAM0D,KAAN,CAAYC,SAAZ,CAAsBzD,IAAtB,CAA3B;AACA,iBAAKjC,OAAL,CAAakC,KAAb,CAAmBsC,MAAnB,GAA4BtC,KAA5B;AACH;AACJ,KApZI;AAqZL;AACAgD,eAAW,qBAAW;AAClB,YAAI,KAAKvE,WAAL,IAAoB,CAAC,CAAzB,EAA4B;AACxB,iBAAKoG,WAAL,CAAiB,KAAKjG,MAAtB;AACAvB,eAAGwC,EAAH,CAAMS,GAAN,CAAUC,IAAV,CAAe,SAAf,EAA0B,KAAK3B,MAA/B;AACH;AACJ,KA3ZI;AA4ZL;AACAqE,eAAW,qBAAW;AAClB,YAAI,KAAKxE,WAAL,IAAoB,CAAC,CAAzB,EAA4B;AACxB,iBAAKoG,WAAL,CAAiB,KAAKhG,MAAtB;AACAxB,eAAGwC,EAAH,CAAMS,GAAN,CAAUC,IAAV,CAAe,SAAf,EAA0B,KAAK1B,MAA/B;AACH;AACJ,KAlaI;AAmaL;AACAqE,WAAO,iBAAW;AACd,YAAI,KAAKzE,WAAL,IAAoB,CAAC,CAAzB,EAA4B;AACxB,iBAAKoG,WAAL,CAAiB,KAAK/F,EAAtB;AACAzB,eAAGwC,EAAH,CAAMS,GAAN,CAAUC,IAAV,CAAe,SAAf,EAA0B,KAAKzB,EAA/B;AACH;AACJ,KAzaI;AA0aL;AACAmG,qBAAiB,2BAAW;AACxB,aAAKvH,OAAL,CAAaqD,MAAb,GAAsB,KAAtB;AACA,aAAK4B,YAAL;AACA;AACH,KA/aI;AAgbL;AACAuC,oBAAgB,0BAAW;AACvB,YAAI1C,UAAU,IAAd;AACA,YAAIW,MAAM,EAAV;AACA,YAAI,KAAKpE,SAAL,IAAkB,CAAtB,EAAyB;AAAE;AACvB,gBAAI,KAAKC,KAAL,CAAW4E,MAAX,IAAqB,CAArB,IAA0B,KAAK5E,KAAL,CAAW,CAAX,EAAcmD,MAAd,IAAwB,CAAtD,EAAyD;AACrDgB,sBAAM,sBAAN;AACH,aAFD,MAEO;AACHA,sBAAM,WAAN;AACH;AACD9F,eAAGwC,EAAH,CAAM4C,KAAN,CAAYC,IAAZ,CAAiB,IAAjB,EAAuBS,GAAvB,EAA4B,YAAW;AACnC9F,mBAAGwC,EAAH,CAAMS,GAAN,CAAUC,IAAV,CAAe,aAAf;AACAiC,wBAAQG,YAAR;AACH,aAHD,EAGG,IAHH;AAIH,SAVD,MAUO;AACHQ,kBAAM,kBAAN;AACA9F,eAAGwC,EAAH,CAAM4C,KAAN,CAAYC,IAAZ,CAAiB,IAAjB,EAAuBS,GAAvB,EAA4B,YAAW;AACnC9F,mBAAGwC,EAAH,CAAMS,GAAN,CAAUC,IAAV,CAAe,SAAf;AACAiC,wBAAQG,YAAR;AACH,aAHD,EAGG,IAHH;AAIH;AACJ,KArcI;AAscL;AACAA,kBAAc,wBAAW;AACrBtF,WAAG8H,QAAH,CAAYC,SAAZ,CAAsB,SAAtB;AACH,KAzcI;AA0cL;AACA;AACA;AACA;AACAC,iBAAa,uBAAW;AACpB,aAAKnG,KAAL,CAAW6B,MAAX,GAAoB,IAApB;AACH,KAhdI;AAidL;AACAuE,kBAAc,wBAAW;AACrB,aAAKpG,KAAL,CAAW6B,MAAX,GAAoB,KAApB;AACH;AApdI,CAAT",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        // _hallGemsV: null,\r\n        // _hallCoinsV: null,\r\n        _alertV: null, //提示框\r\n        _alertContentV: null,\r\n        _morraHallV: null, //大厅view\r\n        _roomIdV: null,\r\n        _seatsV: [], //座位view\r\n        _caiquanV: [],\r\n        //动画相关\r\n        _leftAnimation: null,\r\n        _rightAnimation: null,\r\n        _leftOpenAnim: null,\r\n        _rightOpenAnim: null,\r\n        _animTime: 3000,\r\n        _resultsV: null, //结果显示view\r\n        _currentQuanV: null, //当前选择手势的view\r\n        _winlabelV: null,\r\n        _winBgV: null,\r\n        currentQuan: -1, //当前选择的手势\r\n        isRandom: false, //是否随机手势\r\n        gameEndData: null, //对局结束数据\r\n        jianzi: 0,\r\n        shitou: 1,\r\n        bu: 2,\r\n        seatindex: 0, //当前位置 0左1右\r\n        seats: null,\r\n        canAgain: false, //能否继续游戏（当有人掉线或退出）\r\n        guize: null,\r\n    },\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        // this._hallGemsV = cc.find(\"Canvas/header/jinbi/gems\").getComponent(cc.Label);\r\n        // this._hallCoinsV = cc.find(\"Canvas/header/zuanshi/coins\").getComponent(cc.Label);\r\n        this.guize = cc.find(\"Canvas/guessbox/guize\");\r\n        this._alertV = cc.find(\"Canvas/guessboxAlert\");\r\n        this._alertContentV = this._alertV.getChildByName(\"content\").getComponent(cc.Label);\r\n        this._morraHallV = cc.find(\"Canvas/guessbox\");\r\n        this._roomIdV = this._morraHallV.getChildByName(\"roomId\").getComponent(cc.Label);\r\n        this.initSeatsView();\r\n        this.showWinCount(false);\r\n        this.initCaiquanView();\r\n        this.initEventHandlers();\r\n        this.setGemsAndCoins(cc.vv.userMgr.gems, cc.vv.userMgr.coins);\r\n        if (cc.vv.gameNetMgr.cq_data) {\r\n            console.log(\"------cq_data----\", cc.vv.gameNetMgr.cq_data);\r\n            this.seats = cc.vv.gameNetMgr.cq_data.seats;\r\n            this.initSeatsData(cc.vv.gameNetMgr.cq_data);\r\n        }\r\n        cc.vv.net.send('ready');\r\n    },\r\n    initSeatsView: function() {\r\n        var seat = [];\r\n        seat[0] = this._morraHallV.getChildByName(\"seat\").children[0].getComponent(cc.Label);\r\n        seat[1] = this._morraHallV.getChildByName(\"seat\").children[1].getComponent(cc.Label);\r\n        this._seatsV.seat = seat;\r\n        this._seatsV.difen = this._morraHallV.getChildByName(\"difen\").getComponent(cc.Label);\r\n        this._seatsV.gems = this._morraHallV.getChildByName(\"gemsBg\").getChildByName(\"gems\").getComponent(cc.Label);\r\n        this._seatsV.coins = this._morraHallV.getChildByName(\"coinsBg\").getChildByName(\"coins\").getComponent(cc.Label);\r\n        this._seatsV.wincont = this._morraHallV.getChildByName(\"winBg\").getChildByName(\"wincont\").getComponent(cc.Label);\r\n        this._winlabelV = this._morraHallV.getChildByName(\"winlabel\");\r\n        this._winBgV = this._morraHallV.getChildByName(\"winBg\");\r\n        this._seatsV.lastTime = this._morraHallV.getChildByName(\"lastTimeBg\").getChildByName(\"lastTime\").getComponent(cc.Label);\r\n    },\r\n    initCaiquanView: function() {\r\n        var layout = this._morraHallV.getChildByName(\"content\").getChildByName(\"layout\");\r\n        this._caiquanV.left = layout.getChildByName(\"left\");\r\n        this._caiquanV.left.active = false;\r\n        this._caiquanV.right = layout.getChildByName(\"right\");\r\n        this._caiquanV.right.active = false;\r\n        this._leftAnimation = layout.getChildByName(\"l_anim\");\r\n        this._rightAnimation = layout.getChildByName(\"r_anim\");\r\n        this._leftOpenAnim = this._leftAnimation.getComponent(cc.Animation);\r\n        this._rightOpenAnim = this._rightAnimation.getComponent(cc.Animation);\r\n        this._leftXuanding = this._caiquanV.left.getChildByName('xuanding');\r\n        this._rightXuanding = this._caiquanV.right.getChildByName('xuanding');\r\n        this._resultsV = new Array();\r\n        this._resultsV.push(layout.getChildByName(\"result1\"));\r\n        this._resultsV.push(layout.getChildByName(\"result2\"));\r\n        this._resultsV.push(layout.getChildByName(\"result3\"));\r\n    },\r\n    initEventHandlers: function() {\r\n        cc.vv.gameNetMgr.cqEventHandler = this.node;\r\n        var self = this;\r\n        //游戏开始\r\n        this.node.on('cq_begin', function(data) {\r\n            console.log('cq_begin====================>', data);\r\n            self.playOpenAnim();\r\n        });\r\n        //新增用户\r\n        this.node.on('cq_new_user', function(res) {\r\n            var data = res.detail.data;\r\n            cc.vv.gameNetMgr.cq_data = data;\r\n            self.seats = data.seats;\r\n            self.initSeatsData(data);\r\n        });\r\n        //游戏结束\r\n        this.node.on('cq_game_over', function(res) {\r\n            var data = res.detail.data;\r\n            self.gameEndData = data;\r\n            // self.playOpenAnim();\r\n            self.gameEnd();\r\n            var s = self;\r\n            var again = function() {\r\n                if (s.seatindex == 0 && s.canAgain) { //如果是房主\r\n                    cc.vv.net.send('cq_again');\r\n                }\r\n                s.clearCq();\r\n            }\r\n            setTimeout(again, 2000);\r\n            // var data = data.detail.data;\r\n        });\r\n        //攻擂退出房间\r\n        this.node.on('cq_exit_notify', function(res) {\r\n            var userid = res.detail;\r\n            self.canAgain = false;\r\n            if (userid == cc.vv.userMgr.userId) {\r\n                self.clearCq();\r\n                self.seats = null;\r\n                self.seatindex = 0;\r\n            } else {\r\n                if (self.seats) {\r\n                    self.seats.pop();\r\n                    console.log(\"-------------self.seats--------->>\", self.seats);\r\n                    self._seatsV.seat[1].string = \"\";\r\n                    self.showWinCount(false);\r\n                }\r\n            }\r\n            self.getGemsAndCoins();\r\n        });\r\n        //房主解散房间\r\n        this.node.on('cq_dispress', function(res) {\r\n            var context = self;\r\n            var userid = res.detail;\r\n            if (userid == cc.vv.userMgr.userId) {} else {\r\n                cc.vv.alert.show(\"提示\", \"擂主逃跑了！,并赠送了你全部奖金！\", function() {\r\n                    context.loadHomeHall();\r\n                });\r\n            }\r\n            self.canAgain = false;\r\n            self.clearCq();\r\n            self.seats = null;\r\n            self.seatindex = 0;\r\n            self.getGemsAndCoins();\r\n        });\r\n        //倒计时\r\n        this.node.on('cq_game_time', function(res) {\r\n            var data = res.detail.data;\r\n            self._seatsV.lastTime.string = data;\r\n            if (data == 0) {\r\n                if (self.currentQuan == -1) {\r\n                    //倒计时结束随机选择手势\r\n                    self.isRandom = true;\r\n                    var num = Math.floor(Math.random() * 10) % 3;\r\n                    if (num == 0) {\r\n                        self.chuJianzi();\r\n                    } else if (num == 1) {\r\n                        self.chuShitou();\r\n                    } else {\r\n                        self.chuBu();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        //攻擂失败\r\n        this.node.on('cq_loser_notify', function(res) {\r\n            var context = self;\r\n            var userid = res.detail;\r\n            self.canAgain = false;\r\n            if (userid == cc.vv.userMgr.userId) {\r\n                self.clearCq();\r\n                self.seats = null;\r\n                self.seatindex = 0;\r\n                cc.vv.alert.show(\"提示\", \"您挑战失败！自动退出房间\", function() {\r\n                    context.loadHomeHall();\r\n                });\r\n            } else {\r\n                if (self.seats) {\r\n                    self.seats.pop();\r\n                    console.log(\"-------------cq_loser_notify--------->>\", self.seats);\r\n                    self._seatsV.seat[1].string = \"\";\r\n                }\r\n                self.showWinCount(false);\r\n            }\r\n            self.getGemsAndCoins();\r\n        });\r\n        //攻擂成功\r\n        this.node.on('cq_winner_notify', function(res) {\r\n            var context = self;\r\n            var userid = res.detail;\r\n            var str = \"\";\r\n            if (userid == cc.vv.userMgr.userId) {\r\n                cc.vv.alert.show(\"提示\", \"攻擂成功！并获得了全部奖金！\", function() {\r\n                    context.loadHomeHall();\r\n                });\r\n            } else {\r\n                cc.vv.alert.show(\"提示\", \"您被打败了！并将奖金赠送给了对手！\", function() {\r\n                    context.loadHomeHall();\r\n                });\r\n            }\r\n            self.canAgain = false;\r\n            self.clearCq();\r\n            self.seats = null;\r\n            self.seatindex = 0;\r\n            self.getGemsAndCoins();\r\n        });\r\n        //出拳通知\r\n        this.node.on('cq_chuquan_notify', function(data) {\r\n            //停止动画，显示已出拳\r\n            var userId = data.detail;\r\n            if (self.seats[0].userid == userId) {\r\n                // 擂主出拳\r\n                self._leftOpenAnim.stop();\r\n                self._leftAnimation.active = false;\r\n                self._caiquanV.left.active = true;\r\n                if (cc.vv.userMgr.userId != userId) {\r\n                    //不是本人的时候，显示已选定\r\n                    self._leftXuanding.active = true;\r\n                }\r\n            } else {\r\n                //userid\r\n                self._rightOpenAnim.stop();\r\n                self._rightAnimation.active = false;\r\n                self._caiquanV.right.active = true;\r\n                if (cc.vv.userMgr.userId != userId) {\r\n                    //不是本人的时候，显示已选定\r\n                    self._rightXuanding.active = true;\r\n                }\r\n            }\r\n        })\r\n        this.node.on('disconnect', function(res) {\r\n            var context = self;\r\n            self.canAgain = false;\r\n            self.seats = null;\r\n            self.seatindex = 0;\r\n        });\r\n    },\r\n    initSeatsData: function(data) {\r\n        var self = this;\r\n        var consu = data.conf.consu;\r\n        if (consu == 0) {\r\n            //金币\r\n            self._seatsV.difen.string = cc.vv.utils.showJinbi(data.conf.baseScore) + \"金币\";\r\n        } else {\r\n            //钻石\r\n            self._seatsV.difen.string = cc.vv.utils.showJinbi(data.conf.baseScore) + \"钻石\";\r\n        }\r\n        if (self.seats) {\r\n            self._roomIdV.string = \"房间号：\" + cc.vv.gameNetMgr.roomId;\r\n            for (var i = 0; i < self.seats.length; i++) {\r\n                self._seatsV.seat[i].string = self.seats[i].name;\r\n                if (self.seats[i].userid == cc.vv.userMgr.userId) {\r\n                    self._seatsV.wincont.string = self.seats[i].score;\r\n                    self.seatindex = self.seats[i].seatindex;\r\n                    self.getGemsAndCoins();\r\n                }\r\n            }\r\n            if (self.seats.length == 2 && self.seats[1].userid != 0) {\r\n                if (self.seats[0].userid == cc.vv.userMgr.userId) { //房主提示有人进入房间\r\n                    self._alertContentV.string = self.seats[1].name + \"进入了房间\";\r\n                    self._alertV.active = true;\r\n                    var context = self;\r\n                    setTimeout(function() {\r\n                        context._alertV.active = false;\r\n                    }, 3000);\r\n                }\r\n                this.showWinCount(true);\r\n            } else {\r\n                this.showWinCount(false);\r\n            }\r\n        }\r\n        self.canAgain = (self.seats.length == 2 && self.seats[1].userid != 0);\r\n        self.clearCq();\r\n    },\r\n    gameEnd: function() {\r\n        if (!this.gameEndData || this.gameEndData == null) {\r\n            return;\r\n        }\r\n        this._rightXuanding.active = false;\r\n        this._leftXuanding.active = false;\r\n        for (var i = 0; i < this.gameEndData.length; i++) {\r\n            if (this.gameEndData[i].seatIndex == this.seatindex) { //如果是自己\r\n                // this._resultsV[this.gameEndData[i].wined].active = true;\r\n                this._resultsV[this.gameEndData[1].wined].active = true;//只显示攻擂者的输赢\r\n            } else {\r\n                this.gameOverShowGesture(this.gameEndData[i].chuQuan, i);\r\n            }\r\n            this._seatsV.wincont.string = (i == 0 ? 0 : this.gameEndData[i].winCount); //显示攻擂者得分\r\n        }\r\n    },\r\n    clearCq: function() {\r\n        if (this._caiquanV) {\r\n            var left = this._caiquanV.left.children;\r\n            var right = this._caiquanV.right.children;\r\n            for (var i = 0; i < left.length; i++) {\r\n                for (var j = 0; j < left[i].children.length; j++) {\r\n                    left[i].children[j].active = false;\r\n                }\r\n            }\r\n            for (var i = 0; i < right.length; i++) {\r\n                for (var j = 0; j < right[i].children.length; j++) {\r\n                    right[i].children[j].active = false;\r\n                }\r\n            }\r\n        }\r\n        if (this._resultsV) {\r\n            for (var i = 0; i < this._resultsV.length; i++) {\r\n                this._resultsV[i].active = false;\r\n            }\r\n        }\r\n        this._currentQuanV = null;\r\n        this.currentQuan = -1;\r\n        this.isRandom = false;\r\n        this.gameEndData = null;\r\n        if (this._caiquanV) {\r\n            this._caiquanV.left.active = false;\r\n        }\r\n        if (this._caiquanV) {\r\n            this._caiquanV.right.active = false;\r\n        }\r\n    },\r\n    // 猜拳动画播放\r\n    playOpenAnim: function() {\r\n        var self = this;\r\n        this._caiquanV.left.active = false;\r\n        this._caiquanV.right.active = false;\r\n        var leftAnim = function() {\r\n            self._leftAnimation.active = true;\r\n            var animState1 = self._leftOpenAnim.play('caiquan2');\r\n            animState1.wrapMode = cc.WrapMode.Loop;\r\n        }\r\n        var rightAnim = function() {\r\n            self._rightAnimation.active = true;\r\n            var animState2 = self._rightOpenAnim.play('caiquan1');\r\n            animState2.wrapMode = cc.WrapMode.Loop;\r\n        }\r\n        if (self.isRandom) {\r\n            leftAnim();\r\n            rightAnim();\r\n            return;\r\n        }\r\n        leftAnim();\r\n        rightAnim();\r\n    },\r\n    showGesture: function(type) { //手势显示\r\n        if (this._currentQuanV && this._currentQuanV != null) {\r\n            this._currentQuanV.active = false;\r\n        }\r\n        var left = this._caiquanV.left.children;\r\n        var right = this._caiquanV.right.children;\r\n        for (var i in left) {\r\n            left[i].active = false;\r\n        }\r\n        for (var i in right) {\r\n            right[i].active = false;\r\n        }\r\n        if (this.seatindex == 0) { //左边\r\n            left[0].active = true;\r\n            this._currentQuanV = left[0].children[type];\r\n        } else {\r\n            right[1].active = true;\r\n            this._currentQuanV = right[1].children[type];\r\n        }\r\n        this._currentQuanV.active = true;\r\n        this.currentQuan = type;\r\n        this._caiquanV.left.active = true;\r\n        this._caiquanV.right.active = true;\r\n    },\r\n    gameOverShowGesture: function(type, index) {\r\n        var left = this._caiquanV.left.children;\r\n        var right = this._caiquanV.right.children;\r\n        if (index == 0) {\r\n            left[0].active = true;\r\n            left[0].children[type].active = true;\r\n        } else {\r\n            right[1].active = true;\r\n            right[1].children[type].active = true;\r\n        }\r\n        return;\r\n    },\r\n    //是否显示赢句次数\r\n    showWinCount: function(flag) {\r\n        this._winlabelV.active = flag;\r\n        this._winBgV.active = flag;\r\n    },\r\n    //设置金币钻石数量\r\n    getGemsAndCoins: function() {\r\n        var self = this;\r\n        cc.vv.userMgr.getGemsAndCoins(function(data) {\r\n            console.log(\"------getGemsAndCoins-------->\", data);\r\n            cc.vv.userMgr.gems = data.gems;\r\n            cc.vv.userMgr.coins = data.coins;\r\n            // self._hallGemsV.string = data.gems;\r\n            // self._hallCoinsV.string = data.coins;\r\n            self.setGemsAndCoins(data.gems, data.coins);\r\n        });\r\n    },\r\n    setGemsAndCoins: function(gems, coins) {\r\n        if (this._seatsV && this._seatsV.gems && this._seatsV.coins) {\r\n            this._seatsV.gems.string = cc.vv.utils.showJinbi(gems);\r\n            this._seatsV.coins.string = coins;\r\n        }\r\n    },\r\n    //出剪子\r\n    chuJianzi: function() {\r\n        if (this.currentQuan == -1) {\r\n            this.showGesture(this.jianzi);\r\n            cc.vv.net.send('cq_shot', this.jianzi);\r\n        }\r\n    },\r\n    //出石头\r\n    chuShitou: function() {\r\n        if (this.currentQuan == -1) {\r\n            this.showGesture(this.shitou);\r\n            cc.vv.net.send('cq_shot', this.shitou);\r\n        }\r\n    },\r\n    //出布\r\n    chuBu: function() {\r\n        if (this.currentQuan == -1) {\r\n            this.showGesture(this.bu);\r\n            cc.vv.net.send('cq_shot', this.bu);\r\n        }\r\n    },\r\n    //关闭弹框通知\r\n    onBtnCloseAlert: function() {\r\n        this._alertV.active = false;\r\n        this.loadHomeHall();\r\n        // this._morraHallV.active = false;\r\n    },\r\n    //关闭猜拳大厅\r\n    onBtnCloseRoom: function() {\r\n        var context = this;\r\n        var str = \"\";\r\n        if (this.seatindex == 0) { //房主\r\n            if (this.seats.length == 2 && this.seats[1].userid != 0) {\r\n                str = \"您确定要放弃守擂！并将奖金赠送给了对手？\";\r\n            } else {\r\n                str = \"您确定要离开擂台？\";\r\n            }\r\n            cc.vv.alert.show(\"提示\", str, function() {\r\n                cc.vv.net.send('cq_dispress');\r\n                context.loadHomeHall();\r\n            }, true);\r\n        } else {\r\n            str = \"您手续费已扣除！您确定放弃攻擂？\";\r\n            cc.vv.alert.show(\"提示\", str, function() {\r\n                cc.vv.net.send('cq_exit');\r\n                context.loadHomeHall();\r\n            }, true);\r\n        }\r\n    },\r\n    //加载首页大厅\r\n    loadHomeHall: function() {\r\n        cc.director.loadScene(\"newhall\");\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n    // },\r\n    //打开猜拳规则\r\n    onOpenguize: function() {\r\n        this.guize.active = true;\r\n    },\r\n    //打开猜拳规则\r\n    onCloseguize: function() {\r\n        this.guize.active = false;\r\n    },\r\n});"
  ]
}
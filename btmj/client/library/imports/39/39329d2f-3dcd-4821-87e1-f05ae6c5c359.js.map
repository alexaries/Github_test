{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "CC_JSB",
    "cc",
    "sys",
    "isNative",
    "f",
    "exports",
    "module",
    "define",
    "amd",
    "g",
    "window",
    "global",
    "self",
    "io",
    "e",
    "t",
    "n",
    "r",
    "s",
    "o",
    "u",
    "a",
    "require",
    "i",
    "Error",
    "code",
    "l",
    "call",
    "length",
    "_dereq_",
    "parser",
    "transports",
    "Emitter",
    "debug",
    "index",
    "parseuri",
    "parsejson",
    "parseqs",
    "Socket",
    "noop",
    "uri",
    "opts",
    "hostname",
    "host",
    "secure",
    "protocol",
    "port",
    "query",
    "location",
    "agent",
    "decode",
    "upgrade",
    "path",
    "replace",
    "forceJSONP",
    "jsonp",
    "forceBase64",
    "enablesXDR",
    "timestampParam",
    "timestampRequests",
    "readyState",
    "writeBuffer",
    "policyPort",
    "rememberUpgrade",
    "binaryType",
    "onlyBinaryUpgrades",
    "perMessageDeflate",
    "threshold",
    "pfx",
    "key",
    "passphrase",
    "cert",
    "ca",
    "ciphers",
    "rejectUnauthorized",
    "undefined",
    "freeGlobal",
    "extraHeaders",
    "Object",
    "keys",
    "open",
    "priorWebsocketSuccess",
    "prototype",
    "Transport",
    "createTransport",
    "name",
    "clone",
    "EIO",
    "transport",
    "id",
    "sid",
    "socket",
    "obj",
    "hasOwnProperty",
    "indexOf",
    "setTimeout",
    "emit",
    "shift",
    "setTransport",
    "removeAllListeners",
    "on",
    "onDrain",
    "packet",
    "onPacket",
    "onError",
    "onClose",
    "probe",
    "failed",
    "onTransportOpen",
    "upgradeLosesBinary",
    "supportsBinary",
    "send",
    "type",
    "data",
    "once",
    "msg",
    "upgrading",
    "pause",
    "cleanup",
    "flush",
    "err",
    "freezeTransport",
    "close",
    "onerror",
    "error",
    "onTransportClose",
    "onclose",
    "onupgrade",
    "to",
    "removeListener",
    "onOpen",
    "upgrades",
    "onHandshake",
    "setPing",
    "filterUpgrades",
    "pingInterval",
    "pingTimeout",
    "onHeartbeat",
    "timeout",
    "clearTimeout",
    "pingTimeoutTimer",
    "pingIntervalTimer",
    "ping",
    "sendPacket",
    "splice",
    "prevBufferLen",
    "writable",
    "write",
    "options",
    "fn",
    "compress",
    "push",
    "waitForUpgrade",
    "cleanupAndClose",
    "reason",
    "desc",
    "filteredUpgrades",
    "j",
    "description",
    "doOpen",
    "doClose",
    "packets",
    "onData",
    "decodePacket",
    "XMLHttpRequest",
    "XHR",
    "JSONP",
    "websocket",
    "polling",
    "xhr",
    "xd",
    "xs",
    "isSSL",
    "xdomain",
    "xscheme",
    "Polling",
    "inherit",
    "JSONPPolling",
    "rNewline",
    "rEscapedNewline",
    "callbacks",
    "empty",
    "___eio",
    "document",
    "addEventListener",
    "script",
    "parentNode",
    "removeChild",
    "form",
    "iframe",
    "doPoll",
    "createElement",
    "async",
    "src",
    "insertAt",
    "getElementsByTagName",
    "insertBefore",
    "head",
    "body",
    "appendChild",
    "isUAgecko",
    "navigator",
    "test",
    "userAgent",
    "doWrite",
    "area",
    "iframeId",
    "className",
    "style",
    "position",
    "top",
    "left",
    "target",
    "method",
    "setAttribute",
    "action",
    "complete",
    "initIframe",
    "html",
    "value",
    "submit",
    "attachEvent",
    "onreadystatechange",
    "onload",
    "Request",
    "request",
    "isBinary",
    "req",
    "sendXhr",
    "pollXhr",
    "create",
    "setDisableHeaderCheck",
    "setRequestHeader",
    "responseType",
    "withCredentials",
    "hasXDR",
    "onLoad",
    "responseText",
    "status",
    "requestsCount",
    "requests",
    "onSuccess",
    "fromError",
    "abort",
    "contentType",
    "getResponseHeader",
    "split",
    "response",
    "String",
    "fromCharCode",
    "apply",
    "Uint8Array",
    "ui8Arr",
    "dataArray",
    "idx",
    "XDomainRequest",
    "unloadHandler",
    "yeast",
    "hasXHR2",
    "poll",
    "onPause",
    "pending",
    "total",
    "callback",
    "decodePayload",
    "callbackfn",
    "encodePayload",
    "schema",
    "b64",
    "encode",
    "ipv6",
    "BrowserWebSocket",
    "WebSocket",
    "MozWebSocket",
    "WS",
    "check",
    "protocols",
    "headers",
    "ws",
    "supports",
    "binary",
    "addEventListeners",
    "onopen",
    "onmessage",
    "ev",
    "encodePacket",
    "len",
    "Buffer",
    "byteLength",
    "done",
    "hasCORS",
    "ActiveXObject",
    "after",
    "count",
    "err_cb",
    "bail",
    "proxy",
    "result",
    "arraybuffer",
    "start",
    "end",
    "bytes",
    "slice",
    "ArrayBuffer",
    "abv",
    "ii",
    "buffer",
    "chars",
    "base64",
    "substring",
    "bufferLength",
    "p",
    "encoded1",
    "encoded2",
    "encoded3",
    "encoded4",
    "BlobBuilder",
    "WebKitBlobBuilder",
    "MSBlobBuilder",
    "MozBlobBuilder",
    "blobSupported",
    "Blob",
    "size",
    "blobSupportsArrayBufferView",
    "b",
    "blobBuilderSupported",
    "append",
    "getBlob",
    "mapArrayBufferViews",
    "ary",
    "chunk",
    "buf",
    "copy",
    "set",
    "byteOffset",
    "BlobBuilderConstructor",
    "bb",
    "BlobConstructor",
    "mixin",
    "event",
    "_callbacks",
    "off",
    "arguments",
    "removeEventListener",
    "cb",
    "args",
    "listeners",
    "hasListeners",
    "constructor",
    "log",
    "formatArgs",
    "save",
    "load",
    "useColors",
    "storage",
    "chrome",
    "local",
    "localstorage",
    "colors",
    "documentElement",
    "console",
    "firebug",
    "exception",
    "table",
    "toLowerCase",
    "match",
    "parseInt",
    "RegExp",
    "$1",
    "formatters",
    "v",
    "JSON",
    "stringify",
    "namespace",
    "humanize",
    "diff",
    "c",
    "color",
    "concat",
    "Array",
    "lastC",
    "Function",
    "namespaces",
    "removeItem",
    "enable",
    "localStorage",
    "coerce",
    "disable",
    "enabled",
    "names",
    "skips",
    "prevColor",
    "prevTime",
    "selectColor",
    "disabled",
    "curr",
    "Date",
    "ms",
    "prev",
    "format",
    "formatter",
    "val",
    "logFn",
    "bind",
    "substr",
    "stack",
    "message",
    "hasBinary",
    "sliceBuffer",
    "base64encoder",
    "utf8",
    "isAndroid",
    "isPhantomJS",
    "dontSendBlobs",
    "pong",
    "packetslist",
    "utf8encode",
    "encodeArrayBuffer",
    "encodeBlob",
    "encodeBase64Object",
    "encoded",
    "encodeBase64Packet",
    "contentArray",
    "resultBuffer",
    "encodeBlobAsArrayBuffer",
    "fr",
    "FileReader",
    "readAsArrayBuffer",
    "blob",
    "readAsDataURL",
    "b64data",
    "typed",
    "basic",
    "btoa",
    "utf8decode",
    "charAt",
    "decodeBase64Packet",
    "Number",
    "asArray",
    "rest",
    "encodePayloadAsBlob",
    "encodePayloadAsArrayBuffer",
    "setLengthHeader",
    "encodeOne",
    "doneCallback",
    "map",
    "results",
    "join",
    "each",
    "next",
    "eachWithIndex",
    "el",
    "decodePayloadAsBinary",
    "chr",
    "ret",
    "encodedPackets",
    "totalLength",
    "reduce",
    "acc",
    "toString",
    "resultArray",
    "bufferIndex",
    "forEach",
    "isString",
    "ab",
    "view",
    "charCodeAt",
    "lenStr",
    "binaryIdentifier",
    "lengthAry",
    "bufferTail",
    "buffers",
    "numberTooLong",
    "tailArray",
    "msgLength",
    "arr",
    "has",
    "isArray",
    "_hasBinary",
    "isBuffer",
    "File",
    "toJSON",
    "m",
    "h",
    "d",
    "y",
    "parse",
    "long",
    "short",
    "str",
    "exec",
    "parseFloat",
    "Math",
    "round",
    "plural",
    "floor",
    "ceil",
    "rvalidchars",
    "rvalidescape",
    "rvalidtokens",
    "rvalidbraces",
    "rtrimLeft",
    "rtrimRight",
    "encodeURIComponent",
    "qs",
    "qry",
    "pairs",
    "pair",
    "decodeURIComponent",
    "re",
    "parts",
    "source",
    "authority",
    "ipv6uri",
    "root",
    "freeExports",
    "freeModule",
    "stringFromCharCode",
    "ucs2decode",
    "string",
    "output",
    "counter",
    "extra",
    "ucs2encode",
    "array",
    "checkScalarValue",
    "codePoint",
    "toUpperCase",
    "createByte",
    "encodeCodePoint",
    "symbol",
    "codePoints",
    "byteString",
    "readContinuationByte",
    "byteIndex",
    "byteCount",
    "continuationByte",
    "byteArray",
    "decodeSymbol",
    "byte1",
    "byte2",
    "byte3",
    "byte4",
    "tmp",
    "nodeType",
    "object",
    "alphabet",
    "seed",
    "num",
    "decoded",
    "now",
    "url",
    "Manager",
    "lookup",
    "cache",
    "managers",
    "parsed",
    "sameNamespace",
    "nsps",
    "newConnection",
    "forceNew",
    "multiplex",
    "connect",
    "eio",
    "Backoff",
    "subs",
    "reconnection",
    "reconnectionAttempts",
    "Infinity",
    "reconnectionDelay",
    "reconnectionDelayMax",
    "randomizationFactor",
    "backoff",
    "min",
    "max",
    "jitter",
    "connecting",
    "lastPing",
    "encoding",
    "packetBuffer",
    "encoder",
    "Encoder",
    "decoder",
    "Decoder",
    "autoConnect",
    "emitAll",
    "nsp",
    "updateSocketIds",
    "engine",
    "_reconnection",
    "_reconnectionAttempts",
    "_reconnectionDelay",
    "setMin",
    "_randomizationFactor",
    "setJitter",
    "_reconnectionDelayMax",
    "setMax",
    "_timeout",
    "maybeReconnectOnOpen",
    "reconnecting",
    "attempts",
    "reconnect",
    "skipReconnect",
    "openSub",
    "errorSub",
    "timer",
    "destroy",
    "onping",
    "onpong",
    "ondata",
    "add",
    "ondecoded",
    "onConnecting",
    "processPacketQueue",
    "pack",
    "sub",
    "disconnect",
    "reset",
    "delay",
    "duration",
    "onreconnect",
    "attempt",
    "toArray",
    "hasBin",
    "events",
    "connect_error",
    "connect_timeout",
    "reconnect_attempt",
    "reconnect_failed",
    "reconnect_error",
    "json",
    "ids",
    "acks",
    "receiveBuffer",
    "sendBuffer",
    "connected",
    "disconnected",
    "subEvents",
    "unshift",
    "parserType",
    "EVENT",
    "BINARY_EVENT",
    "flags",
    "pop",
    "CONNECT",
    "onpacket",
    "onconnect",
    "onevent",
    "ACK",
    "onack",
    "BINARY_ACK",
    "DISCONNECT",
    "ondisconnect",
    "ERROR",
    "ack",
    "sent",
    "emitBuffered",
    "loc",
    "href",
    "factor",
    "pow",
    "rand",
    "random",
    "deviation",
    "isBuf",
    "deconstructPacket",
    "packetData",
    "_deconstructPacket",
    "placeholder",
    "_placeholder",
    "newData",
    "attachments",
    "reconstructPacket",
    "curPlaceHolder",
    "_reconstructPacket",
    "removeBlobs",
    "_removeBlobs",
    "curKey",
    "containingObject",
    "pendingBlobs",
    "fileReader",
    "bloblessData",
    "types",
    "encodeAsBinary",
    "encodeAsString",
    "writeEncoding",
    "deconstruction",
    "reconstructor",
    "decodeString",
    "BinaryReconstructor",
    "reconPack",
    "takeBinaryData",
    "finishedReconstruction",
    "binData",
    "isLoader",
    "objectTypes",
    "runInContext",
    "context",
    "SyntaxError",
    "TypeError",
    "nativeJSON",
    "objectProto",
    "getClass",
    "isProperty",
    "undef",
    "isExtended",
    "getUTCFullYear",
    "getUTCMonth",
    "getUTCDate",
    "getUTCHours",
    "getUTCMinutes",
    "getUTCSeconds",
    "getUTCMilliseconds",
    "isSupported",
    "serialized",
    "stringifySupported",
    "parseSupported",
    "functionClass",
    "dateClass",
    "numberClass",
    "stringClass",
    "arrayClass",
    "booleanClass",
    "charIndexBuggy",
    "Months",
    "getDay",
    "year",
    "month",
    "property",
    "members",
    "__proto__",
    "original",
    "parent",
    "Properties",
    "valueOf",
    "isFunction",
    "hasProperty",
    "isConstructor",
    "Escapes",
    "leadingZeroes",
    "toPaddedString",
    "width",
    "unicodePrefix",
    "quote",
    "useCharIndex",
    "symbols",
    "charCode",
    "serialize",
    "properties",
    "whitespace",
    "indentation",
    "date",
    "time",
    "hours",
    "minutes",
    "seconds",
    "milliseconds",
    "element",
    "prefix",
    "filter",
    "Unescapes",
    "Index",
    "Source",
    "lex",
    "begin",
    "isSigned",
    "get",
    "hasMembers",
    "update",
    "walk",
    "previousJSON",
    "isRestored",
    "JSON3",
    "list"
  ],
  "mappings": ";;;;AAAA,IAAI,CAACA,MAAD,IAAW,CAACC,GAAGC,GAAH,CAAOC,QAAvB,EAAiC;AAChC,EAAC,UAAUC,CAAV,EAAa;AACb,MAAI,QAAOC,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAArD,EAAkE;AACjEA,UAAOD,OAAP,GAAiBD,GAAjB;AACA,GAFD,MAEO,IAAI,OAAOG,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAA3C,EAAgD;AACtDD,UAAO,EAAP,EAAWH,CAAX;AACA,GAFM,MAEA;AACN,OAAIK,CAAJ;AACA,OAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AAClCD,QAAIC,MAAJ;AACA,IAFD,MAEO,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACzCF,QAAIE,MAAJ;AACA,IAFM,MAEA,IAAI,OAAOC,IAAP,KAAgB,WAApB,EAAiC;AACvCH,QAAIG,IAAJ;AACA,IAFM,MAEA;AACNH,QAAI,IAAJ;AACA;AACDA,KAAEI,EAAF,GAAOT,GAAP;AACA;AACD,EAlBD,EAkBG,YAAY;AACd,MAAIG,MAAJ,EAAYD,MAAZ,EAAoBD,OAApB;AACA,SAAQ,SAASS,CAAT,CAAWC,CAAX,EAAcC,CAAd,EAAiBC,CAAjB,EAAoB;AAC3B,YAASC,CAAT,CAAWC,CAAX,EAAcC,CAAd,EAAiB;AAChB,QAAI,CAACJ,EAAEG,CAAF,CAAL,EAAW;AACV,SAAI,CAACJ,EAAEI,CAAF,CAAL,EAAW;AACV,UAAIE,IAAI,OAAOC,OAAP,IAAkB,UAAlB,IAAgCA,OAAxC;AACA,UAAI,CAACF,CAAD,IAAMC,CAAV,EAAa,OAAOA,EAAEF,CAAF,EAAK,CAAC,CAAN,CAAP;AACb,UAAII,CAAJ,EAAO,OAAOA,EAAEJ,CAAF,EAAK,CAAC,CAAN,CAAP;AACP,UAAIf,IAAI,IAAIoB,KAAJ,CAAU,yBAAyBL,CAAzB,GAA6B,GAAvC,CAAR;AACA,YAAMf,EAAEqB,IAAF,GAAS,kBAAT,EAA6BrB,CAAnC;AACA;AACD,SAAIsB,IAAIV,EAAEG,CAAF,IAAO;AACdd,eAAS;AADK,MAAf;AAGAU,OAAEI,CAAF,EAAK,CAAL,EAAQQ,IAAR,CAAaD,EAAErB,OAAf,EAAwB,UAAUS,CAAV,EAAa;AACpC,UAAIE,IAAID,EAAEI,CAAF,EAAK,CAAL,EAAQL,CAAR,CAAR;AACA,aAAOI,EAAEF,IAAIA,CAAJ,GAAQF,CAAV,CAAP;AACA,MAHD,EAGGY,CAHH,EAGMA,EAAErB,OAHR,EAGiBS,CAHjB,EAGoBC,CAHpB,EAGuBC,CAHvB,EAG0BC,CAH1B;AAIA;AACD,WAAOD,EAAEG,CAAF,EAAKd,OAAZ;AACA;AACD,OAAIkB,IAAI,OAAOD,OAAP,IAAkB,UAAlB,IAAgCA,OAAxC;AACA,QAAK,IAAIH,IAAI,CAAb,EAAgBA,IAAIF,EAAEW,MAAtB,EAA8BT,GAA9B;AAAmCD,MAAED,EAAEE,CAAF,CAAF;AAAnC,IACA,OAAOD,CAAP;AACA,GAvBM,CAuBJ;AACF,MAAG,CAAC,UAAUW,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAEvCC,WAAOD,OAAP,GAAiBwB,QAAQ,QAAR,CAAjB;AAEA,IAJE,EAIA;AACF,cAAU;AADR,IAJA,CADD;AAQF,MAAG,CAAC,UAAUA,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAEvCC,WAAOD,OAAP,GAAiBwB,QAAQ,UAAR,CAAjB;;AAEA;;;;;;AAMAvB,WAAOD,OAAP,CAAeyB,MAAf,GAAwBD,QAAQ,kBAAR,CAAxB;AAEA,IAZE,EAYA;AACF,gBAAY,CADV;AAEF,wBAAoB;AAFlB,IAZA,CARD;AAwBF,MAAG,CAAC,UAAUA,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACvC,KAAC,UAAUM,MAAV,EAAkB;AAClB;;;;AAIA,SAAIoB,aAAaF,QAAQ,cAAR,CAAjB;AACA,SAAIG,UAAUH,QAAQ,mBAAR,CAAd;AACA,SAAII,QAAQJ,QAAQ,OAAR,EAAiB,yBAAjB,CAAZ;AACA,SAAIK,QAAQL,QAAQ,SAAR,CAAZ;AACA,SAAIC,SAASD,QAAQ,kBAAR,CAAb;AACA,SAAIM,WAAWN,QAAQ,UAAR,CAAf;AACA,SAAIO,YAAYP,QAAQ,WAAR,CAAhB;AACA,SAAIQ,UAAUR,QAAQ,SAAR,CAAd;;AAEA;;;;AAIAvB,YAAOD,OAAP,GAAiBiC,MAAjB;;AAEA;;;;;;AAMA,cAASC,IAAT,GAAgB,CAAE;;AAElB;;;;;;;;AAQA,cAASD,MAAT,CAAgBE,GAAhB,EAAqBC,IAArB,EAA2B;AAC1B,UAAI,EAAE,gBAAgBH,MAAlB,CAAJ,EAA+B,OAAO,IAAIA,MAAJ,CAAWE,GAAX,EAAgBC,IAAhB,CAAP;;AAE/BA,aAAOA,QAAQ,EAAf;;AAEA,UAAID,OAAO,oBAAmBA,GAAnB,yCAAmBA,GAAnB,EAAX,EAAmC;AAClCC,cAAOD,GAAP;AACAA,aAAM,IAAN;AACA;;AAED,UAAIA,GAAJ,EAAS;AACRA,aAAML,SAASK,GAAT,CAAN;AACAC,YAAKC,QAAL,GAAgBF,IAAIG,IAApB;AACAF,YAAKG,MAAL,GAAcJ,IAAIK,QAAJ,IAAgB,OAAhB,IAA2BL,IAAIK,QAAJ,IAAgB,KAAzD;AACAJ,YAAKK,IAAL,GAAYN,IAAIM,IAAhB;AACA,WAAIN,IAAIO,KAAR,EAAeN,KAAKM,KAAL,GAAaP,IAAIO,KAAjB;AACf,OAND,MAMO,IAAIN,KAAKE,IAAT,EAAe;AACrBF,YAAKC,QAAL,GAAgBP,SAASM,KAAKE,IAAd,EAAoBA,IAApC;AACA;;AAED,WAAKC,MAAL,GAAc,QAAQH,KAAKG,MAAb,GAAsBH,KAAKG,MAA3B,GACZjC,OAAOqC,QAAP,IAAmB,YAAYA,SAASH,QAD1C;;AAGA,UAAIJ,KAAKC,QAAL,IAAiB,CAACD,KAAKK,IAA3B,EAAiC;AAChC;AACAL,YAAKK,IAAL,GAAY,KAAKF,MAAL,GAAc,KAAd,GAAsB,IAAlC;AACA;;AAED,WAAKK,KAAL,GAAaR,KAAKQ,KAAL,IAAc,KAA3B;AACA,WAAKP,QAAL,GAAgBD,KAAKC,QAAL,KACd/B,OAAOqC,QAAP,GAAkBA,SAASN,QAA3B,GAAsC,WADxB,CAAhB;AAEA,WAAKI,IAAL,GAAYL,KAAKK,IAAL,KAAcnC,OAAOqC,QAAP,IAAmBA,SAASF,IAA5B,GACzBE,SAASF,IADgB,GAExB,KAAKF,MAAL,GAAc,GAAd,GAAoB,EAFV,CAAZ;AAGA,WAAKG,KAAL,GAAaN,KAAKM,KAAL,IAAc,EAA3B;AACA,UAAI,YAAY,OAAO,KAAKA,KAA5B,EAAmC,KAAKA,KAAL,GAAaV,QAAQa,MAAR,CAAe,KAAKH,KAApB,CAAb;AACnC,WAAKI,OAAL,GAAe,UAAUV,KAAKU,OAA9B;AACA,WAAKC,IAAL,GAAY,CAACX,KAAKW,IAAL,IAAa,YAAd,EAA4BC,OAA5B,CAAoC,KAApC,EAA2C,EAA3C,IAAiD,GAA7D;AACA,WAAKC,UAAL,GAAkB,CAAC,CAACb,KAAKa,UAAzB;AACA,WAAKC,KAAL,GAAa,UAAUd,KAAKc,KAA5B;AACA,WAAKC,WAAL,GAAmB,CAAC,CAACf,KAAKe,WAA1B;AACA,WAAKC,UAAL,GAAkB,CAAC,CAAChB,KAAKgB,UAAzB;AACA,WAAKC,cAAL,GAAsBjB,KAAKiB,cAAL,IAAuB,GAA7C;AACA,WAAKC,iBAAL,GAAyBlB,KAAKkB,iBAA9B;AACA,WAAK5B,UAAL,GAAkBU,KAAKV,UAAL,IAAmB,CAAC,SAAD,EAAY,WAAZ,CAArC;AACA,WAAK6B,UAAL,GAAkB,EAAlB;AACA,WAAKC,WAAL,GAAmB,EAAnB;AACA,WAAKC,UAAL,GAAkBrB,KAAKqB,UAAL,IAAmB,GAArC;AACA,WAAKC,eAAL,GAAuBtB,KAAKsB,eAAL,IAAwB,KAA/C;AACA,WAAKC,UAAL,GAAkB,IAAlB;AACA,WAAKC,kBAAL,GAA0BxB,KAAKwB,kBAA/B;AACA,WAAKC,iBAAL,GAAyB,UAAUzB,KAAKyB,iBAAf,GAAoCzB,KAAKyB,iBAAL,IAA0B,EAA9D,GAAoE,KAA7F;;AAEA,UAAI,SAAS,KAAKA,iBAAlB,EAAqC,KAAKA,iBAAL,GAAyB,EAAzB;AACrC,UAAI,KAAKA,iBAAL,IAA0B,QAAQ,KAAKA,iBAAL,CAAuBC,SAA7D,EAAwE;AACvE,YAAKD,iBAAL,CAAuBC,SAAvB,GAAmC,IAAnC;AACA;;AAED;AACA,WAAKC,GAAL,GAAW3B,KAAK2B,GAAL,IAAY,IAAvB;AACA,WAAKC,GAAL,GAAW5B,KAAK4B,GAAL,IAAY,IAAvB;AACA,WAAKC,UAAL,GAAkB7B,KAAK6B,UAAL,IAAmB,IAArC;AACA,WAAKC,IAAL,GAAY9B,KAAK8B,IAAL,IAAa,IAAzB;AACA,WAAKC,EAAL,GAAU/B,KAAK+B,EAAL,IAAW,IAArB;AACA,WAAKC,OAAL,GAAehC,KAAKgC,OAAL,IAAgB,IAA/B;AACA,WAAKC,kBAAL,GAA0BjC,KAAKiC,kBAAL,KAA4BC,SAA5B,GAAwC,IAAxC,GAA+ClC,KAAKiC,kBAA9E;;AAEA;AACA,UAAIE,aAAa,QAAOjE,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,MAA9C;AACA,UAAIiE,WAAWjE,MAAX,KAAsBiE,UAA1B,EAAsC;AACrC,WAAInC,KAAKoC,YAAL,IAAqBC,OAAOC,IAAP,CAAYtC,KAAKoC,YAAjB,EAA+BjD,MAA/B,GAAwC,CAAjE,EAAoE;AACnE,aAAKiD,YAAL,GAAoBpC,KAAKoC,YAAzB;AACA;AACD;;AAED,WAAKG,IAAL;AACA;;AAED1C,YAAO2C,qBAAP,GAA+B,KAA/B;;AAEA;;;;AAIAjD,aAAQM,OAAO4C,SAAf;;AAEA;;;;;;AAMA5C,YAAOO,QAAP,GAAkBf,OAAOe,QAAzB,CAhIkB,CAgIiB;;AAEnC;;;;;AAKAP,YAAOA,MAAP,GAAgBA,MAAhB;AACAA,YAAO6C,SAAP,GAAmBtD,QAAQ,aAAR,CAAnB;AACAS,YAAOP,UAAP,GAAoBF,QAAQ,cAAR,CAApB;AACAS,YAAOR,MAAP,GAAgBD,QAAQ,kBAAR,CAAhB;;AAEA;;;;;;;;AAQAS,YAAO4C,SAAP,CAAiBE,eAAjB,GAAmC,UAAUC,IAAV,EAAgB;AAClDpD,YAAM,yBAAN,EAAiCoD,IAAjC;AACA,UAAItC,QAAQuC,MAAM,KAAKvC,KAAX,CAAZ;;AAEA;AACAA,YAAMwC,GAAN,GAAYzD,OAAOe,QAAnB;;AAEA;AACAE,YAAMyC,SAAN,GAAkBH,IAAlB;;AAEA;AACA,UAAI,KAAKI,EAAT,EAAa1C,MAAM2C,GAAN,GAAY,KAAKD,EAAjB;;AAEb,UAAID,YAAY,IAAIzD,WAAWsD,IAAX,CAAJ,CAAqB;AACpCpC,cAAO,KAAKA,KADwB;AAEpCP,iBAAU,KAAKA,QAFqB;AAGpCI,aAAM,KAAKA,IAHyB;AAIpCF,eAAQ,KAAKA,MAJuB;AAKpCQ,aAAM,KAAKA,IALyB;AAMpCL,cAAOA,KAN6B;AAOpCO,mBAAY,KAAKA,UAPmB;AAQpCC,cAAO,KAAKA,KARwB;AASpCC,oBAAa,KAAKA,WATkB;AAUpCC,mBAAY,KAAKA,UAVmB;AAWpCE,0BAAmB,KAAKA,iBAXY;AAYpCD,uBAAgB,KAAKA,cAZe;AAapCI,mBAAY,KAAKA,UAbmB;AAcpC6B,eAAQ,IAd4B;AAepCvB,YAAK,KAAKA,GAf0B;AAgBpCC,YAAK,KAAKA,GAhB0B;AAiBpCC,mBAAY,KAAKA,UAjBmB;AAkBpCC,aAAM,KAAKA,IAlByB;AAmBpCC,WAAI,KAAKA,EAnB2B;AAoBpCC,gBAAS,KAAKA,OApBsB;AAqBpCC,2BAAoB,KAAKA,kBArBW;AAsBpCR,0BAAmB,KAAKA,iBAtBY;AAuBpCW,qBAAc,KAAKA;AAvBiB,OAArB,CAAhB;;AA0BA,aAAOW,SAAP;AACA,MAxCD;;AA0CA,cAASF,KAAT,CAAeM,GAAf,EAAoB;AACnB,UAAIzE,IAAI,EAAR;AACA,WAAK,IAAII,CAAT,IAAcqE,GAAd,EAAmB;AAClB,WAAIA,IAAIC,cAAJ,CAAmBtE,CAAnB,CAAJ,EAA2B;AAC1BJ,UAAEI,CAAF,IAAOqE,IAAIrE,CAAJ,CAAP;AACA;AACD;AACD,aAAOJ,CAAP;AACA;;AAED;;;;;AAKAmB,YAAO4C,SAAP,CAAiBF,IAAjB,GAAwB,YAAY;AACnC,UAAIQ,SAAJ;AACA,UAAI,KAAKzB,eAAL,IAAwBzB,OAAO2C,qBAA/B,IAAwD,KAAKlD,UAAL,CAAgB+D,OAAhB,CAAwB,WAAxB,KAAwC,CAAC,CAArG,EAAwG;AACvGN,mBAAY,WAAZ;AACA,OAFD,MAEO,IAAI,MAAM,KAAKzD,UAAL,CAAgBH,MAA1B,EAAkC;AACxC;AACA,WAAIhB,OAAO,IAAX;AACAmF,kBAAW,YAAY;AACtBnF,aAAKoF,IAAL,CAAU,OAAV,EAAmB,yBAAnB;AACA,QAFD,EAEG,CAFH;AAGA;AACA,OAPM,MAOA;AACNR,mBAAY,KAAKzD,UAAL,CAAgB,CAAhB,CAAZ;AACA;AACD,WAAK6B,UAAL,GAAkB,SAAlB;;AAEA;AACA,UAAI;AACH4B,mBAAY,KAAKJ,eAAL,CAAqBI,SAArB,CAAZ;AACA,OAFD,CAEE,OAAO1E,CAAP,EAAU;AACX,YAAKiB,UAAL,CAAgBkE,KAAhB;AACA,YAAKjB,IAAL;AACA;AACA;;AAEDQ,gBAAUR,IAAV;AACA,WAAKkB,YAAL,CAAkBV,SAAlB;AACA,MA3BD;;AA6BA;;;;;;AAMAlD,YAAO4C,SAAP,CAAiBgB,YAAjB,GAAgC,UAAUV,SAAV,EAAqB;AACpDvD,YAAM,sBAAN,EAA8BuD,UAAUH,IAAxC;AACA,UAAIzE,OAAO,IAAX;;AAEA,UAAI,KAAK4E,SAAT,EAAoB;AACnBvD,aAAM,gCAAN,EAAwC,KAAKuD,SAAL,CAAeH,IAAvD;AACA,YAAKG,SAAL,CAAeW,kBAAf;AACA;;AAED;AACA,WAAKX,SAAL,GAAiBA,SAAjB;;AAEA;AACAA,gBACEY,EADF,CACK,OADL,EACc,YAAY;AACxBxF,YAAKyF,OAAL;AACA,OAHF,EAIED,EAJF,CAIK,QAJL,EAIe,UAAUE,MAAV,EAAkB;AAC/B1F,YAAK2F,QAAL,CAAcD,MAAd;AACA,OANF,EAOEF,EAPF,CAOK,OAPL,EAOc,UAAUtF,CAAV,EAAa;AACzBF,YAAK4F,OAAL,CAAa1F,CAAb;AACA,OATF,EAUEsF,EAVF,CAUK,OAVL,EAUc,YAAY;AACxBxF,YAAK6F,OAAL,CAAa,iBAAb;AACA,OAZF;AAaA,MA1BD;;AA4BA;;;;;;;AAOAnE,YAAO4C,SAAP,CAAiBwB,KAAjB,GAAyB,UAAUrB,IAAV,EAAgB;AACxCpD,YAAM,wBAAN,EAAgCoD,IAAhC;AACA,UAAIG,YAAY,KAAKJ,eAAL,CAAqBC,IAArB,EAA2B;AACzCqB,cAAO;AADkC,OAA3B,CAAhB;AAAA,UAGCC,SAAS,KAHV;AAAA,UAIC/F,OAAO,IAJR;;AAMA0B,aAAO2C,qBAAP,GAA+B,KAA/B;;AAEA,eAAS2B,eAAT,GAA2B;AAC1B,WAAIhG,KAAKqD,kBAAT,EAA6B;AAC5B,YAAI4C,qBAAqB,CAAC,KAAKC,cAAN,IAAwBlG,KAAK4E,SAAL,CAAesB,cAAhE;AACAH,iBAASA,UAAUE,kBAAnB;AACA;AACD,WAAIF,MAAJ,EAAY;;AAEZ1E,aAAM,6BAAN,EAAqCoD,IAArC;AACAG,iBAAUuB,IAAV,CAAe,CAAC;AACfC,cAAM,MADS;AAEfC,cAAM;AAFS,QAAD,CAAf;AAIAzB,iBAAU0B,IAAV,CAAe,QAAf,EAAyB,UAAUC,GAAV,EAAe;AACvC,YAAIR,MAAJ,EAAY;AACZ,YAAI,UAAUQ,IAAIH,IAAd,IAAsB,WAAWG,IAAIF,IAAzC,EAA+C;AAC9ChF,eAAM,2BAAN,EAAmCoD,IAAnC;AACAzE,cAAKwG,SAAL,GAAiB,IAAjB;AACAxG,cAAKoF,IAAL,CAAU,WAAV,EAAuBR,SAAvB;AACA,aAAI,CAACA,SAAL,EAAgB;AAChBlD,gBAAO2C,qBAAP,GAA+B,eAAeO,UAAUH,IAAxD;;AAEApD,eAAM,gCAAN,EAAwCrB,KAAK4E,SAAL,CAAeH,IAAvD;AACAzE,cAAK4E,SAAL,CAAe6B,KAAf,CAAqB,YAAY;AAChC,cAAIV,MAAJ,EAAY;AACZ,cAAI,YAAY/F,KAAKgD,UAArB,EAAiC;AACjC3B,gBAAM,+CAAN;;AAEAqF;;AAEA1G,eAAKsF,YAAL,CAAkBV,SAAlB;AACAA,oBAAUuB,IAAV,CAAe,CAAC;AACfC,iBAAM;AADS,WAAD,CAAf;AAGApG,eAAKoF,IAAL,CAAU,SAAV,EAAqBR,SAArB;AACAA,sBAAY,IAAZ;AACA5E,eAAKwG,SAAL,GAAiB,KAAjB;AACAxG,eAAK2G,KAAL;AACA,UAfD;AAgBA,SAxBD,MAwBO;AACNtF,eAAM,6BAAN,EAAqCoD,IAArC;AACA,aAAImC,MAAM,IAAIhG,KAAJ,CAAU,aAAV,CAAV;AACAgG,aAAIhC,SAAJ,GAAgBA,UAAUH,IAA1B;AACAzE,cAAKoF,IAAL,CAAU,cAAV,EAA0BwB,GAA1B;AACA;AACD,QAhCD;AAiCA;;AAED,eAASC,eAAT,GAA2B;AAC1B,WAAId,MAAJ,EAAY;;AAEZ;AACAA,gBAAS,IAAT;;AAEAW;;AAEA9B,iBAAUkC,KAAV;AACAlC,mBAAY,IAAZ;AACA;;AAED;AACA,eAASmC,OAAT,CAAiBH,GAAjB,EAAsB;AACrB,WAAII,QAAQ,IAAIpG,KAAJ,CAAU,kBAAkBgG,GAA5B,CAAZ;AACAI,aAAMpC,SAAN,GAAkBA,UAAUH,IAA5B;;AAEAoC;;AAEAxF,aAAM,kDAAN,EAA0DoD,IAA1D,EAAgEmC,GAAhE;;AAEA5G,YAAKoF,IAAL,CAAU,cAAV,EAA0B4B,KAA1B;AACA;;AAED,eAASC,gBAAT,GAA4B;AAC3BF,eAAQ,kBAAR;AACA;;AAED;AACA,eAASG,OAAT,GAAmB;AAClBH,eAAQ,eAAR;AACA;;AAED;AACA,eAASI,SAAT,CAAmBC,EAAnB,EAAuB;AACtB,WAAIxC,aAAawC,GAAG3C,IAAH,IAAWG,UAAUH,IAAtC,EAA4C;AAC3CpD,cAAM,4BAAN,EAAoC+F,GAAG3C,IAAvC,EAA6CG,UAAUH,IAAvD;AACAoC;AACA;AACD;;AAED;AACA,eAASH,OAAT,GAAmB;AAClB9B,iBAAUyC,cAAV,CAAyB,MAAzB,EAAiCrB,eAAjC;AACApB,iBAAUyC,cAAV,CAAyB,OAAzB,EAAkCN,OAAlC;AACAnC,iBAAUyC,cAAV,CAAyB,OAAzB,EAAkCJ,gBAAlC;AACAjH,YAAKqH,cAAL,CAAoB,OAApB,EAA6BH,OAA7B;AACAlH,YAAKqH,cAAL,CAAoB,WAApB,EAAiCF,SAAjC;AACA;;AAEDvC,gBAAU0B,IAAV,CAAe,MAAf,EAAuBN,eAAvB;AACApB,gBAAU0B,IAAV,CAAe,OAAf,EAAwBS,OAAxB;AACAnC,gBAAU0B,IAAV,CAAe,OAAf,EAAwBW,gBAAxB;;AAEA,WAAKX,IAAL,CAAU,OAAV,EAAmBY,OAAnB;AACA,WAAKZ,IAAL,CAAU,WAAV,EAAuBa,SAAvB;;AAEAvC,gBAAUR,IAAV;AAEA,MApHD;;AAsHA;;;;;;AAMA1C,YAAO4C,SAAP,CAAiBgD,MAAjB,GAA0B,YAAY;AACrCjG,YAAM,aAAN;AACA,WAAK2B,UAAL,GAAkB,MAAlB;AACAtB,aAAO2C,qBAAP,GAA+B,eAAe,KAAKO,SAAL,CAAeH,IAA7D;AACA,WAAKW,IAAL,CAAU,MAAV;AACA,WAAKuB,KAAL;;AAEA;AACA;AACA,UAAI,UAAU,KAAK3D,UAAf,IAA6B,KAAKT,OAAlC,IAA6C,KAAKqC,SAAL,CAAe6B,KAAhE,EAAuE;AACtEpF,aAAM,yBAAN;AACA,YAAK,IAAIV,IAAI,CAAR,EAAWG,IAAI,KAAKyG,QAAL,CAAcvG,MAAlC,EAA0CL,IAAIG,CAA9C,EAAiDH,GAAjD,EAAsD;AACrD,aAAKmF,KAAL,CAAW,KAAKyB,QAAL,CAAc5G,CAAd,CAAX;AACA;AACD;AACD,MAfD;;AAiBA;;;;;;AAMAe,YAAO4C,SAAP,CAAiBqB,QAAjB,GAA4B,UAAUD,MAAV,EAAkB;AAC7C,UAAI,aAAa,KAAK1C,UAAlB,IAAgC,UAAU,KAAKA,UAAnD,EAA+D;AAC9D3B,aAAM,sCAAN,EAA8CqE,OAAOU,IAArD,EAA2DV,OAAOW,IAAlE;;AAEA,YAAKjB,IAAL,CAAU,QAAV,EAAoBM,MAApB;;AAEA;AACA,YAAKN,IAAL,CAAU,WAAV;;AAEA,eAAQM,OAAOU,IAAf;AACC,aAAK,MAAL;AACC,cAAKoB,WAAL,CAAiBhG,UAAUkE,OAAOW,IAAjB,CAAjB;AACA;;AAED,aAAK,MAAL;AACC,cAAKoB,OAAL;AACA,cAAKrC,IAAL,CAAU,MAAV;AACA;;AAED,aAAK,OAAL;AACC,aAAIwB,MAAM,IAAIhG,KAAJ,CAAU,cAAV,CAAV;AACAgG,aAAI/F,IAAJ,GAAW6E,OAAOW,IAAlB;AACA,cAAKT,OAAL,CAAagB,GAAb;AACA;;AAED,aAAK,SAAL;AACC,cAAKxB,IAAL,CAAU,MAAV,EAAkBM,OAAOW,IAAzB;AACA,cAAKjB,IAAL,CAAU,SAAV,EAAqBM,OAAOW,IAA5B;AACA;AAnBF;AAqBA,OA7BD,MA6BO;AACNhF,aAAM,6CAAN,EAAqD,KAAK2B,UAA1D;AACA;AACD,MAjCD;;AAmCA;;;;;;;AAOAtB,YAAO4C,SAAP,CAAiBkD,WAAjB,GAA+B,UAAUnB,IAAV,EAAgB;AAC9C,WAAKjB,IAAL,CAAU,WAAV,EAAuBiB,IAAvB;AACA,WAAKxB,EAAL,GAAUwB,KAAKvB,GAAf;AACA,WAAKF,SAAL,CAAezC,KAAf,CAAqB2C,GAArB,GAA2BuB,KAAKvB,GAAhC;AACA,WAAKyC,QAAL,GAAgB,KAAKG,cAAL,CAAoBrB,KAAKkB,QAAzB,CAAhB;AACA,WAAKI,YAAL,GAAoBtB,KAAKsB,YAAzB;AACA,WAAKC,WAAL,GAAmBvB,KAAKuB,WAAxB;AACA,WAAKN,MAAL;AACA;AACA,UAAI,YAAY,KAAKtE,UAArB,EAAiC;AACjC,WAAKyE,OAAL;;AAEA;AACA,WAAKJ,cAAL,CAAoB,WAApB,EAAiC,KAAKQ,WAAtC;AACA,WAAKrC,EAAL,CAAQ,WAAR,EAAqB,KAAKqC,WAA1B;AACA,MAfD;;AAiBA;;;;;;AAMAnG,YAAO4C,SAAP,CAAiBuD,WAAjB,GAA+B,UAAUC,OAAV,EAAmB;AACjDC,mBAAa,KAAKC,gBAAlB;AACA,UAAIhI,OAAO,IAAX;AACAA,WAAKgI,gBAAL,GAAwB7C,WAAW,YAAY;AAC9C,WAAI,YAAYnF,KAAKgD,UAArB,EAAiC;AACjChD,YAAK6F,OAAL,CAAa,cAAb;AACA,OAHuB,EAGrBiC,WAAY9H,KAAK2H,YAAL,GAAoB3H,KAAK4H,WAHhB,CAAxB;AAIA,MAPD;;AASA;;;;;;;AAOAlG,YAAO4C,SAAP,CAAiBmD,OAAjB,GAA2B,YAAY;AACtC,UAAIzH,OAAO,IAAX;AACA+H,mBAAa/H,KAAKiI,iBAAlB;AACAjI,WAAKiI,iBAAL,GAAyB9C,WAAW,YAAY;AAC/C9D,aAAM,kDAAN,EAA0DrB,KAAK4H,WAA/D;AACA5H,YAAKkI,IAAL;AACAlI,YAAK6H,WAAL,CAAiB7H,KAAK4H,WAAtB;AACA,OAJwB,EAItB5H,KAAK2H,YAJiB,CAAzB;AAKA,MARD;;AAUA;;;;;;AAMAjG,YAAO4C,SAAP,CAAiB4D,IAAjB,GAAwB,YAAY;AACnC,UAAIlI,OAAO,IAAX;AACA,WAAKmI,UAAL,CAAgB,MAAhB,EAAwB,YAAY;AACnCnI,YAAKoF,IAAL,CAAU,MAAV;AACA,OAFD;AAGA,MALD;;AAOA;;;;;;AAMA1D,YAAO4C,SAAP,CAAiBmB,OAAjB,GAA2B,YAAY;AACtC,WAAKxC,WAAL,CAAiBmF,MAAjB,CAAwB,CAAxB,EAA2B,KAAKC,aAAhC;;AAEA;AACA;AACA;AACA,WAAKA,aAAL,GAAqB,CAArB;;AAEA,UAAI,MAAM,KAAKpF,WAAL,CAAiBjC,MAA3B,EAAmC;AAClC,YAAKoE,IAAL,CAAU,OAAV;AACA,OAFD,MAEO;AACN,YAAKuB,KAAL;AACA;AACD,MAbD;;AAeA;;;;;;AAMAjF,YAAO4C,SAAP,CAAiBqC,KAAjB,GAAyB,YAAY;AACpC,UAAI,YAAY,KAAK3D,UAAjB,IAA+B,KAAK4B,SAAL,CAAe0D,QAA9C,IACH,CAAC,KAAK9B,SADH,IACgB,KAAKvD,WAAL,CAAiBjC,MADrC,EAC6C;AAC5CK,aAAM,+BAAN,EAAuC,KAAK4B,WAAL,CAAiBjC,MAAxD;AACA,YAAK4D,SAAL,CAAeuB,IAAf,CAAoB,KAAKlD,WAAzB;AACA;AACA;AACA,YAAKoF,aAAL,GAAqB,KAAKpF,WAAL,CAAiBjC,MAAtC;AACA,YAAKoE,IAAL,CAAU,OAAV;AACA;AACD,MAVD;;AAYA;;;;;;;;;;AAUA1D,YAAO4C,SAAP,CAAiBiE,KAAjB,GACC7G,OAAO4C,SAAP,CAAiB6B,IAAjB,GAAwB,UAAUI,GAAV,EAAeiC,OAAf,EAAwBC,EAAxB,EAA4B;AACnD,WAAKN,UAAL,CAAgB,SAAhB,EAA2B5B,GAA3B,EAAgCiC,OAAhC,EAAyCC,EAAzC;AACA,aAAO,IAAP;AACA,MAJF;;AAMA;;;;;;;;;;AAUA/G,YAAO4C,SAAP,CAAiB6D,UAAjB,GAA8B,UAAU/B,IAAV,EAAgBC,IAAhB,EAAsBmC,OAAtB,EAA+BC,EAA/B,EAAmC;AAChE,UAAI,cAAc,OAAOpC,IAAzB,EAA+B;AAC9BoC,YAAKpC,IAAL;AACAA,cAAOtC,SAAP;AACA;;AAED,UAAI,cAAc,OAAOyE,OAAzB,EAAkC;AACjCC,YAAKD,OAAL;AACAA,iBAAU,IAAV;AACA;;AAED,UAAI,aAAa,KAAKxF,UAAlB,IAAgC,YAAY,KAAKA,UAArD,EAAiE;AAChE;AACA;;AAEDwF,gBAAUA,WAAW,EAArB;AACAA,cAAQE,QAAR,GAAmB,UAAUF,QAAQE,QAArC;;AAEA,UAAIhD,SAAS;AACZU,aAAMA,IADM;AAEZC,aAAMA,IAFM;AAGZmC,gBAASA;AAHG,OAAb;AAKA,WAAKpD,IAAL,CAAU,cAAV,EAA0BM,MAA1B;AACA,WAAKzC,WAAL,CAAiB0F,IAAjB,CAAsBjD,MAAtB;AACA,UAAI+C,EAAJ,EAAQ,KAAKnC,IAAL,CAAU,OAAV,EAAmBmC,EAAnB;AACR,WAAK9B,KAAL;AACA,MA3BD;;AA6BA;;;;;;AAMAjF,YAAO4C,SAAP,CAAiBwC,KAAjB,GAAyB,YAAY;AACpC,UAAI,aAAa,KAAK9D,UAAlB,IAAgC,UAAU,KAAKA,UAAnD,EAA+D;AAC9D,YAAKA,UAAL,GAAkB,SAAlB;;AAEA,WAAIhD,OAAO,IAAX;;AAEA,WAAI,KAAKiD,WAAL,CAAiBjC,MAArB,EAA6B;AAC5B,aAAKsF,IAAL,CAAU,OAAV,EAAmB,YAAY;AAC9B,aAAI,KAAKE,SAAT,EAAoB;AACnBoC;AACA,UAFD,MAEO;AACN9B;AACA;AACD,SAND;AAOA,QARD,MAQO,IAAI,KAAKN,SAAT,EAAoB;AAC1BoC;AACA,QAFM,MAEA;AACN9B;AACA;AACD;;AAED,eAASA,KAAT,GAAiB;AAChB9G,YAAK6F,OAAL,CAAa,cAAb;AACAxE,aAAM,6CAAN;AACArB,YAAK4E,SAAL,CAAekC,KAAf;AACA;;AAED,eAAS+B,eAAT,GAA2B;AAC1B7I,YAAKqH,cAAL,CAAoB,SAApB,EAA+BwB,eAA/B;AACA7I,YAAKqH,cAAL,CAAoB,cAApB,EAAoCwB,eAApC;AACA/B;AACA;;AAED,eAAS8B,cAAT,GAA0B;AACzB;AACA5I,YAAKsG,IAAL,CAAU,SAAV,EAAqBuC,eAArB;AACA7I,YAAKsG,IAAL,CAAU,cAAV,EAA0BuC,eAA1B;AACA;;AAED,aAAO,IAAP;AACA,MAxCD;;AA0CA;;;;;;AAMAnH,YAAO4C,SAAP,CAAiBsB,OAAjB,GAA2B,UAAUgB,GAAV,EAAe;AACzCvF,YAAM,iBAAN,EAAyBuF,GAAzB;AACAlF,aAAO2C,qBAAP,GAA+B,KAA/B;AACA,WAAKe,IAAL,CAAU,OAAV,EAAmBwB,GAAnB;AACA,WAAKf,OAAL,CAAa,iBAAb,EAAgCe,GAAhC;AACA,MALD;;AAOA;;;;;;AAMAlF,YAAO4C,SAAP,CAAiBuB,OAAjB,GAA2B,UAAUiD,MAAV,EAAkBC,IAAlB,EAAwB;AAClD,UAAI,aAAa,KAAK/F,UAAlB,IAAgC,UAAU,KAAKA,UAA/C,IAA6D,aAAa,KAAKA,UAAnF,EAA+F;AAC9F3B,aAAM,gCAAN,EAAwCyH,MAAxC;AACA,WAAI9I,OAAO,IAAX;;AAEA;AACA+H,oBAAa,KAAKE,iBAAlB;AACAF,oBAAa,KAAKC,gBAAlB;;AAEA;AACA,YAAKpD,SAAL,CAAeW,kBAAf,CAAkC,OAAlC;;AAEA;AACA,YAAKX,SAAL,CAAekC,KAAf;;AAEA;AACA,YAAKlC,SAAL,CAAeW,kBAAf;;AAEA;AACA,YAAKvC,UAAL,GAAkB,QAAlB;;AAEA;AACA,YAAK6B,EAAL,GAAU,IAAV;;AAEA;AACA,YAAKO,IAAL,CAAU,OAAV,EAAmB0D,MAAnB,EAA2BC,IAA3B;;AAEA;AACA;AACA/I,YAAKiD,WAAL,GAAmB,EAAnB;AACAjD,YAAKqI,aAAL,GAAqB,CAArB;AACA;AACD,MAhCD;;AAkCA;;;;;;;;AAQA3G,YAAO4C,SAAP,CAAiBoD,cAAjB,GAAkC,UAAUH,QAAV,EAAoB;AACrD,UAAIyB,mBAAmB,EAAvB;AACA,WAAK,IAAIrI,IAAI,CAAR,EAAWsI,IAAI1B,SAASvG,MAA7B,EAAqCL,IAAIsI,CAAzC,EAA4CtI,GAA5C,EAAiD;AAChD,WAAI,CAACW,MAAM,KAAKH,UAAX,EAAuBoG,SAAS5G,CAAT,CAAvB,CAAL,EAA0CqI,iBAAiBL,IAAjB,CAAsBpB,SAAS5G,CAAT,CAAtB;AAC1C;AACD,aAAOqI,gBAAP;AACA,MAND;AAQA,KAjuBD,EAiuBGjI,IAjuBH,CAiuBQ,IAjuBR,EAiuBc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAjuBrI;AAkuBA,IAnuBE,EAmuBA;AACF,mBAAe,CADb;AAEF,oBAAgB,CAFd;AAGF,yBAAqB,EAHnB;AAIF,aAAS,EAJP;AAKF,wBAAoB,EALlB;AAMF,eAAW,EANT;AAOF,iBAAa,EAPX;AAQF,eAAW,EART;AASF,gBAAY;AATV,IAnuBA,CAxBD;AAswBF,MAAG,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACvC;;;;AAIA,QAAIyB,SAASD,QAAQ,kBAAR,CAAb;AACA,QAAIG,UAAUH,QAAQ,mBAAR,CAAd;;AAEA;;;;AAIAvB,WAAOD,OAAP,GAAiB8E,SAAjB;;AAEA;;;;;;;AAOA,aAASA,SAAT,CAAmB1C,IAAnB,EAAyB;AACxB,UAAKW,IAAL,GAAYX,KAAKW,IAAjB;AACA,UAAKV,QAAL,GAAgBD,KAAKC,QAArB;AACA,UAAKI,IAAL,GAAYL,KAAKK,IAAjB;AACA,UAAKF,MAAL,GAAcH,KAAKG,MAAnB;AACA,UAAKG,KAAL,GAAaN,KAAKM,KAAlB;AACA,UAAKW,cAAL,GAAsBjB,KAAKiB,cAA3B;AACA,UAAKC,iBAAL,GAAyBlB,KAAKkB,iBAA9B;AACA,UAAKC,UAAL,GAAkB,EAAlB;AACA,UAAKX,KAAL,GAAaR,KAAKQ,KAAL,IAAc,KAA3B;AACA,UAAK0C,MAAL,GAAclD,KAAKkD,MAAnB;AACA,UAAKlC,UAAL,GAAkBhB,KAAKgB,UAAvB;;AAEA;AACA,UAAKW,GAAL,GAAW3B,KAAK2B,GAAhB;AACA,UAAKC,GAAL,GAAW5B,KAAK4B,GAAhB;AACA,UAAKC,UAAL,GAAkB7B,KAAK6B,UAAvB;AACA,UAAKC,IAAL,GAAY9B,KAAK8B,IAAjB;AACA,UAAKC,EAAL,GAAU/B,KAAK+B,EAAf;AACA,UAAKC,OAAL,GAAehC,KAAKgC,OAApB;AACA,UAAKC,kBAAL,GAA0BjC,KAAKiC,kBAA/B;;AAEA;AACA,UAAKG,YAAL,GAAoBpC,KAAKoC,YAAzB;AACA;;AAED;;;;AAIA7C,YAAQmD,UAAUD,SAAlB;;AAEA;;;;;;;;AAQAC,cAAUD,SAAV,CAAoBsB,OAApB,GAA8B,UAAUW,GAAV,EAAewC,IAAf,EAAqB;AAClD,SAAInC,MAAM,IAAIhG,KAAJ,CAAU2F,GAAV,CAAV;AACAK,SAAIR,IAAJ,GAAW,gBAAX;AACAQ,SAAIsC,WAAJ,GAAkBH,IAAlB;AACA,UAAK3D,IAAL,CAAU,OAAV,EAAmBwB,GAAnB;AACA,YAAO,IAAP;AACA,KAND;;AAQA;;;;;;AAMArC,cAAUD,SAAV,CAAoBF,IAApB,GAA2B,YAAY;AACtC,SAAI,YAAY,KAAKpB,UAAjB,IAA+B,MAAM,KAAKA,UAA9C,EAA0D;AACzD,WAAKA,UAAL,GAAkB,SAAlB;AACA,WAAKmG,MAAL;AACA;;AAED,YAAO,IAAP;AACA,KAPD;;AASA;;;;;;AAMA5E,cAAUD,SAAV,CAAoBwC,KAApB,GAA4B,YAAY;AACvC,SAAI,aAAa,KAAK9D,UAAlB,IAAgC,UAAU,KAAKA,UAAnD,EAA+D;AAC9D,WAAKoG,OAAL;AACA,WAAKvD,OAAL;AACA;;AAED,YAAO,IAAP;AACA,KAPD;;AASA;;;;;;;AAOAtB,cAAUD,SAAV,CAAoB6B,IAApB,GAA2B,UAAUkD,OAAV,EAAmB;AAC7C,SAAI,UAAU,KAAKrG,UAAnB,EAA+B;AAC9B,WAAKuF,KAAL,CAAWc,OAAX;AACA,MAFD,MAEO;AACN,YAAM,IAAIzI,KAAJ,CAAU,oBAAV,CAAN;AACA;AACD,KAND;;AAQA;;;;;;AAMA2D,cAAUD,SAAV,CAAoBgD,MAApB,GAA6B,YAAY;AACxC,UAAKtE,UAAL,GAAkB,MAAlB;AACA,UAAKsF,QAAL,GAAgB,IAAhB;AACA,UAAKlD,IAAL,CAAU,MAAV;AACA,KAJD;;AAMA;;;;;;;AAOAb,cAAUD,SAAV,CAAoBgF,MAApB,GAA6B,UAAUjD,IAAV,EAAgB;AAC5C,SAAIX,SAASxE,OAAOqI,YAAP,CAAoBlD,IAApB,EAA0B,KAAKtB,MAAL,CAAY3B,UAAtC,CAAb;AACA,UAAKuC,QAAL,CAAcD,MAAd;AACA,KAHD;;AAKA;;;;AAIAnB,cAAUD,SAAV,CAAoBqB,QAApB,GAA+B,UAAUD,MAAV,EAAkB;AAChD,UAAKN,IAAL,CAAU,QAAV,EAAoBM,MAApB;AACA,KAFD;;AAIA;;;;;;AAMAnB,cAAUD,SAAV,CAAoBuB,OAApB,GAA8B,YAAY;AACzC,UAAK7C,UAAL,GAAkB,QAAlB;AACA,UAAKoC,IAAL,CAAU,OAAV;AACA,KAHD;AAKA,IA7JE,EA6JA;AACF,yBAAqB,EADnB;AAEF,wBAAoB;AAFlB,IA7JA,CAtwBD;AAu6BF,MAAG,CAAC,UAAUnE,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACvC,KAAC,UAAUM,MAAV,EAAkB;AAClB;;;;AAIA,SAAIyJ,iBAAiBvI,QAAQ,oBAAR,CAArB;AACA,SAAIwI,MAAMxI,QAAQ,eAAR,CAAV;AACA,SAAIyI,QAAQzI,QAAQ,iBAAR,CAAZ;AACA,SAAI0I,YAAY1I,QAAQ,aAAR,CAAhB;;AAEA;;;;AAIAxB,aAAQmK,OAAR,GAAkBA,OAAlB;AACAnK,aAAQkK,SAAR,GAAoBA,SAApB;;AAEA;;;;;;;AAOA,cAASC,OAAT,CAAiB/H,IAAjB,EAAuB;AACtB,UAAIgI,GAAJ;AACA,UAAIC,KAAK,KAAT;AACA,UAAIC,KAAK,KAAT;AACA,UAAIpH,QAAQ,UAAUd,KAAKc,KAA3B;;AAEA,UAAI5C,OAAOqC,QAAX,EAAqB;AACpB,WAAI4H,QAAQ,YAAY5H,SAASH,QAAjC;AACA,WAAIC,OAAOE,SAASF,IAApB;;AAEA;AACA,WAAI,CAACA,IAAL,EAAW;AACVA,eAAO8H,QAAQ,GAAR,GAAc,EAArB;AACA;;AAEDF,YAAKjI,KAAKC,QAAL,IAAiBM,SAASN,QAA1B,IAAsCI,QAAQL,KAAKK,IAAxD;AACA6H,YAAKlI,KAAKG,MAAL,IAAegI,KAApB;AACA;;AAEDnI,WAAKoI,OAAL,GAAeH,EAAf;AACAjI,WAAKqI,OAAL,GAAeH,EAAf;AACAF,YAAM,IAAIL,cAAJ,CAAmB3H,IAAnB,CAAN;;AAEA,UAAI,UAAUgI,GAAV,IAAiB,CAAChI,KAAKa,UAA3B,EAAuC;AACtC,cAAO,IAAI+G,GAAJ,CAAQ5H,IAAR,CAAP;AACA,OAFD,MAEO;AACN,WAAI,CAACc,KAAL,EAAY,MAAM,IAAI/B,KAAJ,CAAU,gBAAV,CAAN;AACZ,cAAO,IAAI8I,KAAJ,CAAU7H,IAAV,CAAP;AACA;AACD;AAED,KAvDD,EAuDGd,IAvDH,CAuDQ,IAvDR,EAuDc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAvDrI;AAwDA,IAzDE,EAyDA;AACF,uBAAmB,CADjB;AAEF,qBAAiB,CAFf;AAGF,mBAAe,CAHb;AAIF,0BAAsB;AAJpB,IAzDA,CAv6BD;AAs+BF,MAAG,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACvC,KAAC,UAAUM,MAAV,EAAkB;;AAElB;;;;AAIA,SAAIoK,UAAUlJ,QAAQ,WAAR,CAAd;AACA,SAAImJ,UAAUnJ,QAAQ,mBAAR,CAAd;;AAEA;;;;AAIAvB,YAAOD,OAAP,GAAiB4K,YAAjB;;AAEA;;;;AAIA,SAAIC,WAAW,KAAf;AACA,SAAIC,kBAAkB,MAAtB;;AAEA;;;;AAIA,SAAIC,SAAJ;;AAEA;;;;AAIA,SAAIlJ,QAAQ,CAAZ;;AAEA;;;;AAIA,cAASmJ,KAAT,GAAiB,CAAE;;AAEnB;;;;;;;AAOA,cAASJ,YAAT,CAAsBxI,IAAtB,EAA4B;AAC3BsI,cAAQpJ,IAAR,CAAa,IAAb,EAAmBc,IAAnB;;AAEA,WAAKM,KAAL,GAAa,KAAKA,KAAL,IAAc,EAA3B;;AAEA;AACA;AACA,UAAI,CAACqI,SAAL,EAAgB;AACf;AACA,WAAI,CAACzK,OAAO2K,MAAZ,EAAoB3K,OAAO2K,MAAP,GAAgB,EAAhB;AACpBF,mBAAYzK,OAAO2K,MAAnB;AACA;;AAED;AACA,WAAKpJ,KAAL,GAAakJ,UAAUxJ,MAAvB;;AAEA;AACA,UAAIhB,OAAO,IAAX;AACAwK,gBAAU7B,IAAV,CAAe,UAAUpC,GAAV,EAAe;AAC7BvG,YAAKsJ,MAAL,CAAY/C,GAAZ;AACA,OAFD;;AAIA;AACA,WAAKpE,KAAL,CAAW8G,CAAX,GAAe,KAAK3H,KAApB;;AAEA;AACA,UAAIvB,OAAO4K,QAAP,IAAmB5K,OAAO6K,gBAA9B,EAAgD;AAC/C7K,cAAO6K,gBAAP,CAAwB,cAAxB,EAAwC,YAAY;AACnD,YAAI5K,KAAK6K,MAAT,EAAiB7K,KAAK6K,MAAL,CAAY9D,OAAZ,GAAsB0D,KAAtB;AACjB,QAFD,EAEG,KAFH;AAGA;AACD;;AAED;;;;AAIAL,aAAQC,YAAR,EAAsBF,OAAtB;;AAEA;;;;AAIAE,kBAAa/F,SAAb,CAAuB4B,cAAvB,GAAwC,KAAxC;;AAEA;;;;;;AAMAmE,kBAAa/F,SAAb,CAAuB8E,OAAvB,GAAiC,YAAY;AAC5C,UAAI,KAAKyB,MAAT,EAAiB;AAChB,YAAKA,MAAL,CAAYC,UAAZ,CAAuBC,WAAvB,CAAmC,KAAKF,MAAxC;AACA,YAAKA,MAAL,GAAc,IAAd;AACA;;AAED,UAAI,KAAKG,IAAT,EAAe;AACd,YAAKA,IAAL,CAAUF,UAAV,CAAqBC,WAArB,CAAiC,KAAKC,IAAtC;AACA,YAAKA,IAAL,GAAY,IAAZ;AACA,YAAKC,MAAL,GAAc,IAAd;AACA;;AAEDd,cAAQ7F,SAAR,CAAkB8E,OAAlB,CAA0BrI,IAA1B,CAA+B,IAA/B;AACA,MAbD;;AAeA;;;;;;AAMAsJ,kBAAa/F,SAAb,CAAuB4G,MAAvB,GAAgC,YAAY;AAC3C,UAAIlL,OAAO,IAAX;AACA,UAAI6K,SAASF,SAASQ,aAAT,CAAuB,QAAvB,CAAb;;AAEA,UAAI,KAAKN,MAAT,EAAiB;AAChB,YAAKA,MAAL,CAAYC,UAAZ,CAAuBC,WAAvB,CAAmC,KAAKF,MAAxC;AACA,YAAKA,MAAL,GAAc,IAAd;AACA;;AAEDA,aAAOO,KAAP,GAAe,IAAf;AACAP,aAAOQ,GAAP,GAAa,KAAKzJ,GAAL,EAAb;AACAiJ,aAAO9D,OAAP,GAAiB,UAAU7G,CAAV,EAAa;AAC7BF,YAAK4F,OAAL,CAAa,kBAAb,EAAiC1F,CAAjC;AACA,OAFD;;AAIA,UAAIoL,WAAWX,SAASY,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAAf;AACA,UAAID,QAAJ,EAAc;AACbA,gBAASR,UAAT,CAAoBU,YAApB,CAAiCX,MAAjC,EAAyCS,QAAzC;AACA,OAFD,MAEO;AACN,QAACX,SAASc,IAAT,IAAiBd,SAASe,IAA3B,EAAiCC,WAAjC,CAA6Cd,MAA7C;AACA;AACD,WAAKA,MAAL,GAAcA,MAAd;;AAEA,UAAIe,YAAY,eAAe,OAAOC,SAAtB,IAAmC,SAASC,IAAT,CAAcD,UAAUE,SAAxB,CAAnD;;AAEA,UAAIH,SAAJ,EAAe;AACdzG,kBAAW,YAAY;AACtB,YAAI8F,SAASN,SAASQ,aAAT,CAAuB,QAAvB,CAAb;AACAR,iBAASe,IAAT,CAAcC,WAAd,CAA0BV,MAA1B;AACAN,iBAASe,IAAT,CAAcX,WAAd,CAA0BE,MAA1B;AACA,QAJD,EAIG,GAJH;AAKA;AACD,MAhCD;;AAkCA;;;;;;;;AAQAZ,kBAAa/F,SAAb,CAAuB0H,OAAvB,GAAiC,UAAU3F,IAAV,EAAgBoC,EAAhB,EAAoB;AACpD,UAAIzI,OAAO,IAAX;;AAEA,UAAI,CAAC,KAAKgL,IAAV,EAAgB;AACf,WAAIA,OAAOL,SAASQ,aAAT,CAAuB,MAAvB,CAAX;AACA,WAAIc,OAAOtB,SAASQ,aAAT,CAAuB,UAAvB,CAAX;AACA,WAAItG,KAAK,KAAKqH,QAAL,GAAgB,gBAAgB,KAAK5K,KAA9C;AACA,WAAI2J,MAAJ;;AAEAD,YAAKmB,SAAL,GAAiB,UAAjB;AACAnB,YAAKoB,KAAL,CAAWC,QAAX,GAAsB,UAAtB;AACArB,YAAKoB,KAAL,CAAWE,GAAX,GAAiB,SAAjB;AACAtB,YAAKoB,KAAL,CAAWG,IAAX,GAAkB,SAAlB;AACAvB,YAAKwB,MAAL,GAAc3H,EAAd;AACAmG,YAAKyB,MAAL,GAAc,MAAd;AACAzB,YAAK0B,YAAL,CAAkB,gBAAlB,EAAoC,OAApC;AACAT,YAAKxH,IAAL,GAAY,GAAZ;AACAuG,YAAKW,WAAL,CAAiBM,IAAjB;AACAtB,gBAASe,IAAT,CAAcC,WAAd,CAA0BX,IAA1B;;AAEA,YAAKA,IAAL,GAAYA,IAAZ;AACA,YAAKiB,IAAL,GAAYA,IAAZ;AACA;;AAED,WAAKjB,IAAL,CAAU2B,MAAV,GAAmB,KAAK/K,GAAL,EAAnB;;AAEA,eAASgL,QAAT,GAAoB;AACnBC;AACApE;AACA;;AAED,eAASoE,UAAT,GAAsB;AACrB,WAAI7M,KAAKiL,MAAT,EAAiB;AAChB,YAAI;AACHjL,cAAKgL,IAAL,CAAUD,WAAV,CAAsB/K,KAAKiL,MAA3B;AACA,SAFD,CAEE,OAAO/K,CAAP,EAAU;AACXF,cAAK4F,OAAL,CAAa,oCAAb,EAAmD1F,CAAnD;AACA;AACD;;AAED,WAAI;AACH;AACA,YAAI4M,OAAO,sCAAsC9M,KAAKkM,QAA3C,GAAsD,IAAjE;AACAjB,iBAASN,SAASQ,aAAT,CAAuB2B,IAAvB,CAAT;AACA,QAJD,CAIE,OAAO5M,CAAP,EAAU;AACX+K,iBAASN,SAASQ,aAAT,CAAuB,QAAvB,CAAT;AACAF,eAAOxG,IAAP,GAAczE,KAAKkM,QAAnB;AACAjB,eAAOI,GAAP,GAAa,cAAb;AACA;;AAEDJ,cAAOpG,EAAP,GAAY7E,KAAKkM,QAAjB;;AAEAlM,YAAKgL,IAAL,CAAUW,WAAV,CAAsBV,MAAtB;AACAjL,YAAKiL,MAAL,GAAcA,MAAd;AACA;;AAED4B;;AAEA;AACA;AACAxG,aAAOA,KAAK5D,OAAL,CAAa8H,eAAb,EAA8B,MAA9B,CAAP;AACA,WAAK0B,IAAL,CAAUc,KAAV,GAAkB1G,KAAK5D,OAAL,CAAa6H,QAAb,EAAuB,KAAvB,CAAlB;;AAEA,UAAI;AACH,YAAKU,IAAL,CAAUgC,MAAV;AACA,OAFD,CAEE,OAAO9M,CAAP,EAAU,CAAE;;AAEd,UAAI,KAAK+K,MAAL,CAAYgC,WAAhB,EAA6B;AAC5B,YAAKhC,MAAL,CAAYiC,kBAAZ,GAAiC,YAAY;AAC5C,YAAIlN,KAAKiL,MAAL,CAAYjI,UAAZ,IAA0B,UAA9B,EAA0C;AACzC4J;AACA;AACD,QAJD;AAKA,OAND,MAMO;AACN,YAAK3B,MAAL,CAAYkC,MAAZ,GAAqBP,QAArB;AACA;AACD,MA5ED;AA8EA,KA/OD,EA+OG7L,IA/OH,CA+OQ,IA/OR,EA+Oc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EA/OrI;AAgPA,IAjPE,EAiPA;AACF,iBAAa,CADX;AAEF,yBAAqB;AAFnB,IAjPA,CAt+BD;AA2tCF,MAAG,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACvC,KAAC,UAAUM,MAAV,EAAkB;AAClB;;;;AAIA,SAAIyJ,iBAAiBvI,QAAQ,oBAAR,CAArB;AACA,SAAIkJ,UAAUlJ,QAAQ,WAAR,CAAd;AACA,SAAIG,UAAUH,QAAQ,mBAAR,CAAd;AACA,SAAImJ,UAAUnJ,QAAQ,mBAAR,CAAd;AACA,SAAII,QAAQJ,QAAQ,OAAR,EAAiB,8BAAjB,CAAZ;;AAEA;;;;AAIAvB,YAAOD,OAAP,GAAiBgK,GAAjB;AACA/J,YAAOD,OAAP,CAAe2N,OAAf,GAAyBA,OAAzB;;AAEA;;;;AAIA,cAAS3C,KAAT,GAAiB,CAAE;;AAEnB;;;;;;;AAOA,cAAShB,GAAT,CAAa5H,IAAb,EAAmB;AAClBsI,cAAQpJ,IAAR,CAAa,IAAb,EAAmBc,IAAnB;;AAEA,UAAI9B,OAAOqC,QAAX,EAAqB;AACpB,WAAI4H,QAAQ,YAAY5H,SAASH,QAAjC;AACA,WAAIC,OAAOE,SAASF,IAApB;;AAEA;AACA,WAAI,CAACA,IAAL,EAAW;AACVA,eAAO8H,QAAQ,GAAR,GAAc,EAArB;AACA;;AAED,YAAKF,EAAL,GAAUjI,KAAKC,QAAL,IAAiB/B,OAAOqC,QAAP,CAAgBN,QAAjC,IACTI,QAAQL,KAAKK,IADd;AAEA,YAAK6H,EAAL,GAAUlI,KAAKG,MAAL,IAAegI,KAAzB;AACA,OAZD,MAYO;AACN,YAAK/F,YAAL,GAAoBpC,KAAKoC,YAAzB;AACA;AACD;;AAED;;;;AAIAmG,aAAQX,GAAR,EAAaU,OAAb;;AAEA;;;;AAIAV,SAAInF,SAAJ,CAAc4B,cAAd,GAA+B,IAA/B;;AAEA;;;;;;;AAOAuD,SAAInF,SAAJ,CAAc+I,OAAd,GAAwB,UAAUxL,IAAV,EAAgB;AACvCA,aAAOA,QAAQ,EAAf;AACAA,WAAKD,GAAL,GAAW,KAAKA,GAAL,EAAX;AACAC,WAAKiI,EAAL,GAAU,KAAKA,EAAf;AACAjI,WAAKkI,EAAL,GAAU,KAAKA,EAAf;AACAlI,WAAKQ,KAAL,GAAa,KAAKA,KAAL,IAAc,KAA3B;AACAR,WAAKqE,cAAL,GAAsB,KAAKA,cAA3B;AACArE,WAAKgB,UAAL,GAAkB,KAAKA,UAAvB;;AAEA;AACAhB,WAAK2B,GAAL,GAAW,KAAKA,GAAhB;AACA3B,WAAK4B,GAAL,GAAW,KAAKA,GAAhB;AACA5B,WAAK6B,UAAL,GAAkB,KAAKA,UAAvB;AACA7B,WAAK8B,IAAL,GAAY,KAAKA,IAAjB;AACA9B,WAAK+B,EAAL,GAAU,KAAKA,EAAf;AACA/B,WAAKgC,OAAL,GAAe,KAAKA,OAApB;AACAhC,WAAKiC,kBAAL,GAA0B,KAAKA,kBAA/B;;AAEA;AACAjC,WAAKoC,YAAL,GAAoB,KAAKA,YAAzB;;AAEA,aAAO,IAAImJ,OAAJ,CAAYvL,IAAZ,CAAP;AACA,MAtBD;;AAwBA;;;;;;;;AAQA4H,SAAInF,SAAJ,CAAc0H,OAAd,GAAwB,UAAU3F,IAAV,EAAgBoC,EAAhB,EAAoB;AAC3C,UAAI6E,WAAW,OAAOjH,IAAP,KAAgB,QAAhB,IAA4BA,SAAStC,SAApD;AACA,UAAIwJ,MAAM,KAAKF,OAAL,CAAa;AACtBZ,eAAQ,MADc;AAEtBpG,aAAMA,IAFgB;AAGtBiH,iBAAUA;AAHY,OAAb,CAAV;AAKA,UAAItN,OAAO,IAAX;AACAuN,UAAI/H,EAAJ,CAAO,SAAP,EAAkBiD,EAAlB;AACA8E,UAAI/H,EAAJ,CAAO,OAAP,EAAgB,UAAUoB,GAAV,EAAe;AAC9B5G,YAAK4F,OAAL,CAAa,gBAAb,EAA+BgB,GAA/B;AACA,OAFD;AAGA,WAAK4G,OAAL,GAAeD,GAAf;AACA,MAbD;;AAeA;;;;;;AAMA9D,SAAInF,SAAJ,CAAc4G,MAAd,GAAuB,YAAY;AAClC7J,YAAM,UAAN;AACA,UAAIkM,MAAM,KAAKF,OAAL,EAAV;AACA,UAAIrN,OAAO,IAAX;AACAuN,UAAI/H,EAAJ,CAAO,MAAP,EAAe,UAAUa,IAAV,EAAgB;AAC9BrG,YAAKsJ,MAAL,CAAYjD,IAAZ;AACA,OAFD;AAGAkH,UAAI/H,EAAJ,CAAO,OAAP,EAAgB,UAAUoB,GAAV,EAAe;AAC9B5G,YAAK4F,OAAL,CAAa,gBAAb,EAA+BgB,GAA/B;AACA,OAFD;AAGA,WAAK6G,OAAL,GAAeF,GAAf;AACA,MAXD;;AAaA;;;;;;;AAOA,cAASH,OAAT,CAAiBvL,IAAjB,EAAuB;AACtB,WAAK4K,MAAL,GAAc5K,KAAK4K,MAAL,IAAe,KAA7B;AACA,WAAK7K,GAAL,GAAWC,KAAKD,GAAhB;AACA,WAAKkI,EAAL,GAAU,CAAC,CAACjI,KAAKiI,EAAjB;AACA,WAAKC,EAAL,GAAU,CAAC,CAAClI,KAAKkI,EAAjB;AACA,WAAKqB,KAAL,GAAa,UAAUvJ,KAAKuJ,KAA5B;AACA,WAAK/E,IAAL,GAAYtC,aAAalC,KAAKwE,IAAlB,GAAyBxE,KAAKwE,IAA9B,GAAqC,IAAjD;AACA,WAAKhE,KAAL,GAAaR,KAAKQ,KAAlB;AACA,WAAKiL,QAAL,GAAgBzL,KAAKyL,QAArB;AACA,WAAKpH,cAAL,GAAsBrE,KAAKqE,cAA3B;AACA,WAAKrD,UAAL,GAAkBhB,KAAKgB,UAAvB;;AAEA;AACA,WAAKW,GAAL,GAAW3B,KAAK2B,GAAhB;AACA,WAAKC,GAAL,GAAW5B,KAAK4B,GAAhB;AACA,WAAKC,UAAL,GAAkB7B,KAAK6B,UAAvB;AACA,WAAKC,IAAL,GAAY9B,KAAK8B,IAAjB;AACA,WAAKC,EAAL,GAAU/B,KAAK+B,EAAf;AACA,WAAKC,OAAL,GAAehC,KAAKgC,OAApB;AACA,WAAKC,kBAAL,GAA0BjC,KAAKiC,kBAA/B;;AAEA;AACA,WAAKG,YAAL,GAAoBpC,KAAKoC,YAAzB;;AAEA,WAAKyJ,MAAL;AACA;;AAED;;;;AAIAtM,aAAQgM,QAAQ9I,SAAhB;;AAEA;;;;;;AAMA8I,aAAQ9I,SAAR,CAAkBoJ,MAAlB,GAA2B,YAAY;AACtC,UAAI7L,OAAO;AACVQ,cAAO,KAAKA,KADF;AAEV4H,gBAAS,KAAKH,EAFJ;AAGVI,gBAAS,KAAKH,EAHJ;AAIVlH,mBAAY,KAAKA;AAJP,OAAX;;AAOA;AACAhB,WAAK2B,GAAL,GAAW,KAAKA,GAAhB;AACA3B,WAAK4B,GAAL,GAAW,KAAKA,GAAhB;AACA5B,WAAK6B,UAAL,GAAkB,KAAKA,UAAvB;AACA7B,WAAK8B,IAAL,GAAY,KAAKA,IAAjB;AACA9B,WAAK+B,EAAL,GAAU,KAAKA,EAAf;AACA/B,WAAKgC,OAAL,GAAe,KAAKA,OAApB;AACAhC,WAAKiC,kBAAL,GAA0B,KAAKA,kBAA/B;;AAEA,UAAI+F,MAAM,KAAKA,GAAL,GAAW,IAAIL,cAAJ,CAAmB3H,IAAnB,CAArB;AACA,UAAI7B,OAAO,IAAX;;AAEA,UAAI;AACHqB,aAAM,iBAAN,EAAyB,KAAKoL,MAA9B,EAAsC,KAAK7K,GAA3C;AACAiI,WAAIzF,IAAJ,CAAS,KAAKqI,MAAd,EAAsB,KAAK7K,GAA3B,EAAgC,KAAKwJ,KAArC;AACA,WAAI;AACH,YAAI,KAAKnH,YAAT,EAAuB;AACtB4F,aAAI8D,qBAAJ,CAA0B,IAA1B;AACA,cAAK,IAAIhN,CAAT,IAAc,KAAKsD,YAAnB,EAAiC;AAChC,cAAI,KAAKA,YAAL,CAAkBgB,cAAlB,CAAiCtE,CAAjC,CAAJ,EAAyC;AACxCkJ,eAAI+D,gBAAJ,CAAqBjN,CAArB,EAAwB,KAAKsD,YAAL,CAAkBtD,CAAlB,CAAxB;AACA;AACD;AACD;AACD,QATD,CASE,OAAOT,CAAP,EAAU,CAAE;AACd,WAAI,KAAKgG,cAAT,EAAyB;AACxB;AACA;AACA2D,YAAIgE,YAAJ,GAAmB,aAAnB;AACA;;AAED,WAAI,UAAU,KAAKpB,MAAnB,EAA2B;AAC1B,YAAI;AACH,aAAI,KAAKa,QAAT,EAAmB;AAClBzD,cAAI+D,gBAAJ,CAAqB,cAArB,EAAqC,0BAArC;AACA,UAFD,MAEO;AACN/D,cAAI+D,gBAAJ,CAAqB,cAArB,EAAqC,0BAArC;AACA;AACD,SAND,CAME,OAAO1N,CAAP,EAAU,CAAE;AACd;;AAED;AACA,WAAI,qBAAqB2J,GAAzB,EAA8B;AAC7BA,YAAIiE,eAAJ,GAAsB,IAAtB;AACA;;AAED,WAAI,KAAKC,MAAL,EAAJ,EAAmB;AAClBlE,YAAIsD,MAAJ,GAAa,YAAY;AACxBnN,cAAKgO,MAAL;AACA,SAFD;AAGAnE,YAAI9C,OAAJ,GAAc,YAAY;AACzB/G,cAAK4F,OAAL,CAAaiE,IAAIoE,YAAjB;AACA,SAFD;AAGA,QAPD,MAOO;AACNpE,YAAIqD,kBAAJ,GAAyB,YAAY;AACpC,aAAI,KAAKrD,IAAI7G,UAAb,EAAyB;AACzB,aAAI,OAAO6G,IAAIqE,MAAX,IAAqB,QAAQrE,IAAIqE,MAArC,EAA6C;AAC5ClO,eAAKgO,MAAL;AACA,UAFD,MAEO;AACN;AACA;AACA7I,qBAAW,YAAY;AACtBnF,gBAAK4F,OAAL,CAAaiE,IAAIqE,MAAjB;AACA,WAFD,EAEG,CAFH;AAGA;AACD,SAXD;AAYA;;AAED7M,aAAM,aAAN,EAAqB,KAAKgF,IAA1B;AACAwD,WAAI1D,IAAJ,CAAS,KAAKE,IAAd;AACA,OA1DD,CA0DE,OAAOnG,CAAP,EAAU;AACX;AACA;AACA;AACAiF,kBAAW,YAAY;AACtBnF,aAAK4F,OAAL,CAAa1F,CAAb;AACA,QAFD,EAEG,CAFH;AAGA;AACA;;AAED,UAAIH,OAAO4K,QAAX,EAAqB;AACpB,YAAKrJ,KAAL,GAAa8L,QAAQe,aAAR,EAAb;AACAf,eAAQgB,QAAR,CAAiB,KAAK9M,KAAtB,IAA+B,IAA/B;AACA;AACD,MA5FD;;AA8FA;;;;;;AAMA8L,aAAQ9I,SAAR,CAAkB+J,SAAlB,GAA8B,YAAY;AACzC,WAAKjJ,IAAL,CAAU,SAAV;AACA,WAAKsB,OAAL;AACA,MAHD;;AAKA;;;;;;AAMA0G,aAAQ9I,SAAR,CAAkBgF,MAAlB,GAA2B,UAAUjD,IAAV,EAAgB;AAC1C,WAAKjB,IAAL,CAAU,MAAV,EAAkBiB,IAAlB;AACA,WAAKgI,SAAL;AACA,MAHD;;AAKA;;;;;;AAMAjB,aAAQ9I,SAAR,CAAkBsB,OAAlB,GAA4B,UAAUgB,GAAV,EAAe;AAC1C,WAAKxB,IAAL,CAAU,OAAV,EAAmBwB,GAAnB;AACA,WAAKF,OAAL,CAAa,IAAb;AACA,MAHD;;AAKA;;;;;;AAMA0G,aAAQ9I,SAAR,CAAkBoC,OAAlB,GAA4B,UAAU4H,SAAV,EAAqB;AAChD,UAAI,eAAe,OAAO,KAAKzE,GAA3B,IAAkC,SAAS,KAAKA,GAApD,EAAyD;AACxD;AACA;AACD;AACA,UAAI,KAAKkE,MAAL,EAAJ,EAAmB;AAClB,YAAKlE,GAAL,CAASsD,MAAT,GAAkB,KAAKtD,GAAL,CAAS9C,OAAT,GAAmB0D,KAArC;AACA,OAFD,MAEO;AACN,YAAKZ,GAAL,CAASqD,kBAAT,GAA8BzC,KAA9B;AACA;;AAED,UAAI6D,SAAJ,EAAe;AACd,WAAI;AACH,aAAKzE,GAAL,CAAS0E,KAAT;AACA,QAFD,CAEE,OAAOrO,CAAP,EAAU,CAAE;AACd;;AAED,UAAIH,OAAO4K,QAAX,EAAqB;AACpB,cAAOyC,QAAQgB,QAAR,CAAiB,KAAK9M,KAAtB,CAAP;AACA;;AAED,WAAKuI,GAAL,GAAW,IAAX;AACA,MAtBD;;AAwBA;;;;;;AAMAuD,aAAQ9I,SAAR,CAAkB0J,MAAlB,GAA2B,YAAY;AACtC,UAAI3H,IAAJ;AACA,UAAI;AACH,WAAImI,WAAJ;AACA,WAAI;AACHA,sBAAc,KAAK3E,GAAL,CAAS4E,iBAAT,CAA2B,cAA3B,EAA2CC,KAA3C,CAAiD,GAAjD,EAAsD,CAAtD,CAAd;AACA,QAFD,CAEE,OAAOxO,CAAP,EAAU,CAAE;AACd,WAAIsO,gBAAgB,0BAApB,EAAgD;AAC/CnI,eAAO,KAAKwD,GAAL,CAAS8E,QAAhB;AACA,QAFD,MAEO;AACN,YAAI,CAAC,KAAKzI,cAAV,EAA0B;AACzBG,gBAAO,KAAKwD,GAAL,CAASoE,YAAhB;AACA,SAFD,MAEO;AACN,aAAI;AACH5H,iBAAOuI,OAAOC,YAAP,CAAoBC,KAApB,CAA0B,IAA1B,EAAgC,IAAIC,UAAJ,CAAe,KAAKlF,GAAL,CAAS8E,QAAxB,CAAhC,CAAP;AACA,UAFD,CAEE,OAAOzO,CAAP,EAAU;AACX,cAAI8O,SAAS,IAAID,UAAJ,CAAe,KAAKlF,GAAL,CAAS8E,QAAxB,CAAb;AACA,cAAIM,YAAY,EAAhB;AACA,eAAK,IAAIC,MAAM,CAAV,EAAalO,SAASgO,OAAOhO,MAAlC,EAA0CkO,MAAMlO,MAAhD,EAAwDkO,KAAxD,EAA+D;AAC9DD,qBAAUtG,IAAV,CAAeqG,OAAOE,GAAP,CAAf;AACA;;AAED7I,iBAAOuI,OAAOC,YAAP,CAAoBC,KAApB,CAA0B,IAA1B,EAAgCG,SAAhC,CAAP;AACA;AACD;AACD;AACD,OAxBD,CAwBE,OAAO/O,CAAP,EAAU;AACX,YAAK0F,OAAL,CAAa1F,CAAb;AACA;AACD,UAAI,QAAQmG,IAAZ,EAAkB;AACjB,YAAKiD,MAAL,CAAYjD,IAAZ;AACA;AACD,MAhCD;;AAkCA;;;;;;AAMA+G,aAAQ9I,SAAR,CAAkByJ,MAAlB,GAA2B,YAAY;AACtC,aAAO,gBAAgB,OAAOhO,OAAOoP,cAA9B,IAAgD,CAAC,KAAKpF,EAAtD,IAA4D,KAAKlH,UAAxE;AACA,MAFD;;AAIA;;;;;;AAMAuK,aAAQ9I,SAAR,CAAkBiK,KAAlB,GAA0B,YAAY;AACrC,WAAK7H,OAAL;AACA,MAFD;;AAIA;;;;;;AAMA,SAAI3G,OAAO4K,QAAX,EAAqB;AACpByC,cAAQe,aAAR,GAAwB,CAAxB;AACAf,cAAQgB,QAAR,GAAmB,EAAnB;AACA,UAAIrO,OAAOkN,WAAX,EAAwB;AACvBlN,cAAOkN,WAAP,CAAmB,UAAnB,EAA+BmC,aAA/B;AACA,OAFD,MAEO,IAAIrP,OAAO6K,gBAAX,EAA6B;AACnC7K,cAAO6K,gBAAP,CAAwB,cAAxB,EAAwCwE,aAAxC,EAAuD,KAAvD;AACA;AACD;;AAED,cAASA,aAAT,GAAyB;AACxB,WAAK,IAAIzO,CAAT,IAAcyM,QAAQgB,QAAtB,EAAgC;AAC/B,WAAIhB,QAAQgB,QAAR,CAAiBnJ,cAAjB,CAAgCtE,CAAhC,CAAJ,EAAwC;AACvCyM,gBAAQgB,QAAR,CAAiBzN,CAAjB,EAAoB4N,KAApB;AACA;AACD;AACD;AAED,KAvaD,EAuaGxN,IAvaH,CAuaQ,IAvaR,EAuac,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAvarI;AAwaA,IAzaE,EAyaA;AACF,iBAAa,CADX;AAEF,yBAAqB,EAFnB;AAGF,yBAAqB,EAHnB;AAIF,aAAS,EAJP;AAKF,0BAAsB;AALpB,IAzaA,CA3tCD;AA2oDF,MAAG,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACvC;;;;AAIA,QAAI8E,YAAYtD,QAAQ,cAAR,CAAhB;AACA,QAAIQ,UAAUR,QAAQ,SAAR,CAAd;AACA,QAAIC,SAASD,QAAQ,kBAAR,CAAb;AACA,QAAImJ,UAAUnJ,QAAQ,mBAAR,CAAd;AACA,QAAIoO,QAAQpO,QAAQ,OAAR,CAAZ;AACA,QAAII,QAAQJ,QAAQ,OAAR,EAAiB,0BAAjB,CAAZ;;AAEA;;;;AAIAvB,WAAOD,OAAP,GAAiB0K,OAAjB;;AAEA;;;;AAIA,QAAImF,UAAW,YAAY;AAC1B,SAAI9F,iBAAiBvI,QAAQ,oBAAR,CAArB;AACA,SAAI4I,MAAM,IAAIL,cAAJ,CAAmB;AAC5BS,eAAS;AADmB,MAAnB,CAAV;AAGA,YAAO,QAAQJ,IAAIgE,YAAnB;AACA,KANa,EAAd;;AAQA;;;;;;;AAOA,aAAS1D,OAAT,CAAiBtI,IAAjB,EAAuB;AACtB,SAAIe,cAAef,QAAQA,KAAKe,WAAhC;AACA,SAAI,CAAC0M,OAAD,IAAY1M,WAAhB,EAA6B;AAC5B,WAAKsD,cAAL,GAAsB,KAAtB;AACA;AACD3B,eAAUxD,IAAV,CAAe,IAAf,EAAqBc,IAArB;AACA;;AAED;;;;AAIAuI,YAAQD,OAAR,EAAiB5F,SAAjB;;AAEA;;;;AAIA4F,YAAQ7F,SAAR,CAAkBG,IAAlB,GAAyB,SAAzB;;AAEA;;;;;;;AAOA0F,YAAQ7F,SAAR,CAAkB6E,MAAlB,GAA2B,YAAY;AACtC,UAAKoG,IAAL;AACA,KAFD;;AAIA;;;;;;;AAOApF,YAAQ7F,SAAR,CAAkBmC,KAAlB,GAA0B,UAAU+I,OAAV,EAAmB;AAC5C,SAAIC,UAAU,CAAd;AACA,SAAIzP,OAAO,IAAX;;AAEA,UAAKgD,UAAL,GAAkB,SAAlB;;AAEA,cAASyD,KAAT,GAAiB;AAChBpF,YAAM,QAAN;AACArB,WAAKgD,UAAL,GAAkB,QAAlB;AACAwM;AACA;;AAED,SAAI,KAAK5F,OAAL,IAAgB,CAAC,KAAKtB,QAA1B,EAAoC;AACnC,UAAIoH,QAAQ,CAAZ;;AAEA,UAAI,KAAK9F,OAAT,EAAkB;AACjBvI,aAAM,6CAAN;AACAqO;AACA,YAAKpJ,IAAL,CAAU,cAAV,EAA0B,YAAY;AACrCjF,cAAM,4BAAN;AACA,UAAEqO,KAAF,IAAWjJ,OAAX;AACA,QAHD;AAIA;;AAED,UAAI,CAAC,KAAK6B,QAAV,EAAoB;AACnBjH,aAAM,6CAAN;AACAqO;AACA,YAAKpJ,IAAL,CAAU,OAAV,EAAmB,YAAY;AAC9BjF,cAAM,4BAAN;AACA,UAAEqO,KAAF,IAAWjJ,OAAX;AACA,QAHD;AAIA;AACD,MApBD,MAoBO;AACNA;AACA;AACD,KAnCD;;AAqCA;;;;;;AAMA0D,YAAQ7F,SAAR,CAAkBiL,IAAlB,GAAyB,YAAY;AACpClO,WAAM,SAAN;AACA,UAAKuI,OAAL,GAAe,IAAf;AACA,UAAKsB,MAAL;AACA,UAAK9F,IAAL,CAAU,MAAV;AACA,KALD;;AAOA;;;;;;AAMA+E,YAAQ7F,SAAR,CAAkBgF,MAAlB,GAA2B,UAAUjD,IAAV,EAAgB;AAC1C,SAAIrG,OAAO,IAAX;AACAqB,WAAM,qBAAN,EAA6BgF,IAA7B;AACA,SAAIsJ,WAAW,SAAXA,QAAW,CAAUjK,MAAV,EAAkBpE,KAAlB,EAAyBoO,KAAzB,EAAgC;AAC9C;AACA,UAAI,aAAa1P,KAAKgD,UAAtB,EAAkC;AACjChD,YAAKsH,MAAL;AACA;;AAED;AACA,UAAI,WAAW5B,OAAOU,IAAtB,EAA4B;AAC3BpG,YAAK6F,OAAL;AACA,cAAO,KAAP;AACA;;AAED;AACA7F,WAAK2F,QAAL,CAAcD,MAAd;AACA,MAdD;;AAgBA;AACAxE,YAAO0O,aAAP,CAAqBvJ,IAArB,EAA2B,KAAKtB,MAAL,CAAY3B,UAAvC,EAAmDuM,QAAnD;;AAEA;AACA,SAAI,YAAY,KAAK3M,UAArB,EAAiC;AAChC;AACA,WAAK4G,OAAL,GAAe,KAAf;AACA,WAAKxE,IAAL,CAAU,cAAV;;AAEA,UAAI,UAAU,KAAKpC,UAAnB,EAA+B;AAC9B,YAAKuM,IAAL;AACA,OAFD,MAEO;AACNlO,aAAM,sCAAN,EAA8C,KAAK2B,UAAnD;AACA;AACD;AACD,KAlCD;;AAoCA;;;;;;AAMAmH,YAAQ7F,SAAR,CAAkB8E,OAAlB,GAA4B,YAAY;AACvC,SAAIpJ,OAAO,IAAX;;AAEA,cAAS8G,KAAT,GAAiB;AAChBzF,YAAM,sBAAN;AACArB,WAAKuI,KAAL,CAAW,CAAC;AACXnC,aAAM;AADK,OAAD,CAAX;AAGA;;AAED,SAAI,UAAU,KAAKpD,UAAnB,EAA+B;AAC9B3B,YAAM,0BAAN;AACAyF;AACA,MAHD,MAGO;AACN;AACA;AACAzF,YAAM,sCAAN;AACA,WAAKiF,IAAL,CAAU,MAAV,EAAkBQ,KAAlB;AACA;AACD,KAnBD;;AAqBA;;;;;;;;AAQAqD,YAAQ7F,SAAR,CAAkBiE,KAAlB,GAA0B,UAAUc,OAAV,EAAmB;AAC5C,SAAIrJ,OAAO,IAAX;AACA,UAAKsI,QAAL,GAAgB,KAAhB;AACA,SAAIuH,aAAa,SAAbA,UAAa,GAAY;AAC5B7P,WAAKsI,QAAL,GAAgB,IAAhB;AACAtI,WAAKoF,IAAL,CAAU,OAAV;AACA,MAHD;;AAKA,SAAIpF,OAAO,IAAX;AACAkB,YAAO4O,aAAP,CAAqBzG,OAArB,EAA8B,KAAKnD,cAAnC,EAAmD,UAAUG,IAAV,EAAgB;AAClErG,WAAKgM,OAAL,CAAa3F,IAAb,EAAmBwJ,UAAnB;AACA,MAFD;AAGA,KAZD;;AAcA;;;;;;AAMA1F,YAAQ7F,SAAR,CAAkB1C,GAAlB,GAAwB,YAAY;AACnC,SAAIO,QAAQ,KAAKA,KAAL,IAAc,EAA1B;AACA,SAAI4N,SAAS,KAAK/N,MAAL,GAAc,OAAd,GAAwB,MAArC;AACA,SAAIE,OAAO,EAAX;;AAEA;AACA,SAAI,UAAU,KAAKa,iBAAnB,EAAsC;AACrCZ,YAAM,KAAKW,cAAX,IAA6BuM,OAA7B;AACA;;AAED,SAAI,CAAC,KAAKnJ,cAAN,IAAwB,CAAC/D,MAAM2C,GAAnC,EAAwC;AACvC3C,YAAM6N,GAAN,GAAY,CAAZ;AACA;;AAED7N,aAAQV,QAAQwO,MAAR,CAAe9N,KAAf,CAAR;;AAEA;AACA,SAAI,KAAKD,IAAL,KAAe,WAAW6N,MAAX,IAAqB,KAAK7N,IAAL,IAAa,GAAnC,IACf,UAAU6N,MAAV,IAAoB,KAAK7N,IAAL,IAAa,EADhC,CAAJ,EAC0C;AACzCA,aAAO,MAAM,KAAKA,IAAlB;AACA;;AAED;AACA,SAAIC,MAAMnB,MAAV,EAAkB;AACjBmB,cAAQ,MAAMA,KAAd;AACA;;AAED,SAAI+N,OAAO,KAAKpO,QAAL,CAAcoD,OAAd,CAAsB,GAAtB,MAA+B,CAAC,CAA3C;AACA,YAAO6K,SAAS,KAAT,IAAkBG,OAAO,MAAM,KAAKpO,QAAX,GAAsB,GAA7B,GAAmC,KAAKA,QAA1D,IAAsEI,IAAtE,GAA6E,KAAKM,IAAlF,GAAyFL,KAAhG;AACA,KA7BD;AA+BA,IA7PE,EA6PA;AACF,oBAAgB,CADd;AAEF,yBAAqB,EAFnB;AAGF,aAAS,EAHP;AAIF,wBAAoB,EAJlB;AAKF,eAAW,EALT;AAMF,0BAAsB,EANpB;AAOF,aAAS;AAPP,IA7PA,CA3oDD;AAi5DF,MAAG,CAAC,UAAUlB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACvC,KAAC,UAAUM,MAAV,EAAkB;AAClB;;;;AAIA,SAAIwE,YAAYtD,QAAQ,cAAR,CAAhB;AACA,SAAIC,SAASD,QAAQ,kBAAR,CAAb;AACA,SAAIQ,UAAUR,QAAQ,SAAR,CAAd;AACA,SAAImJ,UAAUnJ,QAAQ,mBAAR,CAAd;AACA,SAAIoO,QAAQpO,QAAQ,OAAR,CAAZ;AACA,SAAII,QAAQJ,QAAQ,OAAR,EAAiB,4BAAjB,CAAZ;AACA,SAAIkP,mBAAmBpQ,OAAOqQ,SAAP,IAAoBrQ,OAAOsQ,YAAlD;;AAEA;;;;;;AAMA,SAAID,YAAYD,gBAAhB;AACA,SAAI,CAACC,SAAD,IAAc,OAAOtQ,MAAP,KAAkB,WAApC,EAAiD;AAChD,UAAI;AACHsQ,mBAAYnP,QAAQ,IAAR,CAAZ;AACA,OAFD,CAEE,OAAOf,CAAP,EAAU,CAAE;AACd;;AAED;;;;AAIAR,YAAOD,OAAP,GAAiB6Q,EAAjB;;AAEA;;;;;;;AAOA,cAASA,EAAT,CAAYzO,IAAZ,EAAkB;AACjB,UAAIe,cAAef,QAAQA,KAAKe,WAAhC;AACA,UAAIA,WAAJ,EAAiB;AAChB,YAAKsD,cAAL,GAAsB,KAAtB;AACA;AACD,WAAK5C,iBAAL,GAAyBzB,KAAKyB,iBAA9B;AACAiB,gBAAUxD,IAAV,CAAe,IAAf,EAAqBc,IAArB;AACA;;AAED;;;;AAIAuI,aAAQkG,EAAR,EAAY/L,SAAZ;;AAEA;;;;;;AAMA+L,QAAGhM,SAAH,CAAaG,IAAb,GAAoB,WAApB;;AAEA;;;;AAIA6L,QAAGhM,SAAH,CAAa4B,cAAb,GAA8B,IAA9B;;AAEA;;;;;;AAMAoK,QAAGhM,SAAH,CAAa6E,MAAb,GAAsB,YAAY;AACjC,UAAI,CAAC,KAAKoH,KAAL,EAAL,EAAmB;AAClB;AACA;AACA;;AAED,UAAIvQ,OAAO,IAAX;AACA,UAAI4B,MAAM,KAAKA,GAAL,EAAV;AACA,UAAI4O,YAAY,KAAK,CAArB;AACA,UAAI3O,OAAO;AACVQ,cAAO,KAAKA,KADF;AAEViB,0BAAmB,KAAKA;AAFd,OAAX;;AAKA;AACAzB,WAAK2B,GAAL,GAAW,KAAKA,GAAhB;AACA3B,WAAK4B,GAAL,GAAW,KAAKA,GAAhB;AACA5B,WAAK6B,UAAL,GAAkB,KAAKA,UAAvB;AACA7B,WAAK8B,IAAL,GAAY,KAAKA,IAAjB;AACA9B,WAAK+B,EAAL,GAAU,KAAKA,EAAf;AACA/B,WAAKgC,OAAL,GAAe,KAAKA,OAApB;AACAhC,WAAKiC,kBAAL,GAA0B,KAAKA,kBAA/B;AACA,UAAI,KAAKG,YAAT,EAAuB;AACtBpC,YAAK4O,OAAL,GAAe,KAAKxM,YAApB;AACA;;AAED,WAAKyM,EAAL,GAAUP,mBAAmB,IAAIC,SAAJ,CAAcxO,GAAd,CAAnB,GAAwC,IAAIwO,SAAJ,CAAcxO,GAAd,EAAmB4O,SAAnB,EAA8B3O,IAA9B,CAAlD;;AAEA,UAAI,KAAK6O,EAAL,CAAQtN,UAAR,KAAuBW,SAA3B,EAAsC;AACrC,YAAKmC,cAAL,GAAsB,KAAtB;AACA;;AAED,UAAI,KAAKwK,EAAL,CAAQC,QAAR,IAAoB,KAAKD,EAAL,CAAQC,QAAR,CAAiBC,MAAzC,EAAiD;AAChD,YAAK1K,cAAL,GAAsB,IAAtB;AACA,YAAKwK,EAAL,CAAQtN,UAAR,GAAqB,QAArB;AACA,OAHD,MAGO;AACN,YAAKsN,EAAL,CAAQtN,UAAR,GAAqB,aAArB;AACA;;AAED,WAAKyN,iBAAL;AACA,MAxCD;;AA0CA;;;;;;AAMAP,QAAGhM,SAAH,CAAauM,iBAAb,GAAiC,YAAY;AAC5C,UAAI7Q,OAAO,IAAX;;AAEA,WAAK0Q,EAAL,CAAQI,MAAR,GAAiB,YAAY;AAC5B9Q,YAAKsH,MAAL;AACA,OAFD;AAGA,WAAKoJ,EAAL,CAAQxJ,OAAR,GAAkB,YAAY;AAC7BlH,YAAK6F,OAAL;AACA,OAFD;AAGA,WAAK6K,EAAL,CAAQK,SAAR,GAAoB,UAAUC,EAAV,EAAc;AACjChR,YAAKsJ,MAAL,CAAY0H,GAAG3K,IAAf;AACA,OAFD;AAGA,WAAKqK,EAAL,CAAQ3J,OAAR,GAAkB,UAAU7G,CAAV,EAAa;AAC9BF,YAAK4F,OAAL,CAAa,iBAAb,EAAgC1F,CAAhC;AACA,OAFD;AAGA,MAfD;;AAiBA;;;;;;;AAOA,SAAI,eAAe,OAAO2L,SAAtB,IACH,oBAAoBC,IAApB,CAAyBD,UAAUE,SAAnC,CADD,EACgD;AAC/CuE,SAAGhM,SAAH,CAAagF,MAAb,GAAsB,UAAUjD,IAAV,EAAgB;AACrC,WAAIrG,OAAO,IAAX;AACAmF,kBAAW,YAAY;AACtBZ,kBAAUD,SAAV,CAAoBgF,MAApB,CAA2BvI,IAA3B,CAAgCf,IAAhC,EAAsCqG,IAAtC;AACA,QAFD,EAEG,CAFH;AAGA,OALD;AAMA;;AAED;;;;;;;AAOAiK,QAAGhM,SAAH,CAAaiE,KAAb,GAAqB,UAAUc,OAAV,EAAmB;AACvC,UAAIrJ,OAAO,IAAX;AACA,WAAKsI,QAAL,GAAgB,KAAhB;;AAEA;AACA;AACA,UAAIoH,QAAQrG,QAAQrI,MAApB;AACA,WAAK,IAAIL,IAAI,CAAR,EAAWG,IAAI4O,KAApB,EAA2B/O,IAAIG,CAA/B,EAAkCH,GAAlC,EAAuC;AACtC,QAAC,UAAU+E,MAAV,EAAkB;AAClBxE,eAAO+P,YAAP,CAAoBvL,MAApB,EAA4B1F,KAAKkG,cAAjC,EAAiD,UAAUG,IAAV,EAAgB;AAChE,aAAI,CAAC8J,gBAAL,EAAuB;AACtB;AACA,cAAItO,OAAO,EAAX;AACA,cAAI6D,OAAO8C,OAAX,EAAoB;AACnB3G,gBAAK6G,QAAL,GAAgBhD,OAAO8C,OAAP,CAAeE,QAA/B;AACA;;AAED,cAAI1I,KAAKsD,iBAAT,EAA4B;AAC3B,eAAI4N,MAAM,YAAY,OAAO7K,IAAnB,GAA0BtG,OAAOoR,MAAP,CAAcC,UAAd,CAAyB/K,IAAzB,CAA1B,GAA2DA,KAAKrF,MAA1E;AACA,eAAIkQ,MAAMlR,KAAKsD,iBAAL,CAAuBC,SAAjC,EAA4C;AAC3C1B,iBAAK6G,QAAL,GAAgB,KAAhB;AACA;AACD;AACD;;AAED;AACA;AACA;AACA,aAAI;AACH,cAAIyH,gBAAJ,EAAsB;AACrB;AACAnQ,gBAAK0Q,EAAL,CAAQvK,IAAR,CAAaE,IAAb;AACA,WAHD,MAGO;AACNrG,gBAAK0Q,EAAL,CAAQvK,IAAR,CAAaE,IAAb,EAAmBxE,IAAnB;AACA;AACD,UAPD,CAOE,OAAO3B,CAAP,EAAU;AACXmB,gBAAM,uCAAN;AACA;;AAED,WAAEqO,KAAF,IAAW2B,MAAX;AACA,SA/BD;AAgCA,QAjCD,EAiCGhI,QAAQ1I,CAAR,CAjCH;AAkCA;;AAED,eAAS0Q,IAAT,GAAgB;AACfrR,YAAKoF,IAAL,CAAU,OAAV;;AAEA;AACA;AACAD,kBAAW,YAAY;AACtBnF,aAAKsI,QAAL,GAAgB,IAAhB;AACAtI,aAAKoF,IAAL,CAAU,OAAV;AACA,QAHD,EAGG,CAHH;AAIA;AACD,MAtDD;;AAwDA;;;;;;AAMAkL,QAAGhM,SAAH,CAAauB,OAAb,GAAuB,YAAY;AAClCtB,gBAAUD,SAAV,CAAoBuB,OAApB,CAA4B9E,IAA5B,CAAiC,IAAjC;AACA,MAFD;;AAIA;;;;;;AAMAuP,QAAGhM,SAAH,CAAa8E,OAAb,GAAuB,YAAY;AAClC,UAAI,OAAO,KAAKsH,EAAZ,KAAmB,WAAvB,EAAoC;AACnC,YAAKA,EAAL,CAAQ5J,KAAR;AACA;AACD,MAJD;;AAMA;;;;;;AAMAwJ,QAAGhM,SAAH,CAAa1C,GAAb,GAAmB,YAAY;AAC9B,UAAIO,QAAQ,KAAKA,KAAL,IAAc,EAA1B;AACA,UAAI4N,SAAS,KAAK/N,MAAL,GAAc,KAAd,GAAsB,IAAnC;AACA,UAAIE,OAAO,EAAX;;AAEA;AACA,UAAI,KAAKA,IAAL,KAAe,SAAS6N,MAAT,IAAmB,KAAK7N,IAAL,IAAa,GAAjC,IACf,QAAQ6N,MAAR,IAAkB,KAAK7N,IAAL,IAAa,EAD9B,CAAJ,EACwC;AACvCA,cAAO,MAAM,KAAKA,IAAlB;AACA;;AAED;AACA,UAAI,KAAKa,iBAAT,EAA4B;AAC3BZ,aAAM,KAAKW,cAAX,IAA6BuM,OAA7B;AACA;;AAED;AACA,UAAI,CAAC,KAAKnJ,cAAV,EAA0B;AACzB/D,aAAM6N,GAAN,GAAY,CAAZ;AACA;;AAED7N,cAAQV,QAAQwO,MAAR,CAAe9N,KAAf,CAAR;;AAEA;AACA,UAAIA,MAAMnB,MAAV,EAAkB;AACjBmB,eAAQ,MAAMA,KAAd;AACA;;AAED,UAAI+N,OAAO,KAAKpO,QAAL,CAAcoD,OAAd,CAAsB,GAAtB,MAA+B,CAAC,CAA3C;AACA,aAAO6K,SAAS,KAAT,IAAkBG,OAAO,MAAM,KAAKpO,QAAX,GAAsB,GAA7B,GAAmC,KAAKA,QAA1D,IAAsEI,IAAtE,GAA6E,KAAKM,IAAlF,GAAyFL,KAAhG;AACA,MA9BD;;AAgCA;;;;;;;AAOAmO,QAAGhM,SAAH,CAAaiM,KAAb,GAAqB,YAAY;AAChC,aAAO,CAAC,CAACH,SAAF,IAAe,EAAE,kBAAkBA,SAAlB,IAA+B,KAAK3L,IAAL,KAAc6L,GAAGhM,SAAH,CAAaG,IAA5D,CAAtB;AACA,MAFD;AAIA,KAlSD,EAkSG1D,IAlSH,CAkSQ,IAlSR,EAkSc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAlSrI;AAmSA,IApSE,EAoSA;AACF,oBAAgB,CADd;AAEF,yBAAqB,EAFnB;AAGF,aAAS,EAHP;AAIF,wBAAoB,EAJlB;AAKF,eAAW,EALT;AAMF,UAAMgE,SANJ;AAOF,aAAS;AAPP,IApSA,CAj5DD;AA8rEF,OAAI,CAAC,UAAU9C,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC;AACA,QAAI6R,UAAUrQ,QAAQ,UAAR,CAAd;;AAEAvB,WAAOD,OAAP,GAAiB,UAAUoC,IAAV,EAAgB;AAChC,SAAIoI,UAAUpI,KAAKoI,OAAnB;;AAEA;AACA;AACA,SAAIC,UAAUrI,KAAKqI,OAAnB;;AAEA;AACA;AACA,SAAIrH,aAAahB,KAAKgB,UAAtB;;AAEA;AACA,SAAI;AACH,UAAI,eAAe,OAAO2G,cAAtB,KAAyC,CAACS,OAAD,IAAYqH,OAArD,CAAJ,EAAmE;AAClE,cAAO,IAAI9H,cAAJ,EAAP;AACA;AACD,MAJD,CAIE,OAAOtJ,CAAP,EAAU,CAAE;;AAEd;AACA;AACA;AACA,SAAI;AACH,UAAI,eAAe,OAAOiP,cAAtB,IAAwC,CAACjF,OAAzC,IAAoDrH,UAAxD,EAAoE;AACnE,cAAO,IAAIsM,cAAJ,EAAP;AACA;AACD,MAJD,CAIE,OAAOjP,CAAP,EAAU,CAAE;;AAEd,SAAI,CAAC+J,OAAL,EAAc;AACb,UAAI;AACH,cAAO,IAAIsH,aAAJ,CAAkB,mBAAlB,CAAP;AACA,OAFD,CAEE,OAAOrR,CAAP,EAAU,CAAE;AACd;AACD,KAhCD;AAkCA,IAtCG,EAsCD;AACF,gBAAY;AADV,IAtCC,CA9rEF;AAuuEF,OAAI,CAAC,UAAUe,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCC,WAAOD,OAAP,GAAiB+R,KAAjB;;AAEA,aAASA,KAAT,CAAeC,KAAf,EAAsB9B,QAAtB,EAAgC+B,MAAhC,EAAwC;AACvC,SAAIC,OAAO,KAAX;AACAD,cAASA,UAAU/P,IAAnB;AACAiQ,WAAMH,KAAN,GAAcA,KAAd;;AAEA,YAAQA,UAAU,CAAX,GAAgB9B,UAAhB,GAA6BiC,KAApC;;AAEA,cAASA,KAAT,CAAehL,GAAf,EAAoBiL,MAApB,EAA4B;AAC3B,UAAID,MAAMH,KAAN,IAAe,CAAnB,EAAsB;AACrB,aAAM,IAAI7Q,KAAJ,CAAU,6BAAV,CAAN;AACA;AACD,QAAEgR,MAAMH,KAAR;;AAEA;AACA,UAAI7K,GAAJ,EAAS;AACR+K,cAAO,IAAP;AACAhC,gBAAS/I,GAAT;AACA;AACA+I,kBAAW+B,MAAX;AACA,OALD,MAKO,IAAIE,MAAMH,KAAN,KAAgB,CAAhB,IAAqB,CAACE,IAA1B,EAAgC;AACtChC,gBAAS,IAAT,EAAekC,MAAf;AACA;AACD;AACD;;AAED,aAASlQ,IAAT,GAAgB,CAAE;AAElB,IA9BG,EA8BD,EA9BC,CAvuEF;AAswEF,OAAI,CAAC,UAAUV,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC;;;;;;;AAOAC,WAAOD,OAAP,GAAiB,UAAUqS,WAAV,EAAuBC,KAAvB,EAA8BC,GAA9B,EAAmC;AACnD,SAAIC,QAAQH,YAAYV,UAAxB;AACAW,aAAQA,SAAS,CAAjB;AACAC,WAAMA,OAAOC,KAAb;;AAEA,SAAIH,YAAYI,KAAhB,EAAuB;AACtB,aAAOJ,YAAYI,KAAZ,CAAkBH,KAAlB,EAAyBC,GAAzB,CAAP;AACA;;AAED,SAAID,QAAQ,CAAZ,EAAe;AACdA,eAASE,KAAT;AACA;AACD,SAAID,MAAM,CAAV,EAAa;AACZA,aAAOC,KAAP;AACA;AACD,SAAID,MAAMC,KAAV,EAAiB;AAChBD,YAAMC,KAAN;AACA;;AAED,SAAIF,SAASE,KAAT,IAAkBF,SAASC,GAA3B,IAAkCC,UAAU,CAAhD,EAAmD;AAClD,aAAO,IAAIE,WAAJ,CAAgB,CAAhB,CAAP;AACA;;AAED,SAAIC,MAAM,IAAIrD,UAAJ,CAAe+C,WAAf,CAAV;AACA,SAAID,SAAS,IAAI9C,UAAJ,CAAeiD,MAAMD,KAArB,CAAb;AACA,UAAK,IAAIpR,IAAIoR,KAAR,EAAeM,KAAK,CAAzB,EAA4B1R,IAAIqR,GAAhC,EAAqCrR,KAAK0R,IAA1C,EAAgD;AAC/CR,aAAOQ,EAAP,IAAaD,IAAIzR,CAAJ,CAAb;AACA;AACD,YAAOkR,OAAOS,MAAd;AACA,KA7BD;AA+BA,IAvCG,EAuCD,EAvCC,CAtwEF;AA8yEF,OAAI,CAAC,UAAUrR,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC;;;;;;;AAOA,KAAC,UAAU8S,KAAV,EAAiB;AACjB;;AAEA9S,aAAQwQ,MAAR,GAAiB,UAAU6B,WAAV,EAAuB;AACvC,UAAIG,QAAQ,IAAIlD,UAAJ,CAAe+C,WAAf,CAAZ;AAAA,UACCnR,CADD;AAAA,UACIuQ,MAAMe,MAAMjR,MADhB;AAAA,UAECwR,SAAS,EAFV;;AAIA,WAAK7R,IAAI,CAAT,EAAYA,IAAIuQ,GAAhB,EAAqBvQ,KAAK,CAA1B,EAA6B;AAC5B6R,iBAAUD,MAAMN,MAAMtR,CAAN,KAAY,CAAlB,CAAV;AACA6R,iBAAUD,MAAO,CAACN,MAAMtR,CAAN,IAAW,CAAZ,KAAkB,CAAnB,GAAyBsR,MAAMtR,IAAI,CAAV,KAAgB,CAA/C,CAAV;AACA6R,iBAAUD,MAAO,CAACN,MAAMtR,IAAI,CAAV,IAAe,EAAhB,KAAuB,CAAxB,GAA8BsR,MAAMtR,IAAI,CAAV,KAAgB,CAApD,CAAV;AACA6R,iBAAUD,MAAMN,MAAMtR,IAAI,CAAV,IAAe,EAArB,CAAV;AACA;;AAED,UAAKuQ,MAAM,CAAP,KAAc,CAAlB,EAAqB;AACpBsB,gBAASA,OAAOC,SAAP,CAAiB,CAAjB,EAAoBD,OAAOxR,MAAP,GAAgB,CAApC,IAAyC,GAAlD;AACA,OAFD,MAEO,IAAIkQ,MAAM,CAAN,KAAY,CAAhB,EAAmB;AACzBsB,gBAASA,OAAOC,SAAP,CAAiB,CAAjB,EAAoBD,OAAOxR,MAAP,GAAgB,CAApC,IAAyC,IAAlD;AACA;;AAED,aAAOwR,MAAP;AACA,MAnBD;;AAqBA/S,aAAQ6C,MAAR,GAAiB,UAAUkQ,MAAV,EAAkB;AAClC,UAAIE,eAAeF,OAAOxR,MAAP,GAAgB,IAAnC;AAAA,UACCkQ,MAAMsB,OAAOxR,MADd;AAAA,UAECL,CAFD;AAAA,UAEIgS,IAAI,CAFR;AAAA,UAGCC,QAHD;AAAA,UAGWC,QAHX;AAAA,UAGqBC,QAHrB;AAAA,UAG+BC,QAH/B;;AAKA,UAAIP,OAAOA,OAAOxR,MAAP,GAAgB,CAAvB,MAA8B,GAAlC,EAAuC;AACtC0R;AACA,WAAIF,OAAOA,OAAOxR,MAAP,GAAgB,CAAvB,MAA8B,GAAlC,EAAuC;AACtC0R;AACA;AACD;;AAED,UAAIZ,cAAc,IAAIK,WAAJ,CAAgBO,YAAhB,CAAlB;AAAA,UACCT,QAAQ,IAAIlD,UAAJ,CAAe+C,WAAf,CADT;;AAGA,WAAKnR,IAAI,CAAT,EAAYA,IAAIuQ,GAAhB,EAAqBvQ,KAAK,CAA1B,EAA6B;AAC5BiS,kBAAWL,MAAMrN,OAAN,CAAcsN,OAAO7R,CAAP,CAAd,CAAX;AACAkS,kBAAWN,MAAMrN,OAAN,CAAcsN,OAAO7R,IAAI,CAAX,CAAd,CAAX;AACAmS,kBAAWP,MAAMrN,OAAN,CAAcsN,OAAO7R,IAAI,CAAX,CAAd,CAAX;AACAoS,kBAAWR,MAAMrN,OAAN,CAAcsN,OAAO7R,IAAI,CAAX,CAAd,CAAX;;AAEAsR,aAAMU,GAAN,IAAcC,YAAY,CAAb,GAAmBC,YAAY,CAA5C;AACAZ,aAAMU,GAAN,IAAc,CAACE,WAAW,EAAZ,KAAmB,CAApB,GAA0BC,YAAY,CAAnD;AACAb,aAAMU,GAAN,IAAc,CAACG,WAAW,CAAZ,KAAkB,CAAnB,GAAyBC,WAAW,EAAjD;AACA;;AAED,aAAOjB,WAAP;AACA,MA5BD;AA6BA,KArDD,EAqDG,kEArDH;AAuDA,IA/DG,EA+DD,EA/DC,CA9yEF;AA82EF,OAAI,CAAC,UAAU7Q,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;AAClB;;;;AAIA,SAAIiT,cAAcjT,OAAOiT,WAAP,IACjBjT,OAAOkT,iBADU,IAEjBlT,OAAOmT,aAFU,IAGjBnT,OAAOoT,cAHR;;AAKA;;;;AAIA,SAAIC,gBAAiB,YAAY;AAChC,UAAI;AACH,WAAI3S,IAAI,IAAI4S,IAAJ,CAAS,CAAC,IAAD,CAAT,CAAR;AACA,cAAO5S,EAAE6S,IAAF,KAAW,CAAlB;AACA,OAHD,CAGE,OAAOpT,CAAP,EAAU;AACX,cAAO,KAAP;AACA;AACD,MAPmB,EAApB;;AASA;;;;;AAKA,SAAIqT,8BAA8BH,iBAAkB,YAAY;AAC/D,UAAI;AACH,WAAII,IAAI,IAAIH,IAAJ,CAAS,CAAC,IAAItE,UAAJ,CAAe,CAAC,CAAD,EAAI,CAAJ,CAAf,CAAD,CAAT,CAAR;AACA,cAAOyE,EAAEF,IAAF,KAAW,CAAlB;AACA,OAHD,CAGE,OAAOpT,CAAP,EAAU;AACX,cAAO,KAAP;AACA;AACD,MAPkD,EAAnD;;AASA;;;;AAIA,SAAIuT,uBAAuBT,eAC1BA,YAAY1O,SAAZ,CAAsBoP,MADI,IAE1BV,YAAY1O,SAAZ,CAAsBqP,OAFvB;;AAIA;;;;;;AAMA,cAASC,mBAAT,CAA6BC,GAA7B,EAAkC;AACjC,WAAK,IAAIlT,IAAI,CAAb,EAAgBA,IAAIkT,IAAI7S,MAAxB,EAAgCL,GAAhC,EAAqC;AACpC,WAAImT,QAAQD,IAAIlT,CAAJ,CAAZ;AACA,WAAImT,MAAMxB,MAAN,YAAwBH,WAA5B,EAAyC;AACxC,YAAI4B,MAAMD,MAAMxB,MAAhB;;AAEA;AACA;AACA,YAAIwB,MAAM1C,UAAN,KAAqB2C,IAAI3C,UAA7B,EAAyC;AACxC,aAAI4C,OAAO,IAAIjF,UAAJ,CAAe+E,MAAM1C,UAArB,CAAX;AACA4C,cAAKC,GAAL,CAAS,IAAIlF,UAAJ,CAAegF,GAAf,EAAoBD,MAAMI,UAA1B,EAAsCJ,MAAM1C,UAA5C,CAAT;AACA2C,eAAMC,KAAK1B,MAAX;AACA;;AAEDuB,YAAIlT,CAAJ,IAASoT,GAAT;AACA;AACD;AACD;;AAED,cAASI,sBAAT,CAAgCN,GAAhC,EAAqCrL,OAArC,EAA8C;AAC7CA,gBAAUA,WAAW,EAArB;;AAEA,UAAI4L,KAAK,IAAIpB,WAAJ,EAAT;AACAY,0BAAoBC,GAApB;;AAEA,WAAK,IAAIlT,IAAI,CAAb,EAAgBA,IAAIkT,IAAI7S,MAAxB,EAAgCL,GAAhC,EAAqC;AACpCyT,UAAGV,MAAH,CAAUG,IAAIlT,CAAJ,CAAV;AACA;;AAED,aAAQ6H,QAAQpC,IAAT,GAAiBgO,GAAGT,OAAH,CAAWnL,QAAQpC,IAAnB,CAAjB,GAA4CgO,GAAGT,OAAH,EAAnD;AACA;;AAED,cAASU,eAAT,CAAyBR,GAAzB,EAA8BrL,OAA9B,EAAuC;AACtCoL,0BAAoBC,GAApB;AACA,aAAO,IAAIR,IAAJ,CAASQ,GAAT,EAAcrL,WAAW,EAAzB,CAAP;AACA;;AAED9I,YAAOD,OAAP,GAAkB,YAAY;AAC7B,UAAI2T,aAAJ,EAAmB;AAClB,cAAOG,8BAA8BxT,OAAOsT,IAArC,GAA4CgB,eAAnD;AACA,OAFD,MAEO,IAAIZ,oBAAJ,EAA0B;AAChC,cAAOU,sBAAP;AACA,OAFM,MAEA;AACN,cAAOpQ,SAAP;AACA;AACD,MARgB,EAAjB;AAUA,KAlGD,EAkGGhD,IAlGH,CAkGQ,IAlGR,EAkGc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAlGrI;AAmGA,IApGG,EAoGD,EApGC,CA92EF;AAm9EF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;AAIAC,WAAOD,OAAP,GAAiB2B,OAAjB;;AAEA;;;;;;AAMA,aAASA,OAAT,CAAiB4D,GAAjB,EAAsB;AACrB,SAAIA,GAAJ,EAAS,OAAOsP,MAAMtP,GAAN,CAAP;AACT;;AAED;;;;;;;;AAQA,aAASsP,KAAT,CAAetP,GAAf,EAAoB;AACnB,UAAK,IAAIvB,GAAT,IAAgBrC,QAAQkD,SAAxB,EAAmC;AAClCU,UAAIvB,GAAJ,IAAWrC,QAAQkD,SAAR,CAAkBb,GAAlB,CAAX;AACA;AACD,YAAOuB,GAAP;AACA;;AAED;;;;;;;;;AASA5D,YAAQkD,SAAR,CAAkBkB,EAAlB,GACCpE,QAAQkD,SAAR,CAAkBsG,gBAAlB,GAAqC,UAAU2J,KAAV,EAAiB9L,EAAjB,EAAqB;AACzD,UAAK+L,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;AACA,MAAC,KAAKA,UAAL,CAAgBD,KAAhB,IAAyB,KAAKC,UAAL,CAAgBD,KAAhB,KAA0B,EAApD,EACC5L,IADD,CACMF,EADN;AAEA,YAAO,IAAP;AACA,KANF;;AAQA;;;;;;;;;;AAUArH,YAAQkD,SAAR,CAAkBgC,IAAlB,GAAyB,UAAUiO,KAAV,EAAiB9L,EAAjB,EAAqB;AAC7C,SAAIzI,OAAO,IAAX;AACA,UAAKwU,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;;AAEA,cAAShP,EAAT,GAAc;AACbxF,WAAKyU,GAAL,CAASF,KAAT,EAAgB/O,EAAhB;AACAiD,SAAGqG,KAAH,CAAS,IAAT,EAAe4F,SAAf;AACA;;AAEDlP,QAAGiD,EAAH,GAAQA,EAAR;AACA,UAAKjD,EAAL,CAAQ+O,KAAR,EAAe/O,EAAf;AACA,YAAO,IAAP;AACA,KAZD;;AAcA;;;;;;;;;;AAUApE,YAAQkD,SAAR,CAAkBmQ,GAAlB,GACCrT,QAAQkD,SAAR,CAAkB+C,cAAlB,GACAjG,QAAQkD,SAAR,CAAkBiB,kBAAlB,GACAnE,QAAQkD,SAAR,CAAkBqQ,mBAAlB,GAAwC,UAAUJ,KAAV,EAAiB9L,EAAjB,EAAqB;AAC5D,UAAK+L,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;;AAEA;AACA,SAAI,KAAKE,UAAU1T,MAAnB,EAA2B;AAC1B,WAAKwT,UAAL,GAAkB,EAAlB;AACA,aAAO,IAAP;AACA;;AAED;AACA,SAAIhK,YAAY,KAAKgK,UAAL,CAAgBD,KAAhB,CAAhB;AACA,SAAI,CAAC/J,SAAL,EAAgB,OAAO,IAAP;;AAEhB;AACA,SAAI,KAAKkK,UAAU1T,MAAnB,EAA2B;AAC1B,aAAO,KAAKwT,UAAL,CAAgBD,KAAhB,CAAP;AACA,aAAO,IAAP;AACA;;AAED;AACA,SAAIK,EAAJ;AACA,UAAK,IAAIjU,IAAI,CAAb,EAAgBA,IAAI6J,UAAUxJ,MAA9B,EAAsCL,GAAtC,EAA2C;AAC1CiU,WAAKpK,UAAU7J,CAAV,CAAL;AACA,UAAIiU,OAAOnM,EAAP,IAAamM,GAAGnM,EAAH,KAAUA,EAA3B,EAA+B;AAC9B+B,iBAAUpC,MAAV,CAAiBzH,CAAjB,EAAoB,CAApB;AACA;AACA;AACD;AACD,YAAO,IAAP;AACA,KAhCF;;AAkCA;;;;;;;;AAQAS,YAAQkD,SAAR,CAAkBc,IAAlB,GAAyB,UAAUmP,KAAV,EAAiB;AACzC,UAAKC,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;AACA,SAAIK,OAAO,GAAG3C,KAAH,CAASnR,IAAT,CAAc2T,SAAd,EAAyB,CAAzB,CAAX;AAAA,SACClK,YAAY,KAAKgK,UAAL,CAAgBD,KAAhB,CADb;;AAGA,SAAI/J,SAAJ,EAAe;AACdA,kBAAYA,UAAU0H,KAAV,CAAgB,CAAhB,CAAZ;AACA,WAAK,IAAIvR,IAAI,CAAR,EAAWuQ,MAAM1G,UAAUxJ,MAAhC,EAAwCL,IAAIuQ,GAA5C,EAAiD,EAAEvQ,CAAnD,EAAsD;AACrD6J,iBAAU7J,CAAV,EAAamO,KAAb,CAAmB,IAAnB,EAAyB+F,IAAzB;AACA;AACD;;AAED,YAAO,IAAP;AACA,KAbD;;AAeA;;;;;;;;AAQAzT,YAAQkD,SAAR,CAAkBwQ,SAAlB,GAA8B,UAAUP,KAAV,EAAiB;AAC9C,UAAKC,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;AACA,YAAO,KAAKA,UAAL,CAAgBD,KAAhB,KAA0B,EAAjC;AACA,KAHD;;AAKA;;;;;;;;AAQAnT,YAAQkD,SAAR,CAAkByQ,YAAlB,GAAiC,UAAUR,KAAV,EAAiB;AACjD,YAAO,CAAC,CAAC,KAAKO,SAAL,CAAeP,KAAf,EAAsBvT,MAA/B;AACA,KAFD;AAIA,IAtKG,EAsKD,EAtKC,CAn9EF;AA0nFF,OAAI,CAAC,UAAUC,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExCC,WAAOD,OAAP,GAAiB,UAAUgB,CAAV,EAAa+S,CAAb,EAAgB;AAChC,SAAI/K,KAAK,SAALA,EAAK,GAAY,CAAE,CAAvB;AACAA,QAAGnE,SAAH,GAAekP,EAAElP,SAAjB;AACA7D,OAAE6D,SAAF,GAAc,IAAImE,EAAJ,EAAd;AACAhI,OAAE6D,SAAF,CAAY0Q,WAAZ,GAA0BvU,CAA1B;AACA,KALD;AAMA,IARG,EAQD,EARC,CA1nFF;AAmoFF,OAAI,CAAC,UAAUQ,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;;;AAMAA,cAAUC,OAAOD,OAAP,GAAiBwB,QAAQ,SAAR,CAA3B;AACAxB,YAAQwV,GAAR,GAAcA,GAAd;AACAxV,YAAQyV,UAAR,GAAqBA,UAArB;AACAzV,YAAQ0V,IAAR,GAAeA,IAAf;AACA1V,YAAQ2V,IAAR,GAAeA,IAAf;AACA3V,YAAQ4V,SAAR,GAAoBA,SAApB;AACA5V,YAAQ6V,OAAR,GAAkB,eAAe,OAAOC,MAAtB,IACjB,eAAe,OAAOA,OAAOD,OADZ,GAEjBC,OAAOD,OAAP,CAAeE,KAFE,GAGjBC,cAHD;;AAKA;;;;AAIAhW,YAAQiW,MAAR,GAAiB,CAChB,eADgB,EAEhB,aAFgB,EAGhB,WAHgB,EAIhB,YAJgB,EAKhB,YALgB,EAMhB,SANgB,CAAjB;;AASA;;;;;;;;AAQA,aAASL,SAAT,GAAqB;AACpB;AACA,YAAQ,sBAAsB1K,SAASgL,eAAT,CAAyBvJ,KAAhD;AACN;AACCtM,YAAO8V,OAAP,KAAmBA,QAAQC,OAAR,IAAoBD,QAAQE,SAAR,IAAqBF,QAAQG,KAApE,CAFK;AAGN;AACA;AACClK,eAAUE,SAAV,CAAoBiK,WAApB,GAAkCC,KAAlC,CAAwC,gBAAxC,KAA6DC,SAASC,OAAOC,EAAhB,EAAoB,EAApB,KAA2B,EAL1F;AAMA;;AAED;;;;AAIA3W,YAAQ4W,UAAR,CAAmBpN,CAAnB,GAAuB,UAAUqN,CAAV,EAAa;AACnC,YAAOC,KAAKC,SAAL,CAAeF,CAAf,CAAP;AACA,KAFD;;AAKA;;;;;;AAMA,aAASpB,UAAT,GAAsB;AACrB,SAAIL,OAAOH,SAAX;AACA,SAAIW,YAAY,KAAKA,SAArB;;AAEAR,UAAK,CAAL,IAAU,CAACQ,YAAY,IAAZ,GAAmB,EAApB,IACT,KAAKoB,SADI,IAERpB,YAAY,KAAZ,GAAoB,GAFZ,IAGTR,KAAK,CAAL,CAHS,IAIRQ,YAAY,KAAZ,GAAoB,GAJZ,IAKT,GALS,GAKH5V,QAAQiX,QAAR,CAAiB,KAAKC,IAAtB,CALP;;AAOA,SAAI,CAACtB,SAAL,EAAgB,OAAOR,IAAP;;AAEhB,SAAI+B,IAAI,YAAY,KAAKC,KAAzB;AACAhC,YAAO,CAACA,KAAK,CAAL,CAAD,EAAU+B,CAAV,EAAa,gBAAb,EAA+BE,MAA/B,CAAsCC,MAAMzS,SAAN,CAAgB4N,KAAhB,CAAsBnR,IAAtB,CAA2B8T,IAA3B,EAAiC,CAAjC,CAAtC,CAAP;;AAEA;AACA;AACA;AACA,SAAIvT,QAAQ,CAAZ;AACA,SAAI0V,QAAQ,CAAZ;AACAnC,UAAK,CAAL,EAAQpS,OAAR,CAAgB,UAAhB,EAA4B,UAAUwT,KAAV,EAAiB;AAC5C,UAAI,SAASA,KAAb,EAAoB;AACpB3U;AACA,UAAI,SAAS2U,KAAb,EAAoB;AACnB;AACA;AACAe,eAAQ1V,KAAR;AACA;AACD,MARD;;AAUAuT,UAAKzM,MAAL,CAAY4O,KAAZ,EAAmB,CAAnB,EAAsBJ,CAAtB;AACA,YAAO/B,IAAP;AACA;;AAED;;;;;;;AAOA,aAASI,GAAT,GAAe;AACd;AACA;AACA,YAAO,qBAAoBW,OAApB,yCAAoBA,OAApB,MACNA,QAAQX,GADF,IAENgC,SAAS3S,SAAT,CAAmBwK,KAAnB,CAAyB/N,IAAzB,CAA8B6U,QAAQX,GAAtC,EAA2CW,OAA3C,EAAoDlB,SAApD,CAFD;AAGA;;AAED;;;;;;;AAOA,aAASS,IAAT,CAAc+B,UAAd,EAA0B;AACzB,SAAI;AACH,UAAI,QAAQA,UAAZ,EAAwB;AACvBzX,eAAQ6V,OAAR,CAAgB6B,UAAhB,CAA2B,OAA3B;AACA,OAFD,MAEO;AACN1X,eAAQ6V,OAAR,CAAgBjU,KAAhB,GAAwB6V,UAAxB;AACA;AACD,MAND,CAME,OAAOhX,CAAP,EAAU,CAAE;AACd;;AAED;;;;;;;AAOA,aAASkV,IAAT,GAAgB;AACf,SAAI/U,CAAJ;AACA,SAAI;AACHA,UAAIZ,QAAQ6V,OAAR,CAAgBjU,KAApB;AACA,MAFD,CAEE,OAAOnB,CAAP,EAAU,CAAE;AACd,YAAOG,CAAP;AACA;;AAED;;;;AAIAZ,YAAQ2X,MAAR,CAAehC,MAAf;;AAEA;;;;;;;;;;;AAWA,aAASK,YAAT,GAAwB;AACvB,SAAI;AACH,aAAO3V,OAAOuX,YAAd;AACA,MAFD,CAEE,OAAOnX,CAAP,EAAU,CAAE;AACd;AAED,IA1KG,EA0KD;AACF,eAAW;AADT,IA1KC,CAnoFF;AAgzFF,OAAI,CAAC,UAAUe,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;;;;AAOAA,cAAUC,OAAOD,OAAP,GAAiB4B,KAA3B;AACA5B,YAAQ6X,MAAR,GAAiBA,MAAjB;AACA7X,YAAQ8X,OAAR,GAAkBA,OAAlB;AACA9X,YAAQ2X,MAAR,GAAiBA,MAAjB;AACA3X,YAAQ+X,OAAR,GAAkBA,OAAlB;AACA/X,YAAQiX,QAAR,GAAmBzV,QAAQ,IAAR,CAAnB;;AAEA;;;;AAIAxB,YAAQgY,KAAR,GAAgB,EAAhB;AACAhY,YAAQiY,KAAR,GAAgB,EAAhB;;AAEA;;;;;;AAMAjY,YAAQ4W,UAAR,GAAqB,EAArB;;AAEA;;;;AAIA,QAAIsB,YAAY,CAAhB;;AAEA;;;;AAIA,QAAIC,QAAJ;;AAEA;;;;;;;AAOA,aAASC,WAAT,GAAuB;AACtB,YAAOpY,QAAQiW,MAAR,CAAeiC,cAAclY,QAAQiW,MAAR,CAAe1U,MAA5C,CAAP;AACA;;AAED;;;;;;;;AAQA,aAASK,KAAT,CAAeoV,SAAf,EAA0B;;AAEzB;AACA,cAASqB,QAAT,GAAoB,CAAE;AACtBA,cAASN,OAAT,GAAmB,KAAnB;;AAEA;AACA,cAASA,OAAT,GAAmB;;AAElB,UAAIxX,OAAOwX,OAAX;;AAEA;AACA,UAAIO,OAAO,CAAC,IAAIC,IAAJ,EAAZ;AACA,UAAIC,KAAKF,QAAQH,YAAYG,IAApB,CAAT;AACA/X,WAAK2W,IAAL,GAAYsB,EAAZ;AACAjY,WAAKkY,IAAL,GAAYN,QAAZ;AACA5X,WAAK+X,IAAL,GAAYA,IAAZ;AACAH,iBAAWG,IAAX;;AAEA;AACA,UAAI,QAAQ/X,KAAKqV,SAAjB,EAA4BrV,KAAKqV,SAAL,GAAiB5V,QAAQ4V,SAAR,EAAjB;AAC5B,UAAI,QAAQrV,KAAK6W,KAAb,IAAsB7W,KAAKqV,SAA/B,EAA0CrV,KAAK6W,KAAL,GAAagB,aAAb;;AAE1C,UAAIhD,OAAOkC,MAAMzS,SAAN,CAAgB4N,KAAhB,CAAsBnR,IAAtB,CAA2B2T,SAA3B,CAAX;;AAEAG,WAAK,CAAL,IAAUpV,QAAQ6X,MAAR,CAAezC,KAAK,CAAL,CAAf,CAAV;;AAEA,UAAI,aAAa,OAAOA,KAAK,CAAL,CAAxB,EAAiC;AAChC;AACAA,cAAO,CAAC,IAAD,EAAOiC,MAAP,CAAcjC,IAAd,CAAP;AACA;;AAED;AACA,UAAIvT,QAAQ,CAAZ;AACAuT,WAAK,CAAL,IAAUA,KAAK,CAAL,EAAQpS,OAAR,CAAgB,YAAhB,EAA8B,UAAUwT,KAAV,EAAiBkC,MAAjB,EAAyB;AAChE;AACA,WAAIlC,UAAU,IAAd,EAAoB,OAAOA,KAAP;AACpB3U;AACA,WAAI8W,YAAY3Y,QAAQ4W,UAAR,CAAmB8B,MAAnB,CAAhB;AACA,WAAI,eAAe,OAAOC,SAA1B,EAAqC;AACpC,YAAIC,MAAMxD,KAAKvT,KAAL,CAAV;AACA2U,gBAAQmC,UAAUrX,IAAV,CAAef,IAAf,EAAqBqY,GAArB,CAAR;;AAEA;AACAxD,aAAKzM,MAAL,CAAY9G,KAAZ,EAAmB,CAAnB;AACAA;AACA;AACD,cAAO2U,KAAP;AACA,OAdS,CAAV;;AAgBA,UAAI,eAAe,OAAOxW,QAAQyV,UAAlC,EAA8C;AAC7CL,cAAOpV,QAAQyV,UAAR,CAAmBpG,KAAnB,CAAyB9O,IAAzB,EAA+B6U,IAA/B,CAAP;AACA;AACD,UAAIyD,QAAQd,QAAQvC,GAAR,IAAexV,QAAQwV,GAAvB,IAA8BW,QAAQX,GAAR,CAAYsD,IAAZ,CAAiB3C,OAAjB,CAA1C;AACA0C,YAAMxJ,KAAN,CAAY9O,IAAZ,EAAkB6U,IAAlB;AACA;AACD2C,aAAQA,OAAR,GAAkB,IAAlB;;AAEA,SAAI/O,KAAKhJ,QAAQ+X,OAAR,CAAgBf,SAAhB,IAA6Be,OAA7B,GAAuCM,QAAhD;;AAEArP,QAAGgO,SAAH,GAAeA,SAAf;;AAEA,YAAOhO,EAAP;AACA;;AAED;;;;;;;;AAQA,aAAS2O,MAAT,CAAgBF,UAAhB,EAA4B;AAC3BzX,aAAQ0V,IAAR,CAAa+B,UAAb;;AAEA,SAAIxI,QAAQ,CAACwI,cAAc,EAAf,EAAmBxI,KAAnB,CAAyB,QAAzB,CAAZ;AACA,SAAIwC,MAAMxC,MAAM1N,MAAhB;;AAEA,UAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAIuQ,GAApB,EAAyBvQ,GAAzB,EAA8B;AAC7B,UAAI,CAAC+N,MAAM/N,CAAN,CAAL,EAAe,SADc,CACJ;AACzBuW,mBAAaxI,MAAM/N,CAAN,EAAS8B,OAAT,CAAiB,KAAjB,EAAwB,KAAxB,CAAb;AACA,UAAIyU,WAAW,CAAX,MAAkB,GAAtB,EAA2B;AAC1BzX,eAAQiY,KAAR,CAAc/O,IAAd,CAAmB,IAAIwN,MAAJ,CAAW,MAAMe,WAAWsB,MAAX,CAAkB,CAAlB,CAAN,GAA6B,GAAxC,CAAnB;AACA,OAFD,MAEO;AACN/Y,eAAQgY,KAAR,CAAc9O,IAAd,CAAmB,IAAIwN,MAAJ,CAAW,MAAMe,UAAN,GAAmB,GAA9B,CAAnB;AACA;AACD;AACD;;AAED;;;;;;AAMA,aAASK,OAAT,GAAmB;AAClB9X,aAAQ2X,MAAR,CAAe,EAAf;AACA;;AAED;;;;;;;;AAQA,aAASI,OAAT,CAAiB/S,IAAjB,EAAuB;AACtB,SAAI9D,CAAJ,EAAOuQ,GAAP;AACA,UAAKvQ,IAAI,CAAJ,EAAOuQ,MAAMzR,QAAQiY,KAAR,CAAc1W,MAAhC,EAAwCL,IAAIuQ,GAA5C,EAAiDvQ,GAAjD,EAAsD;AACrD,UAAIlB,QAAQiY,KAAR,CAAc/W,CAAd,EAAiBmL,IAAjB,CAAsBrH,IAAtB,CAAJ,EAAiC;AAChC,cAAO,KAAP;AACA;AACD;AACD,UAAK9D,IAAI,CAAJ,EAAOuQ,MAAMzR,QAAQgY,KAAR,CAAczW,MAAhC,EAAwCL,IAAIuQ,GAA5C,EAAiDvQ,GAAjD,EAAsD;AACrD,UAAIlB,QAAQgY,KAAR,CAAc9W,CAAd,EAAiBmL,IAAjB,CAAsBrH,IAAtB,CAAJ,EAAiC;AAChC,cAAO,IAAP;AACA;AACD;AACD,YAAO,KAAP;AACA;;AAED;;;;;;;;AAQA,aAAS6S,MAAT,CAAgBe,GAAhB,EAAqB;AACpB,SAAIA,eAAezX,KAAnB,EAA0B,OAAOyX,IAAII,KAAJ,IAAaJ,IAAIK,OAAxB;AAC1B,YAAOL,GAAP;AACA;AAED,IAtMG,EAsMD;AACF,UAAM;AADJ,IAtMC,CAhzFF;AAy/FF,OAAI,CAAC,UAAUpX,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;AAClB;;;;AAIA,SAAIoE,OAAOlD,QAAQ,QAAR,CAAX;AACA,SAAI0X,YAAY1X,QAAQ,YAAR,CAAhB;AACA,SAAI2X,cAAc3X,QAAQ,mBAAR,CAAlB;AACA,SAAI4X,gBAAgB5X,QAAQ,oBAAR,CAApB;AACA,SAAIuQ,QAAQvQ,QAAQ,OAAR,CAAZ;AACA,SAAI6X,OAAO7X,QAAQ,MAAR,CAAX;;AAEA;;;;;;;AAOA,SAAI8X,YAAYlN,UAAUE,SAAV,CAAoBkK,KAApB,CAA0B,UAA1B,CAAhB;;AAEA;;;;;;AAMA,SAAI+C,cAAc,aAAalN,IAAb,CAAkBD,UAAUE,SAA5B,CAAlB;;AAEA;;;;AAIA,SAAIkN,gBAAgBF,aAAaC,WAAjC;;AAEA;;;;AAIAvZ,aAAQwC,QAAR,GAAmB,CAAnB;;AAEA;;;;AAIA,SAAIoH,UAAU5J,QAAQ4J,OAAR,GAAkB;AAC/BjF,YAAM,CADyB,CACvB;;AADuB,QAG/B0C,OAAO,CAHwB,CAGtB;;AAHsB,QAK/BoB,MAAM,CALyB;AAM/BgR,YAAM,CANyB;AAO/BR,eAAS,CAPsB;AAQ/BnW,eAAS,CARsB;AAS/BZ,YAAM;AATyB,MAAhC;;AAYA,SAAIwX,cAAchV,KAAKkF,OAAL,CAAlB;;AAEA;;;;AAIA,SAAIzC,MAAM;AACTR,YAAM,OADG;AAETC,YAAM;AAFG,MAAV;;AAKA;;;;AAIA,SAAIgN,OAAOpS,QAAQ,MAAR,CAAX;;AAEA;;;;;;;;;;;;;;;;AAgBAxB,aAAQwR,YAAR,GAAuB,UAAUvL,MAAV,EAAkBQ,cAAlB,EAAkCkT,UAAlC,EAA8CzJ,QAA9C,EAAwD;AAC9E,UAAI,cAAc,OAAOzJ,cAAzB,EAAyC;AACxCyJ,kBAAWzJ,cAAX;AACAA,wBAAiB,KAAjB;AACA;;AAED,UAAI,cAAc,OAAOkT,UAAzB,EAAqC;AACpCzJ,kBAAWyJ,UAAX;AACAA,oBAAa,IAAb;AACA;;AAED,UAAI/S,OAAQX,OAAOW,IAAP,KAAgBtC,SAAjB,GACVA,SADU,GAEV2B,OAAOW,IAAP,CAAYiM,MAAZ,IAAsB5M,OAAOW,IAF9B;;AAIA,UAAItG,OAAOoS,WAAP,IAAsB9L,gBAAgB8L,WAA1C,EAAuD;AACtD,cAAOkH,kBAAkB3T,MAAlB,EAA0BQ,cAA1B,EAA0CyJ,QAA1C,CAAP;AACA,OAFD,MAEO,IAAI0D,QAAQhN,gBAAgBtG,OAAOsT,IAAnC,EAAyC;AAC/C,cAAOiG,WAAW5T,MAAX,EAAmBQ,cAAnB,EAAmCyJ,QAAnC,CAAP;AACA;;AAED;AACA,UAAItJ,QAAQA,KAAKmM,MAAjB,EAAyB;AACxB,cAAO+G,mBAAmB7T,MAAnB,EAA2BiK,QAA3B,CAAP;AACA;;AAED;AACA,UAAI6J,UAAUnQ,QAAQ3D,OAAOU,IAAf,CAAd;;AAEA;AACA,UAAIrC,cAAc2B,OAAOW,IAAzB,EAA+B;AAC9BmT,kBAAWJ,aAAaN,KAAK7I,MAAL,CAAYrB,OAAOlJ,OAAOW,IAAd,CAAZ,CAAb,GAAgDuI,OAAOlJ,OAAOW,IAAd,CAA3D;AACA;;AAED,aAAOsJ,SAAS,KAAK6J,OAAd,CAAP;AAEA,MApCD;;AAsCA,cAASD,kBAAT,CAA4B7T,MAA5B,EAAoCiK,QAApC,EAA8C;AAC7C;AACA,UAAI+I,UAAU,MAAMjZ,QAAQ4J,OAAR,CAAgB3D,OAAOU,IAAvB,CAAN,GAAqCV,OAAOW,IAAP,CAAYA,IAA/D;AACA,aAAOsJ,SAAS+I,OAAT,CAAP;AACA;;AAED;;;;AAIA,cAASW,iBAAT,CAA2B3T,MAA3B,EAAmCQ,cAAnC,EAAmDyJ,QAAnD,EAA6D;AAC5D,UAAI,CAACzJ,cAAL,EAAqB;AACpB,cAAOzG,QAAQga,kBAAR,CAA2B/T,MAA3B,EAAmCiK,QAAnC,CAAP;AACA;;AAED,UAAItJ,OAAOX,OAAOW,IAAlB;AACA,UAAIqT,eAAe,IAAI3K,UAAJ,CAAe1I,IAAf,CAAnB;AACA,UAAIsT,eAAe,IAAI5K,UAAJ,CAAe,IAAI1I,KAAK+K,UAAxB,CAAnB;;AAEAuI,mBAAa,CAAb,IAAkBtQ,QAAQ3D,OAAOU,IAAf,CAAlB;AACA,WAAK,IAAIzF,IAAI,CAAb,EAAgBA,IAAI+Y,aAAa1Y,MAAjC,EAAyCL,GAAzC,EAA8C;AAC7CgZ,oBAAahZ,IAAI,CAAjB,IAAsB+Y,aAAa/Y,CAAb,CAAtB;AACA;;AAED,aAAOgP,SAASgK,aAAarH,MAAtB,CAAP;AACA;;AAED,cAASsH,uBAAT,CAAiClU,MAAjC,EAAyCQ,cAAzC,EAAyDyJ,QAAzD,EAAmE;AAClE,UAAI,CAACzJ,cAAL,EAAqB;AACpB,cAAOzG,QAAQga,kBAAR,CAA2B/T,MAA3B,EAAmCiK,QAAnC,CAAP;AACA;;AAED,UAAIkK,KAAK,IAAIC,UAAJ,EAAT;AACAD,SAAG1M,MAAH,GAAY,YAAY;AACvBzH,cAAOW,IAAP,GAAcwT,GAAGhI,MAAjB;AACApS,eAAQwR,YAAR,CAAqBvL,MAArB,EAA6BQ,cAA7B,EAA6C,IAA7C,EAAmDyJ,QAAnD;AACA,OAHD;AAIA,aAAOkK,GAAGE,iBAAH,CAAqBrU,OAAOW,IAA5B,CAAP;AACA;;AAED,cAASiT,UAAT,CAAoB5T,MAApB,EAA4BQ,cAA5B,EAA4CyJ,QAA5C,EAAsD;AACrD,UAAI,CAACzJ,cAAL,EAAqB;AACpB,cAAOzG,QAAQga,kBAAR,CAA2B/T,MAA3B,EAAmCiK,QAAnC,CAAP;AACA;;AAED,UAAIsJ,aAAJ,EAAmB;AAClB,cAAOW,wBAAwBlU,MAAxB,EAAgCQ,cAAhC,EAAgDyJ,QAAhD,CAAP;AACA;;AAED,UAAI3O,SAAS,IAAI+N,UAAJ,CAAe,CAAf,CAAb;AACA/N,aAAO,CAAP,IAAYqI,QAAQ3D,OAAOU,IAAf,CAAZ;AACA,UAAI4T,OAAO,IAAI3G,IAAJ,CAAS,CAACrS,OAAOsR,MAAR,EAAgB5M,OAAOW,IAAvB,CAAT,CAAX;;AAEA,aAAOsJ,SAASqK,IAAT,CAAP;AACA;;AAED;;;;;;;AAOAva,aAAQga,kBAAR,GAA6B,UAAU/T,MAAV,EAAkBiK,QAAlB,EAA4B;AACxD,UAAI+I,UAAU,MAAMjZ,QAAQ4J,OAAR,CAAgB3D,OAAOU,IAAvB,CAApB;AACA,UAAIiN,QAAQ3N,OAAOW,IAAP,YAAuBtG,OAAOsT,IAA1C,EAAgD;AAC/C,WAAIwG,KAAK,IAAIC,UAAJ,EAAT;AACAD,UAAG1M,MAAH,GAAY,YAAY;AACvB,YAAI6C,MAAM6J,GAAGhI,MAAH,CAAUnD,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAV;AACAiB,iBAAS+I,UAAU1I,GAAnB;AACA,QAHD;AAIA,cAAO6J,GAAGI,aAAH,CAAiBvU,OAAOW,IAAxB,CAAP;AACA;;AAED,UAAI6T,OAAJ;AACA,UAAI;AACHA,iBAAUtL,OAAOC,YAAP,CAAoBC,KAApB,CAA0B,IAA1B,EAAgC,IAAIC,UAAJ,CAAerJ,OAAOW,IAAtB,CAAhC,CAAV;AACA,OAFD,CAEE,OAAOnG,CAAP,EAAU;AACX;AACA,WAAIia,QAAQ,IAAIpL,UAAJ,CAAerJ,OAAOW,IAAtB,CAAZ;AACA,WAAI+T,QAAQ,IAAIrD,KAAJ,CAAUoD,MAAMnZ,MAAhB,CAAZ;AACA,YAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAIwZ,MAAMnZ,MAA1B,EAAkCL,GAAlC,EAAuC;AACtCyZ,cAAMzZ,CAAN,IAAWwZ,MAAMxZ,CAAN,CAAX;AACA;AACDuZ,iBAAUtL,OAAOC,YAAP,CAAoBC,KAApB,CAA0B,IAA1B,EAAgCsL,KAAhC,CAAV;AACA;AACD1B,iBAAW3Y,OAAOsa,IAAP,CAAYH,OAAZ,CAAX;AACA,aAAOvK,SAAS+I,OAAT,CAAP;AACA,MAzBD;;AA2BA;;;;;;;AAOAjZ,aAAQ8J,YAAR,GAAuB,UAAUlD,IAAV,EAAgBjD,UAAhB,EAA4BkX,UAA5B,EAAwC;AAC9D;AACA,UAAI,OAAOjU,IAAP,IAAe,QAAf,IAA2BA,SAAStC,SAAxC,EAAmD;AAClD,WAAIsC,KAAKkU,MAAL,CAAY,CAAZ,KAAkB,GAAtB,EAA2B;AAC1B,eAAO9a,QAAQ+a,kBAAR,CAA2BnU,KAAKmS,MAAL,CAAY,CAAZ,CAA3B,EAA2CpV,UAA3C,CAAP;AACA;;AAED,WAAIkX,UAAJ,EAAgB;AACf,YAAI;AACHjU,gBAAOyS,KAAKxW,MAAL,CAAY+D,IAAZ,CAAP;AACA,SAFD,CAEE,OAAOnG,CAAP,EAAU;AACX,gBAAO0G,GAAP;AACA;AACD;AACD,WAAIR,OAAOC,KAAKkU,MAAL,CAAY,CAAZ,CAAX;;AAEA,WAAIE,OAAOrU,IAAP,KAAgBA,IAAhB,IAAwB,CAAC+S,YAAY/S,IAAZ,CAA7B,EAAgD;AAC/C,eAAOQ,GAAP;AACA;;AAED,WAAIP,KAAKrF,MAAL,GAAc,CAAlB,EAAqB;AACpB,eAAO;AACNoF,eAAM+S,YAAY/S,IAAZ,CADA;AAENC,eAAMA,KAAKoM,SAAL,CAAe,CAAf;AAFA,SAAP;AAIA,QALD,MAKO;AACN,eAAO;AACNrM,eAAM+S,YAAY/S,IAAZ;AADA,SAAP;AAGA;AACD;;AAED,UAAIsU,UAAU,IAAI3L,UAAJ,CAAe1I,IAAf,CAAd;AACA,UAAID,OAAOsU,QAAQ,CAAR,CAAX;AACA,UAAIC,OAAO/B,YAAYvS,IAAZ,EAAkB,CAAlB,CAAX;AACA,UAAIgN,QAAQjQ,eAAe,MAA3B,EAAmC;AAClCuX,cAAO,IAAItH,IAAJ,CAAS,CAACsH,IAAD,CAAT,CAAP;AACA;AACD,aAAO;AACNvU,aAAM+S,YAAY/S,IAAZ,CADA;AAENC,aAAMsU;AAFA,OAAP;AAIA,MA1CD;;AA4CA;;;;;;;AAOAlb,aAAQ+a,kBAAR,GAA6B,UAAUjU,GAAV,EAAenD,UAAf,EAA2B;AACvD,UAAIgD,OAAO+S,YAAY5S,IAAIgU,MAAJ,CAAW,CAAX,CAAZ,CAAX;AACA,UAAI,CAACxa,OAAOoS,WAAZ,EAAyB;AACxB,cAAO;AACN/L,cAAMA,IADA;AAENC,cAAM;AACLmM,iBAAQ,IADH;AAELnM,eAAME,IAAIiS,MAAJ,CAAW,CAAX;AAFD;AAFA,QAAP;AAOA;;AAED,UAAInS,OAAOwS,cAAcvW,MAAd,CAAqBiE,IAAIiS,MAAJ,CAAW,CAAX,CAArB,CAAX;;AAEA,UAAIpV,eAAe,MAAf,IAAyBiQ,IAA7B,EAAmC;AAClChN,cAAO,IAAIgN,IAAJ,CAAS,CAAChN,IAAD,CAAT,CAAP;AACA;;AAED,aAAO;AACND,aAAMA,IADA;AAENC,aAAMA;AAFA,OAAP;AAIA,MAtBD;;AAwBA;;;;;;;;;;;;;;;;AAgBA5G,aAAQqQ,aAAR,GAAwB,UAAUzG,OAAV,EAAmBnD,cAAnB,EAAmCyJ,QAAnC,EAA6C;AACpE,UAAI,OAAOzJ,cAAP,IAAyB,UAA7B,EAAyC;AACxCyJ,kBAAWzJ,cAAX;AACAA,wBAAiB,IAAjB;AACA;;AAED,UAAIoH,WAAWqL,UAAUtP,OAAV,CAAf;;AAEA,UAAInD,kBAAkBoH,QAAtB,EAAgC;AAC/B,WAAI+F,QAAQ,CAAC4F,aAAb,EAA4B;AAC3B,eAAOxZ,QAAQmb,mBAAR,CAA4BvR,OAA5B,EAAqCsG,QAArC,CAAP;AACA;;AAED,cAAOlQ,QAAQob,0BAAR,CAAmCxR,OAAnC,EAA4CsG,QAA5C,CAAP;AACA;;AAED,UAAI,CAACtG,QAAQrI,MAAb,EAAqB;AACpB,cAAO2O,SAAS,IAAT,CAAP;AACA;;AAED,eAASmL,eAAT,CAAyBpC,OAAzB,EAAkC;AACjC,cAAOA,QAAQ1X,MAAR,GAAiB,GAAjB,GAAuB0X,OAA9B;AACA;;AAED,eAASqC,SAAT,CAAmBrV,MAAnB,EAA2BsV,YAA3B,EAAyC;AACxCvb,eAAQwR,YAAR,CAAqBvL,MAArB,EAA6B,CAAC4H,QAAD,GAAY,KAAZ,GAAoBpH,cAAjD,EAAiE,IAAjE,EAAuE,UAAUwS,OAAV,EAAmB;AACzFsC,qBAAa,IAAb,EAAmBF,gBAAgBpC,OAAhB,CAAnB;AACA,QAFD;AAGA;;AAEDuC,UAAI5R,OAAJ,EAAa0R,SAAb,EAAwB,UAAUnU,GAAV,EAAesU,OAAf,EAAwB;AAC/C,cAAOvL,SAASuL,QAAQC,IAAR,CAAa,EAAb,CAAT,CAAP;AACA,OAFD;AAGA,MAjCD;;AAmCA;;;;AAIA,cAASF,GAAT,CAAapH,GAAb,EAAkBuH,IAAlB,EAAwB/J,IAAxB,EAA8B;AAC7B,UAAIQ,SAAS,IAAIkF,KAAJ,CAAUlD,IAAI7S,MAAd,CAAb;AACA,UAAIqa,OAAO7J,MAAMqC,IAAI7S,MAAV,EAAkBqQ,IAAlB,CAAX;;AAEA,UAAIiK,gBAAgB,SAAhBA,aAAgB,CAAU3a,CAAV,EAAa4a,EAAb,EAAiB3G,EAAjB,EAAqB;AACxCwG,YAAKG,EAAL,EAAS,UAAUvU,KAAV,EAAiBT,GAAjB,EAAsB;AAC9BsL,eAAOlR,CAAP,IAAY4F,GAAZ;AACAqO,WAAG5N,KAAH,EAAU6K,MAAV;AACA,QAHD;AAIA,OALD;;AAOA,WAAK,IAAIlR,IAAI,CAAb,EAAgBA,IAAIkT,IAAI7S,MAAxB,EAAgCL,GAAhC,EAAqC;AACpC2a,qBAAc3a,CAAd,EAAiBkT,IAAIlT,CAAJ,CAAjB,EAAyB0a,IAAzB;AACA;AACD;;AAED;;;;;;;;AAQA5b,aAAQmQ,aAAR,GAAwB,UAAUvJ,IAAV,EAAgBjD,UAAhB,EAA4BuM,QAA5B,EAAsC;AAC7D,UAAI,OAAOtJ,IAAP,IAAe,QAAnB,EAA6B;AAC5B,cAAO5G,QAAQ+b,qBAAR,CAA8BnV,IAA9B,EAAoCjD,UAApC,EAAgDuM,QAAhD,CAAP;AACA;;AAED,UAAI,OAAOvM,UAAP,KAAsB,UAA1B,EAAsC;AACrCuM,kBAAWvM,UAAX;AACAA,oBAAa,IAAb;AACA;;AAED,UAAIsC,MAAJ;AACA,UAAIW,QAAQ,EAAZ,EAAgB;AACf;AACA,cAAOsJ,SAAS/I,GAAT,EAAc,CAAd,EAAiB,CAAjB,CAAP;AACA;;AAED,UAAI5F,SAAS,EAAb;AAAA,UACCZ,CADD;AAAA,UACImG,GADJ;;AAGA,WAAK,IAAI5F,IAAI,CAAR,EAAWG,IAAIuF,KAAKrF,MAAzB,EAAiCL,IAAIG,CAArC,EAAwCH,GAAxC,EAA6C;AAC5C,WAAI8a,MAAMpV,KAAKkU,MAAL,CAAY5Z,CAAZ,CAAV;;AAEA,WAAI,OAAO8a,GAAX,EAAgB;AACfza,kBAAUya,GAAV;AACA,QAFD,MAEO;AACN,YAAI,MAAMza,MAAN,IAAiBA,WAAWZ,IAAIqa,OAAOzZ,MAAP,CAAf,CAArB,EAAsD;AACrD;AACA,gBAAO2O,SAAS/I,GAAT,EAAc,CAAd,EAAiB,CAAjB,CAAP;AACA;;AAEDL,cAAMF,KAAKmS,MAAL,CAAY7X,IAAI,CAAhB,EAAmBP,CAAnB,CAAN;;AAEA,YAAIY,UAAUuF,IAAIvF,MAAlB,EAA0B;AACzB;AACA,gBAAO2O,SAAS/I,GAAT,EAAc,CAAd,EAAiB,CAAjB,CAAP;AACA;;AAED,YAAIL,IAAIvF,MAAR,EAAgB;AACf0E,kBAASjG,QAAQ8J,YAAR,CAAqBhD,GAArB,EAA0BnD,UAA1B,EAAsC,IAAtC,CAAT;;AAEA,aAAIwD,IAAIR,IAAJ,IAAYV,OAAOU,IAAnB,IAA2BQ,IAAIP,IAAJ,IAAYX,OAAOW,IAAlD,EAAwD;AACvD;AACA,iBAAOsJ,SAAS/I,GAAT,EAAc,CAAd,EAAiB,CAAjB,CAAP;AACA;;AAED,aAAI8U,MAAM/L,SAASjK,MAAT,EAAiB/E,IAAIP,CAArB,EAAwBU,CAAxB,CAAV;AACA,aAAI,UAAU4a,GAAd,EAAmB;AACnB;;AAED;AACA/a,aAAKP,CAAL;AACAY,iBAAS,EAAT;AACA;AACD;;AAED,UAAIA,UAAU,EAAd,EAAkB;AACjB;AACA,cAAO2O,SAAS/I,GAAT,EAAc,CAAd,EAAiB,CAAjB,CAAP;AACA;AAED,MA5DD;;AA8DA;;;;;;;;;;;;;;AAcAnH,aAAQob,0BAAR,GAAqC,UAAUxR,OAAV,EAAmBsG,QAAnB,EAA6B;AACjE,UAAI,CAACtG,QAAQrI,MAAb,EAAqB;AACpB,cAAO2O,SAAS,IAAIwC,WAAJ,CAAgB,CAAhB,CAAT,CAAP;AACA;;AAED,eAAS4I,SAAT,CAAmBrV,MAAnB,EAA2BsV,YAA3B,EAAyC;AACxCvb,eAAQwR,YAAR,CAAqBvL,MAArB,EAA6B,IAA7B,EAAmC,IAAnC,EAAyC,UAAUW,IAAV,EAAgB;AACxD,eAAO2U,aAAa,IAAb,EAAmB3U,IAAnB,CAAP;AACA,QAFD;AAGA;;AAED4U,UAAI5R,OAAJ,EAAa0R,SAAb,EAAwB,UAAUnU,GAAV,EAAe+U,cAAf,EAA+B;AACtD,WAAIC,cAAcD,eAAeE,MAAf,CAAsB,UAAUC,GAAV,EAAenJ,CAAf,EAAkB;AACzD,YAAIzB,GAAJ;AACA,YAAI,OAAOyB,CAAP,KAAa,QAAjB,EAA2B;AAC1BzB,eAAMyB,EAAE3R,MAAR;AACA,SAFD,MAEO;AACNkQ,eAAMyB,EAAEvB,UAAR;AACA;AACD,eAAO0K,MAAM5K,IAAI6K,QAAJ,GAAe/a,MAArB,GAA8BkQ,GAA9B,GAAoC,CAA3C,CAPyD,CAOX;AAC9C,QARiB,EAQf,CARe,CAAlB;;AAUA,WAAI8K,cAAc,IAAIjN,UAAJ,CAAe6M,WAAf,CAAlB;;AAEA,WAAIK,cAAc,CAAlB;AACAN,sBAAeO,OAAf,CAAuB,UAAUvJ,CAAV,EAAa;AACnC,YAAIwJ,WAAW,OAAOxJ,CAAP,KAAa,QAA5B;AACA,YAAIyJ,KAAKzJ,CAAT;AACA,YAAIwJ,QAAJ,EAAc;AACb,aAAIE,OAAO,IAAItN,UAAJ,CAAe4D,EAAE3R,MAAjB,CAAX;AACA,cAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAIgS,EAAE3R,MAAtB,EAA8BL,GAA9B,EAAmC;AAClC0b,eAAK1b,CAAL,IAAUgS,EAAE2J,UAAF,CAAa3b,CAAb,CAAV;AACA;AACDyb,cAAKC,KAAK/J,MAAV;AACA;;AAED,YAAI6J,QAAJ,EAAc;AAAE;AACfH,qBAAYC,aAAZ,IAA6B,CAA7B;AACA,SAFD,MAEO;AAAE;AACRD,qBAAYC,aAAZ,IAA6B,CAA7B;AACA;;AAED,YAAIM,SAASH,GAAGhL,UAAH,CAAc2K,QAAd,EAAb;AACA,aAAK,IAAIpb,IAAI,CAAb,EAAgBA,IAAI4b,OAAOvb,MAA3B,EAAmCL,GAAnC,EAAwC;AACvCqb,qBAAYC,aAAZ,IAA6B/F,SAASqG,OAAO5b,CAAP,CAAT,CAA7B;AACA;AACDqb,oBAAYC,aAAZ,IAA6B,GAA7B;;AAEA,YAAII,OAAO,IAAItN,UAAJ,CAAeqN,EAAf,CAAX;AACA,aAAK,IAAIzb,IAAI,CAAb,EAAgBA,IAAI0b,KAAKrb,MAAzB,EAAiCL,GAAjC,EAAsC;AACrCqb,qBAAYC,aAAZ,IAA6BI,KAAK1b,CAAL,CAA7B;AACA;AACD,QA3BD;;AA6BA,cAAOgP,SAASqM,YAAY1J,MAArB,CAAP;AACA,OA5CD;AA6CA,MAxDD;;AA0DA;;;;AAIA7S,aAAQmb,mBAAR,GAA8B,UAAUvR,OAAV,EAAmBsG,QAAnB,EAA6B;AAC1D,eAASoL,SAAT,CAAmBrV,MAAnB,EAA2BsV,YAA3B,EAAyC;AACxCvb,eAAQwR,YAAR,CAAqBvL,MAArB,EAA6B,IAA7B,EAAmC,IAAnC,EAAyC,UAAU8T,OAAV,EAAmB;AAC3D,YAAIgD,mBAAmB,IAAIzN,UAAJ,CAAe,CAAf,CAAvB;AACAyN,yBAAiB,CAAjB,IAAsB,CAAtB;AACA,YAAI,OAAOhD,OAAP,KAAmB,QAAvB,EAAiC;AAChC,aAAI6C,OAAO,IAAItN,UAAJ,CAAeyK,QAAQxY,MAAvB,CAAX;AACA,cAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAI6Y,QAAQxY,MAA5B,EAAoCL,GAApC,EAAyC;AACxC0b,eAAK1b,CAAL,IAAU6Y,QAAQ8C,UAAR,CAAmB3b,CAAnB,CAAV;AACA;AACD6Y,mBAAU6C,KAAK/J,MAAf;AACAkK,0BAAiB,CAAjB,IAAsB,CAAtB;AACA;;AAED,YAAItL,MAAOsI,mBAAmBrH,WAApB,GACTqH,QAAQpI,UADC,GAEToI,QAAQlG,IAFT;;AAIA,YAAIiJ,SAASrL,IAAI6K,QAAJ,EAAb;AACA,YAAIU,YAAY,IAAI1N,UAAJ,CAAewN,OAAOvb,MAAP,GAAgB,CAA/B,CAAhB;AACA,aAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAI4b,OAAOvb,MAA3B,EAAmCL,GAAnC,EAAwC;AACvC8b,mBAAU9b,CAAV,IAAeuV,SAASqG,OAAO5b,CAAP,CAAT,CAAf;AACA;AACD8b,kBAAUF,OAAOvb,MAAjB,IAA2B,GAA3B;;AAEA,YAAIqS,IAAJ,EAAU;AACT,aAAI2G,OAAO,IAAI3G,IAAJ,CAAS,CAACmJ,iBAAiBlK,MAAlB,EAA0BmK,UAAUnK,MAApC,EAA4CkH,OAA5C,CAAT,CAAX;AACAwB,sBAAa,IAAb,EAAmBhB,IAAnB;AACA;AACD,QA3BD;AA4BA;;AAEDiB,UAAI5R,OAAJ,EAAa0R,SAAb,EAAwB,UAAUnU,GAAV,EAAesU,OAAf,EAAwB;AAC/C,cAAOvL,SAAS,IAAI0D,IAAJ,CAAS6H,OAAT,CAAT,CAAP;AACA,OAFD;AAGA,MAnCD;;AAqCA;;;;;;;;;AASAzb,aAAQ+b,qBAAR,GAAgC,UAAUnV,IAAV,EAAgBjD,UAAhB,EAA4BuM,QAA5B,EAAsC;AACrE,UAAI,OAAOvM,UAAP,KAAsB,UAA1B,EAAsC;AACrCuM,kBAAWvM,UAAX;AACAA,oBAAa,IAAb;AACA;;AAED,UAAIsZ,aAAarW,IAAjB;AACA,UAAIsW,UAAU,EAAd;;AAEA,UAAIC,gBAAgB,KAApB;AACA,aAAOF,WAAWtL,UAAX,GAAwB,CAA/B,EAAkC;AACjC,WAAIyL,YAAY,IAAI9N,UAAJ,CAAe2N,UAAf,CAAhB;AACA,WAAIP,WAAWU,UAAU,CAAV,MAAiB,CAAhC;AACA,WAAIC,YAAY,EAAhB;;AAEA,YAAK,IAAInc,IAAI,CAAb,GAAiBA,GAAjB,EAAsB;AACrB,YAAIkc,UAAUlc,CAAV,KAAgB,GAApB,EAAyB;;AAEzB,YAAImc,UAAU9b,MAAV,GAAmB,GAAvB,EAA4B;AAC3B4b,yBAAgB,IAAhB;AACA;AACA;;AAEDE,qBAAaD,UAAUlc,CAAV,CAAb;AACA;;AAED,WAAIic,aAAJ,EAAmB,OAAOjN,SAAS/I,GAAT,EAAc,CAAd,EAAiB,CAAjB,CAAP;;AAEnB8V,oBAAa9D,YAAY8D,UAAZ,EAAwB,IAAII,UAAU9b,MAAtC,CAAb;AACA8b,mBAAY5G,SAAS4G,SAAT,CAAZ;;AAEA,WAAIvW,MAAMqS,YAAY8D,UAAZ,EAAwB,CAAxB,EAA2BI,SAA3B,CAAV;AACA,WAAIX,QAAJ,EAAc;AACb,YAAI;AACH5V,eAAMqI,OAAOC,YAAP,CAAoBC,KAApB,CAA0B,IAA1B,EAAgC,IAAIC,UAAJ,CAAexI,GAAf,CAAhC,CAAN;AACA,SAFD,CAEE,OAAOrG,CAAP,EAAU;AACX;AACA,aAAIia,QAAQ,IAAIpL,UAAJ,CAAexI,GAAf,CAAZ;AACAA,eAAM,EAAN;AACA,cAAK,IAAI5F,IAAI,CAAb,EAAgBA,IAAIwZ,MAAMnZ,MAA1B,EAAkCL,GAAlC,EAAuC;AACtC4F,iBAAOqI,OAAOC,YAAP,CAAoBsL,MAAMxZ,CAAN,CAApB,CAAP;AACA;AACD;AACD;;AAEDgc,eAAQhU,IAAR,CAAapC,GAAb;AACAmW,oBAAa9D,YAAY8D,UAAZ,EAAwBI,SAAxB,CAAb;AACA;;AAED,UAAIpN,QAAQiN,QAAQ3b,MAApB;AACA2b,cAAQT,OAAR,CAAgB,UAAU5J,MAAV,EAAkB3R,CAAlB,EAAqB;AACpCgP,gBAASlQ,QAAQ8J,YAAR,CAAqB+I,MAArB,EAA6BlP,UAA7B,EAAyC,IAAzC,CAAT,EAAyDzC,CAAzD,EAA4D+O,KAA5D;AACA,OAFD;AAGA,MArDD;AAuDA,KA1mBD,EA0mBG3O,IA1mBH,CA0mBQ,IA1mBR,EA0mBc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EA1mBrI;AA2mBA,IA5mBG,EA4mBD;AACF,cAAU,EADR;AAEF,aAAS,EAFP;AAGF,yBAAqB,EAHnB;AAIF,0BAAsB,EAJpB;AAKF,YAAQ,EALN;AAMF,kBAAc,EANZ;AAOF,YAAQ;AAPN,IA5mBC,CAz/FF;AA8mHF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;;;;AAOAC,WAAOD,OAAP,GAAiByE,OAAOC,IAAP,IAAe,SAASA,IAAT,CAAca,GAAd,EAAmB;AAClD,SAAI+X,MAAM,EAAV;AACA,SAAIC,MAAM9Y,OAAOI,SAAP,CAAiBW,cAA3B;;AAEA,UAAK,IAAItE,CAAT,IAAcqE,GAAd,EAAmB;AAClB,UAAIgY,IAAIjc,IAAJ,CAASiE,GAAT,EAAcrE,CAAd,CAAJ,EAAsB;AACrBoc,WAAIpU,IAAJ,CAAShI,CAAT;AACA;AACD;AACD,YAAOoc,GAAP;AACA,KAVD;AAYA,IArBG,EAqBD,EArBC,CA9mHF;AAooHF,OAAI,CAAC,UAAU9b,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;;AAElB;;;;AAIA,SAAIkd,UAAUhc,QAAQ,SAAR,CAAd;;AAEA;;;;AAIAvB,YAAOD,OAAP,GAAiBkZ,SAAjB;;AAEA;;;;;;;;;AASA,cAASA,SAAT,CAAmBtS,IAAnB,EAAyB;;AAExB,eAAS6W,UAAT,CAAoBlY,GAApB,EAAyB;AACxB,WAAI,CAACA,GAAL,EAAU,OAAO,KAAP;;AAEV,WAAKjF,OAAOoR,MAAP,IAAiBpR,OAAOoR,MAAP,CAAcgM,QAAd,CAAuBnY,GAAvB,CAAlB,IACFjF,OAAOoS,WAAP,IAAsBnN,eAAemN,WADnC,IAEFpS,OAAOsT,IAAP,IAAerO,eAAeqO,IAF5B,IAGFtT,OAAOqd,IAAP,IAAepY,eAAeoY,IAHhC,EAIE;AACD,eAAO,IAAP;AACA;;AAED,WAAIH,QAAQjY,GAAR,CAAJ,EAAkB;AACjB,aAAK,IAAIrE,IAAI,CAAb,EAAgBA,IAAIqE,IAAIhE,MAAxB,EAAgCL,GAAhC,EAAqC;AACpC,aAAIuc,WAAWlY,IAAIrE,CAAJ,CAAX,CAAJ,EAAwB;AACvB,iBAAO,IAAP;AACA;AACD;AACD,QAND,MAMO,IAAIqE,OAAO,oBAAmBA,GAAnB,yCAAmBA,GAAnB,EAAX,EAAmC;AACzC,YAAIA,IAAIqY,MAAR,EAAgB;AACfrY,eAAMA,IAAIqY,MAAJ,EAAN;AACA;;AAED,aAAK,IAAI5Z,GAAT,IAAgBuB,GAAhB,EAAqB;AACpB,aAAId,OAAOI,SAAP,CAAiBW,cAAjB,CAAgClE,IAAhC,CAAqCiE,GAArC,EAA0CvB,GAA1C,KAAkDyZ,WAAWlY,IAAIvB,GAAJ,CAAX,CAAtD,EAA4E;AAC3E,iBAAO,IAAP;AACA;AACD;AACD;;AAED,cAAO,KAAP;AACA;;AAED,aAAOyZ,WAAW7W,IAAX,CAAP;AACA;AAED,KA5DD,EA4DGtF,IA5DH,CA4DQ,IA5DR,EA4Dc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EA5DrI;AA6DA,IA9DG,EA8DD;AACF,eAAW;AADT,IA9DC,CApoHF;AAqsHF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;;;;;AAQA,QAAI;AACHC,YAAOD,OAAP,GAAiB,OAAO+J,cAAP,KAA0B,WAA1B,IAChB,qBAAqB,IAAIA,cAAJ,EADtB;AAEA,KAHD,CAGE,OAAO5C,GAAP,EAAY;AACb;AACA;AACAlH,YAAOD,OAAP,GAAiB,KAAjB;AACA;AAED,IAnBG,EAmBD,EAnBC,CArsHF;AAytHF,OAAI,CAAC,UAAUwB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC,QAAIyF,UAAU,GAAGA,OAAjB;;AAEAxF,WAAOD,OAAP,GAAiB,UAAUsd,GAAV,EAAe/X,GAAf,EAAoB;AACpC,SAAIE,OAAJ,EAAa,OAAO6X,IAAI7X,OAAJ,CAAYF,GAAZ,CAAP;AACb,UAAK,IAAIrE,IAAI,CAAb,EAAgBA,IAAIoc,IAAI/b,MAAxB,EAAgC,EAAEL,CAAlC,EAAqC;AACpC,UAAIoc,IAAIpc,CAAJ,MAAWqE,GAAf,EAAoB,OAAOrE,CAAP;AACpB;AACD,YAAO,CAAC,CAAR;AACA,KAND;AAOA,IAXG,EAWD,EAXC,CAztHF;AAquHF,OAAI,CAAC,UAAUM,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCC,WAAOD,OAAP,GAAiBsX,MAAMkG,OAAN,IAAiB,UAAUF,GAAV,EAAe;AAChD,YAAO7Y,OAAOI,SAAP,CAAiByX,QAAjB,CAA0Bhb,IAA1B,CAA+Bgc,GAA/B,KAAuC,gBAA9C;AACA,KAFD;AAIA,IALG,EAKD,EALC,CAruHF;AA2uHF,OAAI,CAAC,UAAU9b,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC;;;;AAIA,QAAIa,IAAI,IAAR;AACA,QAAIgd,IAAIhd,IAAI,EAAZ;AACA,QAAIid,IAAID,IAAI,EAAZ;AACA,QAAIE,IAAID,IAAI,EAAZ;AACA,QAAIE,IAAID,IAAI,MAAZ;;AAEA;;;;;;;;;;;;;AAaA9d,WAAOD,OAAP,GAAiB,UAAU4Y,GAAV,EAAe7P,OAAf,EAAwB;AACxCA,eAAUA,WAAW,EAArB;AACA,SAAI,YAAY,OAAO6P,GAAvB,EAA4B,OAAOqF,MAAMrF,GAAN,CAAP;AAC5B,YAAO7P,QAAQmV,IAAR,GACNA,KAAKtF,GAAL,CADM,GAENuF,MAAMvF,GAAN,CAFD;AAGA,KAND;;AAQA;;;;;;;;AAQA,aAASqF,KAAT,CAAeG,GAAf,EAAoB;AACnBA,WAAM,KAAKA,GAAX;AACA,SAAIA,IAAI7c,MAAJ,GAAa,KAAjB,EAAwB;AACxB,SAAIiV,QAAQ,wHAAwH6H,IAAxH,CAA6HD,GAA7H,CAAZ;AACA,SAAI,CAAC5H,KAAL,EAAY;AACZ,SAAI7V,IAAI2d,WAAW9H,MAAM,CAAN,CAAX,CAAR;AACA,SAAI7P,OAAO,CAAC6P,MAAM,CAAN,KAAY,IAAb,EAAmBD,WAAnB,EAAX;AACA,aAAQ5P,IAAR;AACC,WAAK,OAAL;AACA,WAAK,MAAL;AACA,WAAK,KAAL;AACA,WAAK,IAAL;AACA,WAAK,GAAL;AACC,cAAOhG,IAAIqd,CAAX;AACD,WAAK,MAAL;AACA,WAAK,KAAL;AACA,WAAK,GAAL;AACC,cAAOrd,IAAIod,CAAX;AACD,WAAK,OAAL;AACA,WAAK,MAAL;AACA,WAAK,KAAL;AACA,WAAK,IAAL;AACA,WAAK,GAAL;AACC,cAAOpd,IAAImd,CAAX;AACD,WAAK,SAAL;AACA,WAAK,QAAL;AACA,WAAK,MAAL;AACA,WAAK,KAAL;AACA,WAAK,GAAL;AACC,cAAOnd,IAAIkd,CAAX;AACD,WAAK,SAAL;AACA,WAAK,QAAL;AACA,WAAK,MAAL;AACA,WAAK,KAAL;AACA,WAAK,GAAL;AACC,cAAOld,IAAIE,CAAX;AACD,WAAK,cAAL;AACA,WAAK,aAAL;AACA,WAAK,OAAL;AACA,WAAK,MAAL;AACA,WAAK,IAAL;AACC,cAAOF,CAAP;AAlCF;AAoCA;;AAED;;;;;;;;AAQA,aAASwd,KAAT,CAAe3F,EAAf,EAAmB;AAClB,SAAIA,MAAMuF,CAAV,EAAa,OAAOQ,KAAKC,KAAL,CAAWhG,KAAKuF,CAAhB,IAAqB,GAA5B;AACb,SAAIvF,MAAMsF,CAAV,EAAa,OAAOS,KAAKC,KAAL,CAAWhG,KAAKsF,CAAhB,IAAqB,GAA5B;AACb,SAAItF,MAAMqF,CAAV,EAAa,OAAOU,KAAKC,KAAL,CAAWhG,KAAKqF,CAAhB,IAAqB,GAA5B;AACb,SAAIrF,MAAM3X,CAAV,EAAa,OAAO0d,KAAKC,KAAL,CAAWhG,KAAK3X,CAAhB,IAAqB,GAA5B;AACb,YAAO2X,KAAK,IAAZ;AACA;;AAED;;;;;;;;AAQA,aAAS0F,IAAT,CAAc1F,EAAd,EAAkB;AACjB,YAAOiG,OAAOjG,EAAP,EAAWuF,CAAX,EAAc,KAAd,KACNU,OAAOjG,EAAP,EAAWsF,CAAX,EAAc,MAAd,CADM,IAENW,OAAOjG,EAAP,EAAWqF,CAAX,EAAc,QAAd,CAFM,IAGNY,OAAOjG,EAAP,EAAW3X,CAAX,EAAc,QAAd,CAHM,IAIN2X,KAAK,KAJN;AAKA;;AAED;;;;AAIA,aAASiG,MAAT,CAAgBjG,EAAhB,EAAoB7X,CAApB,EAAuBqE,IAAvB,EAA6B;AAC5B,SAAIwT,KAAK7X,CAAT,EAAY;AACZ,SAAI6X,KAAK7X,IAAI,GAAb,EAAkB,OAAO4d,KAAKG,KAAL,CAAWlG,KAAK7X,CAAhB,IAAqB,GAArB,GAA2BqE,IAAlC;AAClB,YAAOuZ,KAAKI,IAAL,CAAUnG,KAAK7X,CAAf,IAAoB,GAApB,GAA0BqE,IAA1B,GAAiC,GAAxC;AACA;AAED,IA/HG,EA+HD,EA/HC,CA3uHF;AA22HF,OAAI,CAAC,UAAUxD,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;AAClB;;;;;;;AAOA,SAAIse,cAAc,eAAlB;AACA,SAAIC,eAAe,qCAAnB;AACA,SAAIC,eAAe,kEAAnB;AACA,SAAIC,eAAe,sBAAnB;AACA,SAAIC,YAAY,MAAhB;AACA,SAAIC,aAAa,MAAjB;;AAEAhf,YAAOD,OAAP,GAAiB,SAAS+B,SAAT,CAAmB6E,IAAnB,EAAyB;AACzC,UAAI,YAAY,OAAOA,IAAnB,IAA2B,CAACA,IAAhC,EAAsC;AACrC,cAAO,IAAP;AACA;;AAEDA,aAAOA,KAAK5D,OAAL,CAAagc,SAAb,EAAwB,EAAxB,EAA4Bhc,OAA5B,CAAoCic,UAApC,EAAgD,EAAhD,CAAP;;AAEA;AACA,UAAI3e,OAAOwW,IAAP,IAAeA,KAAKmH,KAAxB,EAA+B;AAC9B,cAAOnH,KAAKmH,KAAL,CAAWrX,IAAX,CAAP;AACA;;AAED,UAAIgY,YAAYvS,IAAZ,CAAiBzF,KAAK5D,OAAL,CAAa6b,YAAb,EAA2B,GAA3B,EAClB7b,OADkB,CACV8b,YADU,EACI,GADJ,EAElB9b,OAFkB,CAEV+b,YAFU,EAEI,EAFJ,CAAjB,CAAJ,EAE+B;AAC9B,cAAQ,IAAIvH,QAAJ,CAAa,YAAY5Q,IAAzB,CAAD,EAAP;AACA;AACD,MAjBD;AAkBA,KAjCD,EAiCGtF,IAjCH,CAiCQ,IAjCR,EAiCc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAjCrI;AAkCA,IAnCG,EAmCD,EAnCC,CA32HF;AA+4HF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC;;;;;;;;AAQAA,YAAQwQ,MAAR,GAAiB,UAAUjL,GAAV,EAAe;AAC/B,SAAI6Y,MAAM,EAAV;;AAEA,UAAK,IAAIld,CAAT,IAAcqE,GAAd,EAAmB;AAClB,UAAIA,IAAIC,cAAJ,CAAmBtE,CAAnB,CAAJ,EAA2B;AAC1B,WAAIkd,IAAI7c,MAAR,EAAgB6c,OAAO,GAAP;AAChBA,cAAOc,mBAAmBhe,CAAnB,IAAwB,GAAxB,GAA8Bge,mBAAmB3Z,IAAIrE,CAAJ,CAAnB,CAArC;AACA;AACD;;AAED,YAAOkd,GAAP;AACA,KAXD;;AAaA;;;;;;;AAOApe,YAAQ6C,MAAR,GAAiB,UAAUsc,EAAV,EAAc;AAC9B,SAAIC,MAAM,EAAV;AACA,SAAIC,QAAQF,GAAGlQ,KAAH,CAAS,GAAT,CAAZ;AACA,UAAK,IAAI/N,IAAI,CAAR,EAAWG,IAAIge,MAAM9d,MAA1B,EAAkCL,IAAIG,CAAtC,EAAyCH,GAAzC,EAA8C;AAC7C,UAAIoe,OAAOD,MAAMne,CAAN,EAAS+N,KAAT,CAAe,GAAf,CAAX;AACAmQ,UAAIG,mBAAmBD,KAAK,CAAL,CAAnB,CAAJ,IAAmCC,mBAAmBD,KAAK,CAAL,CAAnB,CAAnC;AACA;AACD,YAAOF,GAAP;AACA,KARD;AAUA,IAvCG,EAuCD,EAvCC,CA/4HF;AAu7HF,OAAI,CAAC,UAAU5d,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC;;;;;;;AAOA,QAAIwf,KAAK,yOAAT;;AAEA,QAAIC,QAAQ,CACX,QADW,EACD,UADC,EACW,WADX,EACwB,UADxB,EACoC,MADpC,EAC4C,UAD5C,EACwD,MADxD,EACgE,MADhE,EACwE,UADxE,EACoF,MADpF,EAC4F,WAD5F,EACyG,MADzG,EACiH,OADjH,EAC0H,QAD1H,CAAZ;;AAIAxf,WAAOD,OAAP,GAAiB,SAAS8B,QAAT,CAAkBsc,GAAlB,EAAuB;AACvC,SAAIxS,MAAMwS,GAAV;AAAA,SACCrK,IAAIqK,IAAI3Y,OAAJ,CAAY,GAAZ,CADL;AAAA,SAEChF,IAAI2d,IAAI3Y,OAAJ,CAAY,GAAZ,CAFL;;AAIA,SAAIsO,KAAK,CAAC,CAAN,IAAWtT,KAAK,CAAC,CAArB,EAAwB;AACvB2d,YAAMA,IAAIpL,SAAJ,CAAc,CAAd,EAAiBe,CAAjB,IAAsBqK,IAAIpL,SAAJ,CAAce,CAAd,EAAiBtT,CAAjB,EAAoBuC,OAApB,CAA4B,IAA5B,EAAkC,GAAlC,CAAtB,GAA+Dob,IAAIpL,SAAJ,CAAcvS,CAAd,EAAiB2d,IAAI7c,MAArB,CAArE;AACA;;AAED,SAAIsc,IAAI2B,GAAGnB,IAAH,CAAQD,OAAO,EAAf,CAAR;AAAA,SACCjc,MAAM,EADP;AAAA,SAECjB,IAAI,EAFL;;AAIA,YAAOA,GAAP,EAAY;AACXiB,UAAIsd,MAAMve,CAAN,CAAJ,IAAgB2c,EAAE3c,CAAF,KAAQ,EAAxB;AACA;;AAED,SAAI6S,KAAK,CAAC,CAAN,IAAWtT,KAAK,CAAC,CAArB,EAAwB;AACvB0B,UAAIud,MAAJ,GAAa9T,GAAb;AACAzJ,UAAIG,IAAJ,GAAWH,IAAIG,IAAJ,CAAS0Q,SAAT,CAAmB,CAAnB,EAAsB7Q,IAAIG,IAAJ,CAASf,MAAT,GAAkB,CAAxC,EAA2CyB,OAA3C,CAAmD,IAAnD,EAAyD,GAAzD,CAAX;AACAb,UAAIwd,SAAJ,GAAgBxd,IAAIwd,SAAJ,CAAc3c,OAAd,CAAsB,GAAtB,EAA2B,EAA3B,EAA+BA,OAA/B,CAAuC,GAAvC,EAA4C,EAA5C,EAAgDA,OAAhD,CAAwD,IAAxD,EAA8D,GAA9D,CAAhB;AACAb,UAAIyd,OAAJ,GAAc,IAAd;AACA;;AAED,YAAOzd,GAAP;AACA,KAzBD;AA2BA,IAzCG,EAyCD,EAzCC,CAv7HF;AAi+HF,OAAI,CAAC,UAAUX,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;AAClB;AACA;AACC,gBAAUuf,IAAV,EAAgB;;AAEhB;AACA,UAAIC,cAAc,QAAO9f,OAAP,yCAAOA,OAAP,MAAkB,QAAlB,IAA8BA,OAAhD;;AAEA;AACA,UAAI+f,aAAa,QAAO9f,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,MAA7B,IAChBA,OAAOD,OAAP,IAAkB8f,WADF,IACiB7f,MADlC;;AAGA;AACA;AACA,UAAIsE,aAAa,QAAOjE,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,MAA9C;AACA,UAAIiE,WAAWjE,MAAX,KAAsBiE,UAAtB,IAAoCA,WAAWlE,MAAX,KAAsBkE,UAA9D,EAA0E;AACzEsb,cAAOtb,UAAP;AACA;;AAED;;AAEA,UAAIyb,qBAAqB7Q,OAAOC,YAAhC;;AAEA;AACA,eAAS6Q,UAAT,CAAoBC,MAApB,EAA4B;AAC3B,WAAIC,SAAS,EAAb;AACA,WAAIC,UAAU,CAAd;AACA,WAAI7e,SAAS2e,OAAO3e,MAApB;AACA,WAAI+L,KAAJ;AACA,WAAI+S,KAAJ;AACA,cAAOD,UAAU7e,MAAjB,EAAyB;AACxB+L,gBAAQ4S,OAAOrD,UAAP,CAAkBuD,SAAlB,CAAR;AACA,YAAI9S,SAAS,MAAT,IAAmBA,SAAS,MAA5B,IAAsC8S,UAAU7e,MAApD,EAA4D;AAC3D;AACA8e,iBAAQH,OAAOrD,UAAP,CAAkBuD,SAAlB,CAAR;AACA,aAAI,CAACC,QAAQ,MAAT,KAAoB,MAAxB,EAAgC;AAAE;AACjCF,iBAAOjX,IAAP,CAAY,CAAC,CAACoE,QAAQ,KAAT,KAAmB,EAApB,KAA2B+S,QAAQ,KAAnC,IAA4C,OAAxD;AACA,UAFD,MAEO;AACN;AACA;AACAF,iBAAOjX,IAAP,CAAYoE,KAAZ;AACA8S;AACA;AACD,SAXD,MAWO;AACND,gBAAOjX,IAAP,CAAYoE,KAAZ;AACA;AACD;AACD,cAAO6S,MAAP;AACA;;AAED;AACA,eAASG,UAAT,CAAoBC,KAApB,EAA2B;AAC1B,WAAIhf,SAASgf,MAAMhf,MAAnB;AACA,WAAIM,QAAQ,CAAC,CAAb;AACA,WAAIyL,KAAJ;AACA,WAAI6S,SAAS,EAAb;AACA,cAAO,EAAEte,KAAF,GAAUN,MAAjB,EAAyB;AACxB+L,gBAAQiT,MAAM1e,KAAN,CAAR;AACA,YAAIyL,QAAQ,MAAZ,EAAoB;AACnBA,kBAAS,OAAT;AACA6S,mBAAUH,mBAAmB1S,UAAU,EAAV,GAAe,KAAf,GAAuB,MAA1C,CAAV;AACAA,iBAAQ,SAASA,QAAQ,KAAzB;AACA;AACD6S,kBAAUH,mBAAmB1S,KAAnB,CAAV;AACA;AACD,cAAO6S,MAAP;AACA;;AAED,eAASK,gBAAT,CAA0BC,SAA1B,EAAqC;AACpC,WAAIA,aAAa,MAAb,IAAuBA,aAAa,MAAxC,EAAgD;AAC/C,cAAMtf,MACL,sBAAsBsf,UAAUnE,QAAV,CAAmB,EAAnB,EAAuBoE,WAAvB,EAAtB,GACA,wBAFK,CAAN;AAIA;AACD;AACD;;AAEA,eAASC,UAAT,CAAoBF,SAApB,EAA+B7a,KAA/B,EAAsC;AACrC,cAAOoa,mBAAqBS,aAAa7a,KAAd,GAAuB,IAAxB,GAAgC,IAAnD,CAAP;AACA;;AAED,eAASgb,eAAT,CAAyBH,SAAzB,EAAoC;AACnC,WAAI,CAACA,YAAY,UAAb,KAA4B,CAAhC,EAAmC;AAAE;AACpC,eAAOT,mBAAmBS,SAAnB,CAAP;AACA;AACD,WAAII,SAAS,EAAb;AACA,WAAI,CAACJ,YAAY,UAAb,KAA4B,CAAhC,EAAmC;AAAE;AACpCI,iBAASb,mBAAqBS,aAAa,CAAd,GAAmB,IAApB,GAA4B,IAA/C,CAAT;AACA,QAFD,MAEO,IAAI,CAACA,YAAY,UAAb,KAA4B,CAAhC,EAAmC;AAAE;AAC3CD,yBAAiBC,SAAjB;AACAI,iBAASb,mBAAqBS,aAAa,EAAd,GAAoB,IAArB,GAA6B,IAAhD,CAAT;AACAI,kBAAUF,WAAWF,SAAX,EAAsB,CAAtB,CAAV;AACA,QAJM,MAIA,IAAI,CAACA,YAAY,UAAb,KAA4B,CAAhC,EAAmC;AAAE;AAC3CI,iBAASb,mBAAqBS,aAAa,EAAd,GAAoB,IAArB,GAA6B,IAAhD,CAAT;AACAI,kBAAUF,WAAWF,SAAX,EAAsB,EAAtB,CAAV;AACAI,kBAAUF,WAAWF,SAAX,EAAsB,CAAtB,CAAV;AACA;AACDI,iBAAUb,mBAAoBS,YAAY,IAAb,GAAqB,IAAxC,CAAV;AACA,cAAOI,MAAP;AACA;;AAED,eAASlH,UAAT,CAAoBuG,MAApB,EAA4B;AAC3B,WAAIY,aAAab,WAAWC,MAAX,CAAjB;AACA,WAAI3e,SAASuf,WAAWvf,MAAxB;AACA,WAAIM,QAAQ,CAAC,CAAb;AACA,WAAI4e,SAAJ;AACA,WAAIM,aAAa,EAAjB;AACA,cAAO,EAAElf,KAAF,GAAUN,MAAjB,EAAyB;AACxBkf,oBAAYK,WAAWjf,KAAX,CAAZ;AACAkf,sBAAcH,gBAAgBH,SAAhB,CAAd;AACA;AACD,cAAOM,UAAP;AACA;;AAED;;AAEA,eAASC,oBAAT,GAAgC;AAC/B,WAAIC,aAAaC,SAAjB,EAA4B;AAC3B,cAAM/f,MAAM,oBAAN,CAAN;AACA;;AAED,WAAIggB,mBAAmBC,UAAUH,SAAV,IAAuB,IAA9C;AACAA;;AAEA,WAAI,CAACE,mBAAmB,IAApB,KAA6B,IAAjC,EAAuC;AACtC,eAAOA,mBAAmB,IAA1B;AACA;;AAED;AACA,aAAMhgB,MAAM,2BAAN,CAAN;AACA;;AAED,eAASkgB,YAAT,GAAwB;AACvB,WAAIC,KAAJ;AACA,WAAIC,KAAJ;AACA,WAAIC,KAAJ;AACA,WAAIC,KAAJ;AACA,WAAIhB,SAAJ;;AAEA,WAAIQ,YAAYC,SAAhB,EAA2B;AAC1B,cAAM/f,MAAM,oBAAN,CAAN;AACA;;AAED,WAAI8f,aAAaC,SAAjB,EAA4B;AAC3B,eAAO,KAAP;AACA;;AAED;AACAI,eAAQF,UAAUH,SAAV,IAAuB,IAA/B;AACAA;;AAEA;AACA,WAAI,CAACK,QAAQ,IAAT,KAAkB,CAAtB,EAAyB;AACxB,eAAOA,KAAP;AACA;;AAED;AACA,WAAI,CAACA,QAAQ,IAAT,KAAkB,IAAtB,EAA4B;AAC3B,YAAIC,QAAQP,sBAAZ;AACAP,oBAAa,CAACa,QAAQ,IAAT,KAAkB,CAAnB,GAAwBC,KAApC;AACA,YAAId,aAAa,IAAjB,EAAuB;AACtB,gBAAOA,SAAP;AACA,SAFD,MAEO;AACN,eAAMtf,MAAM,2BAAN,CAAN;AACA;AACD;;AAED;AACA,WAAI,CAACmgB,QAAQ,IAAT,KAAkB,IAAtB,EAA4B;AAC3BC,gBAAQP,sBAAR;AACAQ,gBAAQR,sBAAR;AACAP,oBAAa,CAACa,QAAQ,IAAT,KAAkB,EAAnB,GAA0BC,SAAS,CAAnC,GAAwCC,KAApD;AACA,YAAIf,aAAa,MAAjB,EAAyB;AACxBD,0BAAiBC,SAAjB;AACA,gBAAOA,SAAP;AACA,SAHD,MAGO;AACN,eAAMtf,MAAM,2BAAN,CAAN;AACA;AACD;;AAED;AACA,WAAI,CAACmgB,QAAQ,IAAT,KAAkB,IAAtB,EAA4B;AAC3BC,gBAAQP,sBAAR;AACAQ,gBAAQR,sBAAR;AACAS,gBAAQT,sBAAR;AACAP,oBAAa,CAACa,QAAQ,IAAT,KAAkB,IAAnB,GAA4BC,SAAS,IAArC,GACVC,SAAS,IADC,GACOC,KADnB;AAEA,YAAIhB,aAAa,QAAb,IAAyBA,aAAa,QAA1C,EAAoD;AACnD,gBAAOA,SAAP;AACA;AACD;;AAED,aAAMtf,MAAM,wBAAN,CAAN;AACA;;AAED,UAAIigB,SAAJ;AACA,UAAIF,SAAJ;AACA,UAAID,SAAJ;;AAEA,eAASpG,UAAT,CAAoBkG,UAApB,EAAgC;AAC/BK,mBAAYnB,WAAWc,UAAX,CAAZ;AACAG,mBAAYE,UAAU7f,MAAtB;AACA0f,mBAAY,CAAZ;AACA,WAAIH,aAAa,EAAjB;AACA,WAAIY,GAAJ;AACA,cAAO,CAACA,MAAML,cAAP,MAA2B,KAAlC,EAAyC;AACxCP,mBAAW5X,IAAX,CAAgBwY,GAAhB;AACA;AACD,cAAOpB,WAAWQ,UAAX,CAAP;AACA;;AAED;;AAEA,UAAIzH,OAAO;AACV,kBAAW,OADD;AAEV,iBAAUM,UAFA;AAGV,iBAAUkB;AAHA,OAAX;;AAMA;AACA;AACA,UACC,OAAO3a,MAAP,IAAiB,UAAjB,IACA,QAAOA,OAAOC,GAAd,KAAqB,QADrB,IAEAD,OAAOC,GAHR,EAIE;AACDD,cAAO,YAAY;AAClB,eAAOmZ,IAAP;AACA,QAFD;AAGA,OARD,MAQO,IAAIyG,eAAe,CAACA,YAAY6B,QAAhC,EAA0C;AAChD,WAAI5B,UAAJ,EAAgB;AAAE;AACjBA,mBAAW/f,OAAX,GAAqBqZ,IAArB;AACA,QAFD,MAEO;AAAE;AACR,YAAIuI,SAAS,EAAb;AACA,YAAIpc,iBAAiBoc,OAAOpc,cAA5B;AACA,aAAK,IAAIxB,GAAT,IAAgBqV,IAAhB,EAAsB;AACrB7T,wBAAelE,IAAf,CAAoB+X,IAApB,EAA0BrV,GAA1B,MAAmC8b,YAAY9b,GAAZ,IAAmBqV,KAAKrV,GAAL,CAAtD;AACA;AACD;AACD,OAVM,MAUA;AAAE;AACR6b,YAAKxG,IAAL,GAAYA,IAAZ;AACA;AAED,MAjPA,EAiPC,IAjPD,CAAD;AAmPA,KAtPD,EAsPG/X,IAtPH,CAsPQ,IAtPR,EAsPc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAtPrI;AAuPA,IAxPG,EAwPD,EAxPC,CAj+HF;AA0tIF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC;;AAEA,QAAI6hB,WAAW,mEAAmE5S,KAAnE,CAAyE,EAAzE,CAAf;AAAA,QACC1N,SAAS,EADV;AAAA,QAECia,MAAM,EAFP;AAAA,QAGCsG,OAAO,CAHR;AAAA,QAIC5gB,IAAI,CAJL;AAAA,QAKCuX,IALD;;AAOA;;;;;;;AAOA,aAASjI,MAAT,CAAgBuR,GAAhB,EAAqB;AACpB,SAAIhI,UAAU,EAAd;;AAEA,QAAG;AACFA,gBAAU8H,SAASE,MAAMxgB,MAAf,IAAyBwY,OAAnC;AACAgI,YAAMxD,KAAKG,KAAL,CAAWqD,MAAMxgB,MAAjB,CAAN;AACA,MAHD,QAGSwgB,MAAM,CAHf;;AAKA,YAAOhI,OAAP;AACA;;AAED;;;;;;;AAOA,aAASlX,MAAT,CAAgBub,GAAhB,EAAqB;AACpB,SAAI4D,UAAU,CAAd;;AAEA,UAAK9gB,IAAI,CAAT,EAAYA,IAAIkd,IAAI7c,MAApB,EAA4BL,GAA5B,EAAiC;AAChC8gB,gBAAUA,UAAUzgB,MAAV,GAAmBia,IAAI4C,IAAItD,MAAJ,CAAW5Z,CAAX,CAAJ,CAA7B;AACA;;AAED,YAAO8gB,OAAP;AACA;;AAED;;;;;;AAMA,aAASpS,KAAT,GAAiB;AAChB,SAAIqS,MAAMzR,OAAO,CAAC,IAAI+H,IAAJ,EAAR,CAAV;;AAEA,SAAI0J,QAAQxJ,IAAZ,EAAkB,OAAOqJ,OAAO,CAAP,EAAUrJ,OAAOwJ,GAAxB;AAClB,YAAOA,MAAM,GAAN,GAAYzR,OAAOsR,MAAP,CAAnB;AACA;;AAED;AACA;AACA;AACA,WAAO5gB,IAAIK,MAAX,EAAmBL,GAAnB;AAAwBsa,SAAIqG,SAAS3gB,CAAT,CAAJ,IAAmBA,CAAnB;AAAxB,KA7DwC,CA+DxC;AACA;AACA;AACA0O,UAAMY,MAAN,GAAeA,MAAf;AACAZ,UAAM/M,MAAN,GAAeA,MAAf;AACA5C,WAAOD,OAAP,GAAiB4P,KAAjB;AAEA,IAtEG,EAsED,EAtEC,CA1tIF;AAiyIF,OAAI,CAAC,UAAUpO,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;AAIA,QAAIkiB,MAAM1gB,QAAQ,OAAR,CAAV;AACA,QAAIC,SAASD,QAAQ,kBAAR,CAAb;AACA,QAAI2gB,UAAU3gB,QAAQ,WAAR,CAAd;AACA,QAAII,QAAQJ,QAAQ,OAAR,EAAiB,kBAAjB,CAAZ;;AAEA;;;;AAIAvB,WAAOD,OAAP,GAAiBA,UAAUoiB,MAA3B;;AAEA;;;;AAIA,QAAIC,QAAQriB,QAAQsiB,QAAR,GAAmB,EAA/B;;AAEA;;;;;;;;;;;;;AAaA,aAASF,MAAT,CAAgBjgB,GAAhB,EAAqBC,IAArB,EAA2B;AAC1B,SAAI,QAAOD,GAAP,yCAAOA,GAAP,MAAc,QAAlB,EAA4B;AAC3BC,aAAOD,GAAP;AACAA,YAAMmC,SAAN;AACA;;AAEDlC,YAAOA,QAAQ,EAAf;;AAEA,SAAImgB,SAASL,IAAI/f,GAAJ,CAAb;AACA,SAAIud,SAAS6C,OAAO7C,MAApB;AACA,SAAIta,KAAKmd,OAAOnd,EAAhB;AACA,SAAIrC,OAAOwf,OAAOxf,IAAlB;AACA,SAAIyf,gBAAgBH,MAAMjd,EAAN,KAAarC,QAAQsf,MAAMjd,EAAN,EAAUqd,IAAnD;AACA,SAAIC,gBAAgBtgB,KAAKugB,QAAL,IAAiBvgB,KAAK,sBAAL,CAAjB,IACnB,UAAUA,KAAKwgB,SADI,IACSJ,aAD7B;;AAGA,SAAIhiB,EAAJ;;AAEA,SAAIkiB,aAAJ,EAAmB;AAClB9gB,YAAM,8BAAN,EAAsC8d,MAAtC;AACAlf,WAAK2hB,QAAQzC,MAAR,EAAgBtd,IAAhB,CAAL;AACA,MAHD,MAGO;AACN,UAAI,CAACigB,MAAMjd,EAAN,CAAL,EAAgB;AACfxD,aAAM,wBAAN,EAAgC8d,MAAhC;AACA2C,aAAMjd,EAAN,IAAY+c,QAAQzC,MAAR,EAAgBtd,IAAhB,CAAZ;AACA;AACD5B,WAAK6hB,MAAMjd,EAAN,CAAL;AACA;;AAED,YAAO5E,GAAG8E,MAAH,CAAUid,OAAOxf,IAAjB,CAAP;AACA;;AAED;;;;;;AAMA/C,YAAQwC,QAAR,GAAmBf,OAAOe,QAA1B;;AAEA;;;;;;;AAOAxC,YAAQ6iB,OAAR,GAAkBT,MAAlB;;AAEA;;;;;;AAMApiB,YAAQmiB,OAAR,GAAkB3gB,QAAQ,WAAR,CAAlB;AACAxB,YAAQiC,MAAR,GAAiBT,QAAQ,UAAR,CAAjB;AAEA,IA9FG,EA8FD;AACF,iBAAa,EADX;AAEF,gBAAY,EAFV;AAGF,aAAS,EAHP;AAIF,aAAS,EAJP;AAKF,wBAAoB;AALlB,IA9FC,CAjyIF;AAs4IF,OAAI,CAAC,UAAUA,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;AAIA,QAAI8iB,MAAMthB,QAAQ,kBAAR,CAAV;AACA,QAAIS,SAAST,QAAQ,UAAR,CAAb;AACA,QAAIG,UAAUH,QAAQ,mBAAR,CAAd;AACA,QAAIC,SAASD,QAAQ,kBAAR,CAAb;AACA,QAAIuE,KAAKvE,QAAQ,MAAR,CAAT;AACA,QAAIsX,OAAOtX,QAAQ,gBAAR,CAAX;AACA,QAAII,QAAQJ,QAAQ,OAAR,EAAiB,0BAAjB,CAAZ;AACA,QAAIiE,UAAUjE,QAAQ,SAAR,CAAd;AACA,QAAIuhB,UAAUvhB,QAAQ,QAAR,CAAd;;AAEA;;;;AAIA,QAAI+b,MAAM9Y,OAAOI,SAAP,CAAiBW,cAA3B;;AAEA;;;;AAIAvF,WAAOD,OAAP,GAAiBmiB,OAAjB;;AAEA;;;;;;;;AAQA,aAASA,OAAT,CAAiBhgB,GAAjB,EAAsBC,IAAtB,EAA4B;AAC3B,SAAI,EAAE,gBAAgB+f,OAAlB,CAAJ,EAAgC,OAAO,IAAIA,OAAJ,CAAYhgB,GAAZ,EAAiBC,IAAjB,CAAP;AAChC,SAAID,OAAQ,oBAAmBA,GAAnB,yCAAmBA,GAAnB,EAAZ,EAAqC;AACpCC,aAAOD,GAAP;AACAA,YAAMmC,SAAN;AACA;AACDlC,YAAOA,QAAQ,EAAf;;AAEAA,UAAKW,IAAL,GAAYX,KAAKW,IAAL,IAAa,YAAzB;AACA,UAAK0f,IAAL,GAAY,EAAZ;AACA,UAAKO,IAAL,GAAY,EAAZ;AACA,UAAK5gB,IAAL,GAAYA,IAAZ;AACA,UAAK6gB,YAAL,CAAkB7gB,KAAK6gB,YAAL,KAAsB,KAAxC;AACA,UAAKC,oBAAL,CAA0B9gB,KAAK8gB,oBAAL,IAA6BC,QAAvD;AACA,UAAKC,iBAAL,CAAuBhhB,KAAKghB,iBAAL,IAA0B,IAAjD;AACA,UAAKC,oBAAL,CAA0BjhB,KAAKihB,oBAAL,IAA6B,IAAvD;AACA,UAAKC,mBAAL,CAAyBlhB,KAAKkhB,mBAAL,IAA4B,GAArD;AACA,UAAKC,OAAL,GAAe,IAAIR,OAAJ,CAAY;AAC1BS,WAAK,KAAKJ,iBAAL,EADqB;AAE1BK,WAAK,KAAKJ,oBAAL,EAFqB;AAG1BK,cAAQ,KAAKJ,mBAAL;AAHkB,MAAZ,CAAf;AAKA,UAAKjb,OAAL,CAAa,QAAQjG,KAAKiG,OAAb,GAAuB,KAAvB,GAA+BjG,KAAKiG,OAAjD;AACA,UAAK9E,UAAL,GAAkB,QAAlB;AACA,UAAKpB,GAAL,GAAWA,GAAX;AACA,UAAKwhB,UAAL,GAAkB,EAAlB;AACA,UAAKC,QAAL,GAAgB,IAAhB;AACA,UAAKC,QAAL,GAAgB,KAAhB;AACA,UAAKC,YAAL,GAAoB,EAApB;AACA,UAAKC,OAAL,GAAe,IAAItiB,OAAOuiB,OAAX,EAAf;AACA,UAAKC,OAAL,GAAe,IAAIxiB,OAAOyiB,OAAX,EAAf;AACA,UAAKC,WAAL,GAAmB/hB,KAAK+hB,WAAL,KAAqB,KAAxC;AACA,SAAI,KAAKA,WAAT,EAAsB,KAAKxf,IAAL;AACtB;;AAED;;;;;;AAMAwd,YAAQtd,SAAR,CAAkBuf,OAAlB,GAA4B,YAAY;AACvC,UAAKze,IAAL,CAAU0J,KAAV,CAAgB,IAAhB,EAAsB4F,SAAtB;AACA,UAAK,IAAIoP,GAAT,IAAgB,KAAK5B,IAArB,EAA2B;AAC1B,UAAIlF,IAAIjc,IAAJ,CAAS,KAAKmhB,IAAd,EAAoB4B,GAApB,CAAJ,EAA8B;AAC7B,YAAK5B,IAAL,CAAU4B,GAAV,EAAe1e,IAAf,CAAoB0J,KAApB,CAA0B,KAAKoT,IAAL,CAAU4B,GAAV,CAA1B,EAA0CpP,SAA1C;AACA;AACD;AACD,KAPD;;AASA;;;;;;AAMAkN,YAAQtd,SAAR,CAAkByf,eAAlB,GAAoC,YAAY;AAC/C,UAAK,IAAID,GAAT,IAAgB,KAAK5B,IAArB,EAA2B;AAC1B,UAAIlF,IAAIjc,IAAJ,CAAS,KAAKmhB,IAAd,EAAoB4B,GAApB,CAAJ,EAA8B;AAC7B,YAAK5B,IAAL,CAAU4B,GAAV,EAAejf,EAAf,GAAoB,KAAKmf,MAAL,CAAYnf,EAAhC;AACA;AACD;AACD,KAND;;AAQA;;;;AAIAzD,YAAQwgB,QAAQtd,SAAhB;;AAEA;;;;;;;;AAQAsd,YAAQtd,SAAR,CAAkBoe,YAAlB,GAAiC,UAAUpM,CAAV,EAAa;AAC7C,SAAI,CAAC5B,UAAU1T,MAAf,EAAuB,OAAO,KAAKijB,aAAZ;AACvB,UAAKA,aAAL,GAAqB,CAAC,CAAC3N,CAAvB;AACA,YAAO,IAAP;AACA,KAJD;;AAMA;;;;;;;;AAQAsL,YAAQtd,SAAR,CAAkBqe,oBAAlB,GAAyC,UAAUrM,CAAV,EAAa;AACrD,SAAI,CAAC5B,UAAU1T,MAAf,EAAuB,OAAO,KAAKkjB,qBAAZ;AACvB,UAAKA,qBAAL,GAA6B5N,CAA7B;AACA,YAAO,IAAP;AACA,KAJD;;AAMA;;;;;;;;AAQAsL,YAAQtd,SAAR,CAAkBue,iBAAlB,GAAsC,UAAUvM,CAAV,EAAa;AAClD,SAAI,CAAC5B,UAAU1T,MAAf,EAAuB,OAAO,KAAKmjB,kBAAZ;AACvB,UAAKA,kBAAL,GAA0B7N,CAA1B;AACA,UAAK0M,OAAL,IAAgB,KAAKA,OAAL,CAAaoB,MAAb,CAAoB9N,CAApB,CAAhB;AACA,YAAO,IAAP;AACA,KALD;;AAOAsL,YAAQtd,SAAR,CAAkBye,mBAAlB,GAAwC,UAAUzM,CAAV,EAAa;AACpD,SAAI,CAAC5B,UAAU1T,MAAf,EAAuB,OAAO,KAAKqjB,oBAAZ;AACvB,UAAKA,oBAAL,GAA4B/N,CAA5B;AACA,UAAK0M,OAAL,IAAgB,KAAKA,OAAL,CAAasB,SAAb,CAAuBhO,CAAvB,CAAhB;AACA,YAAO,IAAP;AACA,KALD;;AAOA;;;;;;;;AAQAsL,YAAQtd,SAAR,CAAkBwe,oBAAlB,GAAyC,UAAUxM,CAAV,EAAa;AACrD,SAAI,CAAC5B,UAAU1T,MAAf,EAAuB,OAAO,KAAKujB,qBAAZ;AACvB,UAAKA,qBAAL,GAA6BjO,CAA7B;AACA,UAAK0M,OAAL,IAAgB,KAAKA,OAAL,CAAawB,MAAb,CAAoBlO,CAApB,CAAhB;AACA,YAAO,IAAP;AACA,KALD;;AAOA;;;;;;;AAOAsL,YAAQtd,SAAR,CAAkBwD,OAAlB,GAA4B,UAAUwO,CAAV,EAAa;AACxC,SAAI,CAAC5B,UAAU1T,MAAf,EAAuB,OAAO,KAAKyjB,QAAZ;AACvB,UAAKA,QAAL,GAAgBnO,CAAhB;AACA,YAAO,IAAP;AACA,KAJD;;AAMA;;;;;;;AAOAsL,YAAQtd,SAAR,CAAkBogB,oBAAlB,GAAyC,YAAY;AACpD;AACA,SAAI,CAAC,KAAKC,YAAN,IAAsB,KAAKV,aAA3B,IAA4C,KAAKjB,OAAL,CAAa4B,QAAb,KAA0B,CAA1E,EAA6E;AAC5E;AACA,WAAKC,SAAL;AACA;AACD,KAND;;AASA;;;;;;;;AAQAjD,YAAQtd,SAAR,CAAkBF,IAAlB,GACCwd,QAAQtd,SAAR,CAAkBge,OAAlB,GAA4B,UAAU7Z,EAAV,EAAc;AACzCpH,WAAM,eAAN,EAAuB,KAAK2B,UAA5B;AACA,SAAI,CAAC,KAAKA,UAAL,CAAgBkC,OAAhB,CAAwB,MAAxB,CAAL,EAAsC,OAAO,IAAP;;AAEtC7D,WAAM,YAAN,EAAoB,KAAKO,GAAzB;AACA,UAAKoiB,MAAL,GAAczB,IAAI,KAAK3gB,GAAT,EAAc,KAAKC,IAAnB,CAAd;AACA,SAAIkD,SAAS,KAAKif,MAAlB;AACA,SAAIhkB,OAAO,IAAX;AACA,UAAKgD,UAAL,GAAkB,SAAlB;AACA,UAAK8hB,aAAL,GAAqB,KAArB;;AAEA;AACA,SAAIC,UAAUvf,GAAGT,MAAH,EAAW,MAAX,EAAmB,YAAY;AAC5C/E,WAAK8Q,MAAL;AACArI,YAAMA,IAAN;AACA,MAHa,CAAd;;AAKA;AACA,SAAIuc,WAAWxf,GAAGT,MAAH,EAAW,OAAX,EAAoB,UAAUsB,IAAV,EAAgB;AAClDhF,YAAM,eAAN;AACArB,WAAK0G,OAAL;AACA1G,WAAKgD,UAAL,GAAkB,QAAlB;AACAhD,WAAK6jB,OAAL,CAAa,eAAb,EAA8Bxd,IAA9B;AACA,UAAIoC,EAAJ,EAAQ;AACP,WAAI7B,MAAM,IAAIhG,KAAJ,CAAU,kBAAV,CAAV;AACAgG,WAAIP,IAAJ,GAAWA,IAAX;AACAoC,UAAG7B,GAAH;AACA,OAJD,MAIO;AACN;AACA5G,YAAK0kB,oBAAL;AACA;AACD,MAbc,CAAf;;AAeA;AACA,SAAI,UAAU,KAAKD,QAAnB,EAA6B;AAC5B,UAAI3c,UAAU,KAAK2c,QAAnB;AACApjB,YAAM,uCAAN,EAA+CyG,OAA/C;;AAEA;AACA,UAAImd,QAAQ9f,WAAW,YAAY;AAClC9D,aAAM,oCAAN,EAA4CyG,OAA5C;AACAid,eAAQG,OAAR;AACAngB,cAAO+B,KAAP;AACA/B,cAAOK,IAAP,CAAY,OAAZ,EAAqB,SAArB;AACApF,YAAK6jB,OAAL,CAAa,iBAAb,EAAgC/b,OAAhC;AACA,OANW,EAMTA,OANS,CAAZ;;AAQA,WAAK2a,IAAL,CAAU9Z,IAAV,CAAe;AACduc,gBAAS,mBAAY;AACpBnd,qBAAakd,KAAb;AACA;AAHa,OAAf;AAKA;;AAED,UAAKxC,IAAL,CAAU9Z,IAAV,CAAeoc,OAAf;AACA,UAAKtC,IAAL,CAAU9Z,IAAV,CAAeqc,QAAf;;AAEA,YAAO,IAAP;AACA,KA3DF;;AA6DA;;;;;;AAMApD,YAAQtd,SAAR,CAAkBwM,MAAlB,GAA2B,YAAY;AACtCzP,WAAM,MAAN;;AAEA;AACA,UAAKqF,OAAL;;AAEA;AACA,UAAK1D,UAAL,GAAkB,MAAlB;AACA,UAAKoC,IAAL,CAAU,MAAV;;AAEA;AACA,SAAIL,SAAS,KAAKif,MAAlB;AACA,UAAKvB,IAAL,CAAU9Z,IAAV,CAAenD,GAAGT,MAAH,EAAW,MAAX,EAAmBwT,KAAK,IAAL,EAAW,QAAX,CAAnB,CAAf;AACA,UAAKkK,IAAL,CAAU9Z,IAAV,CAAenD,GAAGT,MAAH,EAAW,MAAX,EAAmBwT,KAAK,IAAL,EAAW,QAAX,CAAnB,CAAf;AACA,UAAKkK,IAAL,CAAU9Z,IAAV,CAAenD,GAAGT,MAAH,EAAW,MAAX,EAAmBwT,KAAK,IAAL,EAAW,QAAX,CAAnB,CAAf;AACA,UAAKkK,IAAL,CAAU9Z,IAAV,CAAenD,GAAGT,MAAH,EAAW,OAAX,EAAoBwT,KAAK,IAAL,EAAW,SAAX,CAApB,CAAf;AACA,UAAKkK,IAAL,CAAU9Z,IAAV,CAAenD,GAAGT,MAAH,EAAW,OAAX,EAAoBwT,KAAK,IAAL,EAAW,SAAX,CAApB,CAAf;AACA,UAAKkK,IAAL,CAAU9Z,IAAV,CAAenD,GAAG,KAAKke,OAAR,EAAiB,SAAjB,EAA4BnL,KAAK,IAAL,EAAW,WAAX,CAA5B,CAAf;AACA,KAlBD;;AAoBA;;;;;;AAMAqJ,YAAQtd,SAAR,CAAkB6gB,MAAlB,GAA2B,YAAY;AACtC,UAAK9B,QAAL,GAAgB,IAAIrL,IAAJ,EAAhB;AACA,UAAK6L,OAAL,CAAa,MAAb;AACA,KAHD;;AAKA;;;;;;AAMAjC,YAAQtd,SAAR,CAAkB8gB,MAAlB,GAA2B,YAAY;AACtC,UAAKvB,OAAL,CAAa,MAAb,EAAqB,IAAI7L,IAAJ,KAAW,KAAKqL,QAArC;AACA,KAFD;;AAIA;;;;;;AAMAzB,YAAQtd,SAAR,CAAkB+gB,MAAlB,GAA2B,UAAUhf,IAAV,EAAgB;AAC1C,UAAKqd,OAAL,CAAa4B,GAAb,CAAiBjf,IAAjB;AACA,KAFD;;AAIA;;;;;;AAMAub,YAAQtd,SAAR,CAAkBihB,SAAlB,GAA8B,UAAU7f,MAAV,EAAkB;AAC/C,UAAKN,IAAL,CAAU,QAAV,EAAoBM,MAApB;AACA,KAFD;;AAIA;;;;;;AAMAkc,YAAQtd,SAAR,CAAkByC,OAAlB,GAA4B,UAAUH,GAAV,EAAe;AAC1CvF,WAAM,OAAN,EAAeuF,GAAf;AACA,UAAKid,OAAL,CAAa,OAAb,EAAsBjd,GAAtB;AACA,KAHD;;AAKA;;;;;;;AAOAgb,YAAQtd,SAAR,CAAkBS,MAAlB,GAA2B,UAAU+e,GAAV,EAAe;AACzC,SAAI/e,SAAS,KAAKmd,IAAL,CAAU4B,GAAV,CAAb;AACA,SAAI,CAAC/e,MAAL,EAAa;AACZA,eAAS,IAAIrD,MAAJ,CAAW,IAAX,EAAiBoiB,GAAjB,CAAT;AACA,WAAK5B,IAAL,CAAU4B,GAAV,IAAiB/e,MAAjB;AACA,UAAI/E,OAAO,IAAX;AACA+E,aAAOS,EAAP,CAAU,YAAV,EAAwBggB,YAAxB;AACAzgB,aAAOS,EAAP,CAAU,SAAV,EAAqB,YAAY;AAChCT,cAAOF,EAAP,GAAY7E,KAAKgkB,MAAL,CAAYnf,EAAxB;AACA,OAFD;;AAIA,UAAI,KAAK+e,WAAT,EAAsB;AACrB;AACA4B;AACA;AACD;;AAED,cAASA,YAAT,GAAwB;AACvB,UAAI,CAAC,CAACtgB,QAAQlF,KAAKojB,UAAb,EAAyBre,MAAzB,CAAN,EAAwC;AACvC/E,YAAKojB,UAAL,CAAgBza,IAAhB,CAAqB5D,MAArB;AACA;AACD;;AAED,YAAOA,MAAP;AACA,KAxBD;;AA0BA;;;;;;AAMA6c,YAAQtd,SAAR,CAAkB4gB,OAAlB,GAA4B,UAAUngB,MAAV,EAAkB;AAC7C,SAAIzD,QAAQ4D,QAAQ,KAAKke,UAAb,EAAyBre,MAAzB,CAAZ;AACA,SAAI,CAACzD,KAAL,EAAY,KAAK8hB,UAAL,CAAgBhb,MAAhB,CAAuB9G,KAAvB,EAA8B,CAA9B;AACZ,SAAI,KAAK8hB,UAAL,CAAgBpiB,MAApB,EAA4B;;AAE5B,UAAK8F,KAAL;AACA,KAND;;AAQA;;;;;;;AAOA8a,YAAQtd,SAAR,CAAkBoB,MAAlB,GAA2B,UAAUA,MAAV,EAAkB;AAC5CrE,WAAM,mBAAN,EAA2BqE,MAA3B;AACA,SAAI1F,OAAO,IAAX;;AAEA,SAAI,CAACA,KAAKsjB,QAAV,EAAoB;AACnB;AACAtjB,WAAKsjB,QAAL,GAAgB,IAAhB;AACA,WAAKE,OAAL,CAAavT,MAAb,CAAoBvK,MAApB,EAA4B,UAAUiW,cAAV,EAA0B;AACrD,YAAK,IAAIhb,IAAI,CAAb,EAAgBA,IAAIgb,eAAe3a,MAAnC,EAA2CL,GAA3C,EAAgD;AAC/CX,aAAKgkB,MAAL,CAAYzb,KAAZ,CAAkBoT,eAAehb,CAAf,CAAlB,EAAqC+E,OAAO8C,OAA5C;AACA;AACDxI,YAAKsjB,QAAL,GAAgB,KAAhB;AACAtjB,YAAKylB,kBAAL;AACA,OAND;AAOA,MAVD,MAUO;AAAE;AACRzlB,WAAKujB,YAAL,CAAkB5a,IAAlB,CAAuBjD,MAAvB;AACA;AACD,KAjBD;;AAmBA;;;;;;;AAOAkc,YAAQtd,SAAR,CAAkBmhB,kBAAlB,GAAuC,YAAY;AAClD,SAAI,KAAKlC,YAAL,CAAkBviB,MAAlB,GAA2B,CAA3B,IAAgC,CAAC,KAAKsiB,QAA1C,EAAoD;AACnD,UAAIoC,OAAO,KAAKnC,YAAL,CAAkBle,KAAlB,EAAX;AACA,WAAKK,MAAL,CAAYggB,IAAZ;AACA;AACD,KALD;;AAOA;;;;;;AAMA9D,YAAQtd,SAAR,CAAkBoC,OAAlB,GAA4B,YAAY;AACvCrF,WAAM,SAAN;;AAEA,SAAIskB,GAAJ;AACA,YAAOA,MAAM,KAAKlD,IAAL,CAAUpd,KAAV,EAAb;AAAgCsgB,UAAIT,OAAJ;AAAhC,MAEA,KAAK3B,YAAL,GAAoB,EAApB;AACA,UAAKD,QAAL,GAAgB,KAAhB;AACA,UAAKD,QAAL,GAAgB,IAAhB;;AAEA,UAAKK,OAAL,CAAawB,OAAb;AACA,KAXD;;AAaA;;;;;;AAMAtD,YAAQtd,SAAR,CAAkBwC,KAAlB,GACC8a,QAAQtd,SAAR,CAAkBshB,UAAlB,GAA+B,YAAY;AAC1CvkB,WAAM,YAAN;AACA,UAAKyjB,aAAL,GAAqB,IAArB;AACA,UAAKH,YAAL,GAAoB,KAApB;AACA,SAAI,aAAa,KAAK3hB,UAAtB,EAAkC;AACjC;AACA;AACA,WAAK0D,OAAL;AACA;AACD,UAAKsc,OAAL,CAAa6C,KAAb;AACA,UAAK7iB,UAAL,GAAkB,QAAlB;AACA,SAAI,KAAKghB,MAAT,EAAiB,KAAKA,MAAL,CAAYld,KAAZ;AACjB,KAbF;;AAeA;;;;;;AAMA8a,YAAQtd,SAAR,CAAkB4C,OAAlB,GAA4B,UAAU4B,MAAV,EAAkB;AAC7CzH,WAAM,SAAN;;AAEA,UAAKqF,OAAL;AACA,UAAKsc,OAAL,CAAa6C,KAAb;AACA,UAAK7iB,UAAL,GAAkB,QAAlB;AACA,UAAKoC,IAAL,CAAU,OAAV,EAAmB0D,MAAnB;;AAEA,SAAI,KAAKmb,aAAL,IAAsB,CAAC,KAAKa,aAAhC,EAA+C;AAC9C,WAAKD,SAAL;AACA;AACD,KAXD;;AAaA;;;;;;AAMAjD,YAAQtd,SAAR,CAAkBugB,SAAlB,GAA8B,YAAY;AACzC,SAAI,KAAKF,YAAL,IAAqB,KAAKG,aAA9B,EAA6C,OAAO,IAAP;;AAE7C,SAAI9kB,OAAO,IAAX;;AAEA,SAAI,KAAKgjB,OAAL,CAAa4B,QAAb,IAAyB,KAAKV,qBAAlC,EAAyD;AACxD7iB,YAAM,kBAAN;AACA,WAAK2hB,OAAL,CAAa6C,KAAb;AACA,WAAKhC,OAAL,CAAa,kBAAb;AACA,WAAKc,YAAL,GAAoB,KAApB;AACA,MALD,MAKO;AACN,UAAImB,QAAQ,KAAK9C,OAAL,CAAa+C,QAAb,EAAZ;AACA1kB,YAAM,yCAAN,EAAiDykB,KAAjD;;AAEA,WAAKnB,YAAL,GAAoB,IAApB;AACA,UAAIM,QAAQ9f,WAAW,YAAY;AAClC,WAAInF,KAAK8kB,aAAT,EAAwB;;AAExBzjB,aAAM,sBAAN;AACArB,YAAK6jB,OAAL,CAAa,mBAAb,EAAkC7jB,KAAKgjB,OAAL,CAAa4B,QAA/C;AACA5kB,YAAK6jB,OAAL,CAAa,cAAb,EAA6B7jB,KAAKgjB,OAAL,CAAa4B,QAA1C;;AAEA;AACA,WAAI5kB,KAAK8kB,aAAT,EAAwB;;AAExB9kB,YAAKoE,IAAL,CAAU,UAAUwC,GAAV,EAAe;AACxB,YAAIA,GAAJ,EAAS;AACRvF,eAAM,yBAAN;AACArB,cAAK2kB,YAAL,GAAoB,KAApB;AACA3kB,cAAK6kB,SAAL;AACA7kB,cAAK6jB,OAAL,CAAa,iBAAb,EAAgCjd,IAAIP,IAApC;AACA,SALD,MAKO;AACNhF,eAAM,mBAAN;AACArB,cAAKgmB,WAAL;AACA;AACD,QAVD;AAWA,OArBW,EAqBTF,KArBS,CAAZ;;AAuBA,WAAKrD,IAAL,CAAU9Z,IAAV,CAAe;AACduc,gBAAS,mBAAY;AACpBnd,qBAAakd,KAAb;AACA;AAHa,OAAf;AAKA;AACD,KA5CD;;AA8CA;;;;;;AAMArD,YAAQtd,SAAR,CAAkB0hB,WAAlB,GAAgC,YAAY;AAC3C,SAAIC,UAAU,KAAKjD,OAAL,CAAa4B,QAA3B;AACA,UAAKD,YAAL,GAAoB,KAApB;AACA,UAAK3B,OAAL,CAAa6C,KAAb;AACA,UAAK9B,eAAL;AACA,UAAKF,OAAL,CAAa,WAAb,EAA0BoC,OAA1B;AACA,KAND;AAQA,IA/iBG,EA+iBD;AACF,YAAQ,EADN;AAEF,gBAAY,EAFV;AAGF,cAAU,EAHR;AAIF,sBAAkB,EAJhB;AAKF,yBAAqB,EALnB;AAMF,aAAS,EANP;AAOF,wBAAoB,CAPlB;AAQF,eAAW,EART;AASF,wBAAoB;AATlB,IA/iBC,CAt4IF;AAg8JF,OAAI,CAAC,UAAUhlB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;AAIAC,WAAOD,OAAP,GAAiB+F,EAAjB;;AAEA;;;;;;;;;AASA,aAASA,EAAT,CAAYR,GAAZ,EAAiBgM,EAAjB,EAAqBvI,EAArB,EAAyB;AACxBzD,SAAIQ,EAAJ,CAAOwL,EAAP,EAAWvI,EAAX;AACA,YAAO;AACNyc,eAAS,mBAAY;AACpBlgB,WAAIqC,cAAJ,CAAmB2J,EAAnB,EAAuBvI,EAAvB;AACA;AAHK,MAAP;AAKA;AAED,IA1BG,EA0BD,EA1BC,CAh8JF;AA29JF,OAAI,CAAC,UAAUxH,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;AAIA,QAAIyB,SAASD,QAAQ,kBAAR,CAAb;AACA,QAAIG,UAAUH,QAAQ,mBAAR,CAAd;AACA,QAAIilB,UAAUjlB,QAAQ,UAAR,CAAd;AACA,QAAIuE,KAAKvE,QAAQ,MAAR,CAAT;AACA,QAAIsX,OAAOtX,QAAQ,gBAAR,CAAX;AACA,QAAII,QAAQJ,QAAQ,OAAR,EAAiB,yBAAjB,CAAZ;AACA,QAAIklB,SAASllB,QAAQ,YAAR,CAAb;;AAEA;;;;AAIAvB,WAAOD,OAAP,GAAiBA,UAAUiC,MAA3B;;AAEA;;;;;;;AAOA,QAAI0kB,SAAS;AACZ9D,cAAS,CADG;AAEZ+D,oBAAe,CAFH;AAGZC,sBAAiB,CAHL;AAIZlD,iBAAY,CAJA;AAKZwC,iBAAY,CALA;AAMZ5e,YAAO,CANK;AAOZ6d,gBAAW,CAPC;AAQZ0B,wBAAmB,CARP;AASZC,uBAAkB,CATN;AAUZC,sBAAiB,CAVL;AAWZ9B,mBAAc,CAXF;AAYZzc,WAAM,CAZM;AAaZgR,WAAM;AAbM,KAAb;;AAgBA;;;;AAIA,QAAI9T,OAAOhE,QAAQkD,SAAR,CAAkBc,IAA7B;;AAEA;;;;;;AAMA,aAAS1D,MAAT,CAAgBzB,EAAhB,EAAoB6jB,GAApB,EAAyB;AACxB,UAAK7jB,EAAL,GAAUA,EAAV;AACA,UAAK6jB,GAAL,GAAWA,GAAX;AACA,UAAK4C,IAAL,GAAY,IAAZ,CAHwB,CAGN;AAClB,UAAKC,GAAL,GAAW,CAAX;AACA,UAAKC,IAAL,GAAY,EAAZ;AACA,UAAKC,aAAL,GAAqB,EAArB;AACA,UAAKC,UAAL,GAAkB,EAAlB;AACA,UAAKC,SAAL,GAAiB,KAAjB;AACA,UAAKC,YAAL,GAAoB,IAApB;AACA,SAAI,KAAK/mB,EAAL,CAAQ2jB,WAAZ,EAAyB,KAAKxf,IAAL;AACzB;;AAED;;;;AAIAhD,YAAQM,OAAO4C,SAAf;;AAEA;;;;;;AAMA5C,WAAO4C,SAAP,CAAiB2iB,SAAjB,GAA6B,YAAY;AACxC,SAAI,KAAKxE,IAAT,EAAe;;AAEf,SAAIxiB,KAAK,KAAKA,EAAd;AACA,UAAKwiB,IAAL,GAAY,CACXjd,GAAGvF,EAAH,EAAO,MAAP,EAAesY,KAAK,IAAL,EAAW,QAAX,CAAf,CADW,EAEX/S,GAAGvF,EAAH,EAAO,QAAP,EAAiBsY,KAAK,IAAL,EAAW,UAAX,CAAjB,CAFW,EAGX/S,GAAGvF,EAAH,EAAO,OAAP,EAAgBsY,KAAK,IAAL,EAAW,SAAX,CAAhB,CAHW,CAAZ;AAKA,KATD;;AAWA;;;;;;AAMA7W,WAAO4C,SAAP,CAAiBF,IAAjB,GACC1C,OAAO4C,SAAP,CAAiBge,OAAjB,GAA2B,YAAY;AACtC,SAAI,KAAKyE,SAAT,EAAoB,OAAO,IAAP;;AAEpB,UAAKE,SAAL;AACA,UAAKhnB,EAAL,CAAQmE,IAAR,GAJsC,CAItB;AAChB,SAAI,UAAU,KAAKnE,EAAL,CAAQ+C,UAAtB,EAAkC,KAAK8N,MAAL;AAClC,UAAK1L,IAAL,CAAU,YAAV;AACA,YAAO,IAAP;AACA,KATF;;AAWA;;;;;;;AAOA1D,WAAO4C,SAAP,CAAiB6B,IAAjB,GAAwB,YAAY;AACnC,SAAI0O,OAAOqR,QAAQxR,SAAR,CAAX;AACAG,UAAKqS,OAAL,CAAa,SAAb;AACA,UAAK9hB,IAAL,CAAU0J,KAAV,CAAgB,IAAhB,EAAsB+F,IAAtB;AACA,YAAO,IAAP;AACA,KALD;;AAOA;;;;;;;;;AASAnT,WAAO4C,SAAP,CAAiBc,IAAjB,GAAwB,UAAU4L,EAAV,EAAc;AACrC,SAAIoV,OAAOnhB,cAAP,CAAsB+L,EAAtB,CAAJ,EAA+B;AAC9B5L,WAAK0J,KAAL,CAAW,IAAX,EAAiB4F,SAAjB;AACA,aAAO,IAAP;AACA;;AAED,SAAIG,OAAOqR,QAAQxR,SAAR,CAAX;AACA,SAAIyS,aAAajmB,OAAOkmB,KAAxB,CAPqC,CAON;AAC/B,SAAIjB,OAAOtR,IAAP,CAAJ,EAAkB;AACjBsS,mBAAajmB,OAAOmmB,YAApB;AACA,MAVoC,CAUnC;AACF,SAAI3hB,SAAS;AACZU,YAAM+gB,UADM;AAEZ9gB,YAAMwO;AAFM,MAAb;;AAKAnP,YAAO8C,OAAP,GAAiB,EAAjB;AACA9C,YAAO8C,OAAP,CAAeE,QAAf,GAA0B,CAAC,KAAK4e,KAAN,IAAe,UAAU,KAAKA,KAAL,CAAW5e,QAA9D;;AAEA;AACA,SAAI,cAAc,OAAOmM,KAAKA,KAAK7T,MAAL,GAAc,CAAnB,CAAzB,EAAgD;AAC/CK,YAAM,gCAAN,EAAwC,KAAKslB,GAA7C;AACA,WAAKC,IAAL,CAAU,KAAKD,GAAf,IAAsB9R,KAAK0S,GAAL,EAAtB;AACA7hB,aAAOb,EAAP,GAAY,KAAK8hB,GAAL,EAAZ;AACA;;AAED,SAAI,KAAKI,SAAT,EAAoB;AACnB,WAAKrhB,MAAL,CAAYA,MAAZ;AACA,MAFD,MAEO;AACN,WAAKohB,UAAL,CAAgBne,IAAhB,CAAqBjD,MAArB;AACA;;AAED,YAAO,KAAK4hB,KAAZ;;AAEA,YAAO,IAAP;AACA,KAnCD;;AAqCA;;;;;;;AAOA5lB,WAAO4C,SAAP,CAAiBoB,MAAjB,GAA0B,UAAUA,MAAV,EAAkB;AAC3CA,YAAOoe,GAAP,GAAa,KAAKA,GAAlB;AACA,UAAK7jB,EAAL,CAAQyF,MAAR,CAAeA,MAAf;AACA,KAHD;;AAKA;;;;;;AAMAhE,WAAO4C,SAAP,CAAiBwM,MAAjB,GAA0B,YAAY;AACrCzP,WAAM,gCAAN;;AAEA;AACA,SAAI,OAAO,KAAKyiB,GAAhB,EAAqB;AACpB,WAAKpe,MAAL,CAAY;AACXU,aAAMlF,OAAOsmB;AADF,OAAZ;AAGA;AACD,KATD;;AAWA;;;;;;;AAOA9lB,WAAO4C,SAAP,CAAiB4C,OAAjB,GAA2B,UAAU4B,MAAV,EAAkB;AAC5CzH,WAAM,YAAN,EAAoByH,MAApB;AACA,UAAKie,SAAL,GAAiB,KAAjB;AACA,UAAKC,YAAL,GAAoB,IAApB;AACA,YAAO,KAAKniB,EAAZ;AACA,UAAKO,IAAL,CAAU,YAAV,EAAwB0D,MAAxB;AACA,KAND;;AAQA;;;;;;;AAOApH,WAAO4C,SAAP,CAAiBmjB,QAAjB,GAA4B,UAAU/hB,MAAV,EAAkB;AAC7C,SAAIA,OAAOoe,GAAP,IAAc,KAAKA,GAAvB,EAA4B;;AAE5B,aAAQpe,OAAOU,IAAf;AACC,WAAKlF,OAAOsmB,OAAZ;AACC,YAAKE,SAAL;AACA;;AAED,WAAKxmB,OAAOkmB,KAAZ;AACC,YAAKO,OAAL,CAAajiB,MAAb;AACA;;AAED,WAAKxE,OAAOmmB,YAAZ;AACC,YAAKM,OAAL,CAAajiB,MAAb;AACA;;AAED,WAAKxE,OAAO0mB,GAAZ;AACC,YAAKC,KAAL,CAAWniB,MAAX;AACA;;AAED,WAAKxE,OAAO4mB,UAAZ;AACC,YAAKD,KAAL,CAAWniB,MAAX;AACA;;AAED,WAAKxE,OAAO6mB,UAAZ;AACC,YAAKC,YAAL;AACA;;AAED,WAAK9mB,OAAO+mB,KAAZ;AACC,YAAK7iB,IAAL,CAAU,OAAV,EAAmBM,OAAOW,IAA1B;AACA;AA3BF;AA6BA,KAhCD;;AAkCA;;;;;;;AAOA3E,WAAO4C,SAAP,CAAiBqjB,OAAjB,GAA2B,UAAUjiB,MAAV,EAAkB;AAC5C,SAAImP,OAAOnP,OAAOW,IAAP,IAAe,EAA1B;AACAhF,WAAM,mBAAN,EAA2BwT,IAA3B;;AAEA,SAAI,QAAQnP,OAAOb,EAAnB,EAAuB;AACtBxD,YAAM,iCAAN;AACAwT,WAAKlM,IAAL,CAAU,KAAKuf,GAAL,CAASxiB,OAAOb,EAAhB,CAAV;AACA;;AAED,SAAI,KAAKkiB,SAAT,EAAoB;AACnB3hB,WAAK0J,KAAL,CAAW,IAAX,EAAiB+F,IAAjB;AACA,MAFD,MAEO;AACN,WAAKgS,aAAL,CAAmBle,IAAnB,CAAwBkM,IAAxB;AACA;AACD,KAdD;;AAgBA;;;;;;AAMAnT,WAAO4C,SAAP,CAAiB4jB,GAAjB,GAAuB,UAAUrjB,EAAV,EAAc;AACpC,SAAI7E,OAAO,IAAX;AACA,SAAImoB,OAAO,KAAX;AACA,YAAO,YAAY;AAClB;AACA,UAAIA,IAAJ,EAAU;AACVA,aAAO,IAAP;AACA,UAAItT,OAAOqR,QAAQxR,SAAR,CAAX;AACArT,YAAM,gBAAN,EAAwBwT,IAAxB;;AAEA,UAAIzO,OAAO+f,OAAOtR,IAAP,IAAe3T,OAAO4mB,UAAtB,GAAmC5mB,OAAO0mB,GAArD;AACA5nB,WAAK0F,MAAL,CAAY;AACXU,aAAMA,IADK;AAEXvB,WAAIA,EAFO;AAGXwB,aAAMwO;AAHK,OAAZ;AAKA,MAbD;AAcA,KAjBD;;AAmBA;;;;;;;AAOAnT,WAAO4C,SAAP,CAAiBujB,KAAjB,GAAyB,UAAUniB,MAAV,EAAkB;AAC1C,SAAIwiB,MAAM,KAAKtB,IAAL,CAAUlhB,OAAOb,EAAjB,CAAV;AACA,SAAI,cAAc,OAAOqjB,GAAzB,EAA8B;AAC7B7mB,YAAM,wBAAN,EAAgCqE,OAAOb,EAAvC,EAA2Ca,OAAOW,IAAlD;AACA6hB,UAAIpZ,KAAJ,CAAU,IAAV,EAAgBpJ,OAAOW,IAAvB;AACA,aAAO,KAAKugB,IAAL,CAAUlhB,OAAOb,EAAjB,CAAP;AACA,MAJD,MAIO;AACNxD,YAAM,YAAN,EAAoBqE,OAAOb,EAA3B;AACA;AACD,KATD;;AAWA;;;;;;AAMAnD,WAAO4C,SAAP,CAAiBojB,SAAjB,GAA6B,YAAY;AACxC,UAAKX,SAAL,GAAiB,IAAjB;AACA,UAAKC,YAAL,GAAoB,KAApB;AACA,UAAK5hB,IAAL,CAAU,SAAV;AACA,UAAKgjB,YAAL;AACA,KALD;;AAOA;;;;;;AAMA1mB,WAAO4C,SAAP,CAAiB8jB,YAAjB,GAAgC,YAAY;AAC3C,SAAIznB,CAAJ;AACA,UAAKA,IAAI,CAAT,EAAYA,IAAI,KAAKkmB,aAAL,CAAmB7lB,MAAnC,EAA2CL,GAA3C,EAAgD;AAC/CyE,WAAK0J,KAAL,CAAW,IAAX,EAAiB,KAAK+X,aAAL,CAAmBlmB,CAAnB,CAAjB;AACA;AACD,UAAKkmB,aAAL,GAAqB,EAArB;;AAEA,UAAKlmB,IAAI,CAAT,EAAYA,IAAI,KAAKmmB,UAAL,CAAgB9lB,MAAhC,EAAwCL,GAAxC,EAA6C;AAC5C,WAAK+E,MAAL,CAAY,KAAKohB,UAAL,CAAgBnmB,CAAhB,CAAZ;AACA;AACD,UAAKmmB,UAAL,GAAkB,EAAlB;AACA,KAXD;;AAaA;;;;;;AAMAplB,WAAO4C,SAAP,CAAiB0jB,YAAjB,GAAgC,YAAY;AAC3C3mB,WAAM,wBAAN,EAAgC,KAAKyiB,GAArC;AACA,UAAKoB,OAAL;AACA,UAAKhe,OAAL,CAAa,sBAAb;AACA,KAJD;;AAMA;;;;;;;;AAQAxF,WAAO4C,SAAP,CAAiB4gB,OAAjB,GAA2B,YAAY;AACtC,SAAI,KAAKzC,IAAT,EAAe;AACd;AACA,WAAK,IAAI9hB,IAAI,CAAb,EAAgBA,IAAI,KAAK8hB,IAAL,CAAUzhB,MAA9B,EAAsCL,GAAtC,EAA2C;AAC1C,YAAK8hB,IAAL,CAAU9hB,CAAV,EAAaukB,OAAb;AACA;AACD,WAAKzC,IAAL,GAAY,IAAZ;AACA;;AAED,UAAKxiB,EAAL,CAAQilB,OAAR,CAAgB,IAAhB;AACA,KAVD;;AAYA;;;;;;;AAOAxjB,WAAO4C,SAAP,CAAiBwC,KAAjB,GACCpF,OAAO4C,SAAP,CAAiBshB,UAAjB,GAA8B,YAAY;AACzC,SAAI,KAAKmB,SAAT,EAAoB;AACnB1lB,YAAM,4BAAN,EAAoC,KAAKyiB,GAAzC;AACA,WAAKpe,MAAL,CAAY;AACXU,aAAMlF,OAAO6mB;AADF,OAAZ;AAGA;;AAED;AACA,UAAK7C,OAAL;;AAEA,SAAI,KAAK6B,SAAT,EAAoB;AACnB;AACA,WAAK7f,OAAL,CAAa,sBAAb;AACA;AACD,YAAO,IAAP;AACA,KAjBF;;AAmBA;;;;;;;;AAQAxF,WAAO4C,SAAP,CAAiBoE,QAAjB,GAA4B,UAAUA,QAAV,EAAoB;AAC/C,UAAK4e,KAAL,GAAa,KAAKA,KAAL,IAAc,EAA3B;AACA,UAAKA,KAAL,CAAW5e,QAAX,GAAsBA,QAAtB;AACA,YAAO,IAAP;AACA,KAJD;AAMA,IAvaG,EAuaD;AACF,YAAQ,EADN;AAEF,sBAAkB,EAFhB;AAGF,yBAAqB,EAHnB;AAIF,aAAS,EAJP;AAKF,kBAAc,EALZ;AAMF,wBAAoB,EANlB;AAOF,gBAAY;AAPV,IAvaC,CA39JF;AA24KF,OAAI,CAAC,UAAUzH,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;;AAElB;;;;AAIA,SAAIwB,WAAWN,QAAQ,UAAR,CAAf;AACA,SAAII,QAAQJ,QAAQ,OAAR,EAAiB,sBAAjB,CAAZ;;AAEA;;;;AAIAvB,YAAOD,OAAP,GAAiBkiB,GAAjB;;AAEA;;;;;;;;;AASA,cAASA,GAAT,CAAa/f,GAAb,EAAkBymB,GAAlB,EAAuB;AACtB,UAAIrjB,MAAMpD,GAAV;;AAEA;AACA,UAAIymB,MAAMA,OAAOtoB,OAAOqC,QAAxB;AACA,UAAI,QAAQR,GAAZ,EAAiBA,MAAMymB,IAAIpmB,QAAJ,GAAe,IAAf,GAAsBomB,IAAItmB,IAAhC;;AAEjB;AACA,UAAI,YAAY,OAAOH,GAAvB,EAA4B;AAC3B,WAAI,OAAOA,IAAI2Y,MAAJ,CAAW,CAAX,CAAX,EAA0B;AACzB,YAAI,OAAO3Y,IAAI2Y,MAAJ,CAAW,CAAX,CAAX,EAA0B;AACzB3Y,eAAMymB,IAAIpmB,QAAJ,GAAeL,GAArB;AACA,SAFD,MAEO;AACNA,eAAMymB,IAAItmB,IAAJ,GAAWH,GAAjB;AACA;AACD;;AAED,WAAI,CAAC,sBAAsBkK,IAAtB,CAA2BlK,GAA3B,CAAL,EAAsC;AACrCP,cAAM,sBAAN,EAA8BO,GAA9B;AACA,YAAI,eAAe,OAAOymB,GAA1B,EAA+B;AAC9BzmB,eAAMymB,IAAIpmB,QAAJ,GAAe,IAAf,GAAsBL,GAA5B;AACA,SAFD,MAEO;AACNA,eAAM,aAAaA,GAAnB;AACA;AACD;;AAED;AACAP,aAAM,UAAN,EAAkBO,GAAlB;AACAoD,aAAMzD,SAASK,GAAT,CAAN;AACA;;AAED;AACA,UAAI,CAACoD,IAAI9C,IAAT,EAAe;AACd,WAAI,cAAc4J,IAAd,CAAmB9G,IAAI/C,QAAvB,CAAJ,EAAsC;AACrC+C,YAAI9C,IAAJ,GAAW,IAAX;AACA,QAFD,MAEO,IAAI,eAAe4J,IAAf,CAAoB9G,IAAI/C,QAAxB,CAAJ,EAAuC;AAC7C+C,YAAI9C,IAAJ,GAAW,KAAX;AACA;AACD;;AAED8C,UAAIxC,IAAJ,GAAWwC,IAAIxC,IAAJ,IAAY,GAAvB;;AAEA,UAAI0N,OAAOlL,IAAIjD,IAAJ,CAASmD,OAAT,CAAiB,GAAjB,MAA0B,CAAC,CAAtC;AACA,UAAInD,OAAOmO,OAAO,MAAMlL,IAAIjD,IAAV,GAAiB,GAAxB,GAA8BiD,IAAIjD,IAA7C;;AAEA;AACAiD,UAAIH,EAAJ,GAASG,IAAI/C,QAAJ,GAAe,KAAf,GAAuBF,IAAvB,GAA8B,GAA9B,GAAoCiD,IAAI9C,IAAjD;AACA;AACA8C,UAAIsjB,IAAJ,GAAWtjB,IAAI/C,QAAJ,GAAe,KAAf,GAAuBF,IAAvB,IAA+BsmB,OAAOA,IAAInmB,IAAJ,IAAY8C,IAAI9C,IAAvB,GAA8B,EAA9B,GAAoC,MAAM8C,IAAI9C,IAA7E,CAAX;;AAEA,aAAO8C,GAAP;AACA;AAED,KA7ED,EA6EGjE,IA7EH,CA6EQ,IA7ER,EA6Ec,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EA7ErI;AA8EA,IA/EG,EA+ED;AACF,aAAS,EADP;AAEF,gBAAY;AAFV,IA/EC,CA34KF;AA89KF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;AAIAC,WAAOD,OAAP,GAAiB+iB,OAAjB;;AAEA;;;;;;;;;;;;AAYA,aAASA,OAAT,CAAiB3gB,IAAjB,EAAuB;AACtBA,YAAOA,QAAQ,EAAf;AACA,UAAKoW,EAAL,GAAUpW,KAAKohB,GAAL,IAAY,GAAtB;AACA,UAAKC,GAAL,GAAWrhB,KAAKqhB,GAAL,IAAY,KAAvB;AACA,UAAKqF,MAAL,GAAc1mB,KAAK0mB,MAAL,IAAe,CAA7B;AACA,UAAKpF,MAAL,GAActhB,KAAKshB,MAAL,GAAc,CAAd,IAAmBthB,KAAKshB,MAAL,IAAe,CAAlC,GAAsCthB,KAAKshB,MAA3C,GAAoD,CAAlE;AACA,UAAKyB,QAAL,GAAgB,CAAhB;AACA;;AAED;;;;;;;AAOApC,YAAQle,SAAR,CAAkByhB,QAAlB,GAA6B,YAAY;AACxC,SAAI9N,KAAK,KAAKA,EAAL,GAAU+F,KAAKwK,GAAL,CAAS,KAAKD,MAAd,EAAsB,KAAK3D,QAAL,EAAtB,CAAnB;AACA,SAAI,KAAKzB,MAAT,EAAiB;AAChB,UAAIsF,OAAOzK,KAAK0K,MAAL,EAAX;AACA,UAAIC,YAAY3K,KAAKG,KAAL,CAAWsK,OAAO,KAAKtF,MAAZ,GAAqBlL,EAAhC,CAAhB;AACAA,WAAK,CAAC+F,KAAKG,KAAL,CAAWsK,OAAO,EAAlB,IAAwB,CAAzB,KAA+B,CAA/B,GAAmCxQ,KAAK0Q,SAAxC,GAAoD1Q,KAAK0Q,SAA9D;AACA;AACD,YAAO3K,KAAKiF,GAAL,CAAShL,EAAT,EAAa,KAAKiL,GAAlB,IAAyB,CAAhC;AACA,KARD;;AAUA;;;;;;AAMAV,YAAQle,SAAR,CAAkBuhB,KAAlB,GAA0B,YAAY;AACrC,UAAKjB,QAAL,GAAgB,CAAhB;AACA,KAFD;;AAIA;;;;;;AAMApC,YAAQle,SAAR,CAAkB8f,MAAlB,GAA2B,UAAUnB,GAAV,EAAe;AACzC,UAAKhL,EAAL,GAAUgL,GAAV;AACA,KAFD;;AAIA;;;;;;AAMAT,YAAQle,SAAR,CAAkBkgB,MAAlB,GAA2B,UAAUtB,GAAV,EAAe;AACzC,UAAKA,GAAL,GAAWA,GAAX;AACA,KAFD;;AAIA;;;;;;AAMAV,YAAQle,SAAR,CAAkBggB,SAAlB,GAA8B,UAAUnB,MAAV,EAAkB;AAC/C,UAAKA,MAAL,GAAcA,MAAd;AACA,KAFD;AAKA,IAvFG,EAuFD,EAvFC,CA99KF;AAsjLF,OAAI,CAAC,UAAUliB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC;;;;AAIA,QAAIyS,QAAQ,GAAGA,KAAf;;AAEA;;;;;;;;;AASAxS,WAAOD,OAAP,GAAiB,UAAUuF,GAAV,EAAeyD,EAAf,EAAmB;AACnC,SAAI,YAAY,OAAOA,EAAvB,EAA2BA,KAAKzD,IAAIyD,EAAJ,CAAL;AAC3B,SAAI,cAAc,OAAOA,EAAzB,EAA6B,MAAM,IAAI7H,KAAJ,CAAU,4BAAV,CAAN;AAC7B,SAAIiU,OAAO3C,MAAMnR,IAAN,CAAW2T,SAAX,EAAsB,CAAtB,CAAX;AACA,YAAO,YAAY;AAClB,aAAOjM,GAAGqG,KAAH,CAAS9J,GAAT,EAAc6P,KAAKiC,MAAL,CAAY5E,MAAMnR,IAAN,CAAW2T,SAAX,CAAZ,CAAd,CAAP;AACA,MAFD;AAGA,KAPD;AASA,IAzBG,EAyBD,EAzBC,CAtjLF;AAglLF,OAAI,CAAC,UAAUzT,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;AAIAC,WAAOD,OAAP,GAAiB2B,OAAjB;;AAEA;;;;;;AAMA,aAASA,OAAT,CAAiB4D,GAAjB,EAAsB;AACrB,SAAIA,GAAJ,EAAS,OAAOsP,MAAMtP,GAAN,CAAP;AACT;;AAED;;;;;;;;AAQA,aAASsP,KAAT,CAAetP,GAAf,EAAoB;AACnB,UAAK,IAAIvB,GAAT,IAAgBrC,QAAQkD,SAAxB,EAAmC;AAClCU,UAAIvB,GAAJ,IAAWrC,QAAQkD,SAAR,CAAkBb,GAAlB,CAAX;AACA;AACD,YAAOuB,GAAP;AACA;;AAED;;;;;;;;;AASA5D,YAAQkD,SAAR,CAAkBkB,EAAlB,GACCpE,QAAQkD,SAAR,CAAkBsG,gBAAlB,GAAqC,UAAU2J,KAAV,EAAiB9L,EAAjB,EAAqB;AACzD,UAAK+L,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;AACA,MAAC,KAAKA,UAAL,CAAgB,MAAMD,KAAtB,IAA+B,KAAKC,UAAL,CAAgB,MAAMD,KAAtB,KAAgC,EAAhE,EACC5L,IADD,CACMF,EADN;AAEA,YAAO,IAAP;AACA,KANF;;AAQA;;;;;;;;;;AAUArH,YAAQkD,SAAR,CAAkBgC,IAAlB,GAAyB,UAAUiO,KAAV,EAAiB9L,EAAjB,EAAqB;AAC7C,cAASjD,EAAT,GAAc;AACb,WAAKiP,GAAL,CAASF,KAAT,EAAgB/O,EAAhB;AACAiD,SAAGqG,KAAH,CAAS,IAAT,EAAe4F,SAAf;AACA;;AAEDlP,QAAGiD,EAAH,GAAQA,EAAR;AACA,UAAKjD,EAAL,CAAQ+O,KAAR,EAAe/O,EAAf;AACA,YAAO,IAAP;AACA,KATD;;AAWA;;;;;;;;;;AAUApE,YAAQkD,SAAR,CAAkBmQ,GAAlB,GACCrT,QAAQkD,SAAR,CAAkB+C,cAAlB,GACAjG,QAAQkD,SAAR,CAAkBiB,kBAAlB,GACAnE,QAAQkD,SAAR,CAAkBqQ,mBAAlB,GAAwC,UAAUJ,KAAV,EAAiB9L,EAAjB,EAAqB;AAC5D,UAAK+L,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;;AAEA;AACA,SAAI,KAAKE,UAAU1T,MAAnB,EAA2B;AAC1B,WAAKwT,UAAL,GAAkB,EAAlB;AACA,aAAO,IAAP;AACA;;AAED;AACA,SAAIhK,YAAY,KAAKgK,UAAL,CAAgB,MAAMD,KAAtB,CAAhB;AACA,SAAI,CAAC/J,SAAL,EAAgB,OAAO,IAAP;;AAEhB;AACA,SAAI,KAAKkK,UAAU1T,MAAnB,EAA2B;AAC1B,aAAO,KAAKwT,UAAL,CAAgB,MAAMD,KAAtB,CAAP;AACA,aAAO,IAAP;AACA;;AAED;AACA,SAAIK,EAAJ;AACA,UAAK,IAAIjU,IAAI,CAAb,EAAgBA,IAAI6J,UAAUxJ,MAA9B,EAAsCL,GAAtC,EAA2C;AAC1CiU,WAAKpK,UAAU7J,CAAV,CAAL;AACA,UAAIiU,OAAOnM,EAAP,IAAamM,GAAGnM,EAAH,KAAUA,EAA3B,EAA+B;AAC9B+B,iBAAUpC,MAAV,CAAiBzH,CAAjB,EAAoB,CAApB;AACA;AACA;AACD;AACD,YAAO,IAAP;AACA,KAhCF;;AAkCA;;;;;;;;AAQAS,YAAQkD,SAAR,CAAkBc,IAAlB,GAAyB,UAAUmP,KAAV,EAAiB;AACzC,UAAKC,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;AACA,SAAIK,OAAO,GAAG3C,KAAH,CAASnR,IAAT,CAAc2T,SAAd,EAAyB,CAAzB,CAAX;AAAA,SACClK,YAAY,KAAKgK,UAAL,CAAgB,MAAMD,KAAtB,CADb;;AAGA,SAAI/J,SAAJ,EAAe;AACdA,kBAAYA,UAAU0H,KAAV,CAAgB,CAAhB,CAAZ;AACA,WAAK,IAAIvR,IAAI,CAAR,EAAWuQ,MAAM1G,UAAUxJ,MAAhC,EAAwCL,IAAIuQ,GAA5C,EAAiD,EAAEvQ,CAAnD,EAAsD;AACrD6J,iBAAU7J,CAAV,EAAamO,KAAb,CAAmB,IAAnB,EAAyB+F,IAAzB;AACA;AACD;;AAED,YAAO,IAAP;AACA,KAbD;;AAeA;;;;;;;;AAQAzT,YAAQkD,SAAR,CAAkBwQ,SAAlB,GAA8B,UAAUP,KAAV,EAAiB;AAC9C,UAAKC,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;AACA,YAAO,KAAKA,UAAL,CAAgB,MAAMD,KAAtB,KAAgC,EAAvC;AACA,KAHD;;AAKA;;;;;;;;AAQAnT,YAAQkD,SAAR,CAAkByQ,YAAlB,GAAiC,UAAUR,KAAV,EAAiB;AACjD,YAAO,CAAC,CAAC,KAAKO,SAAL,CAAeP,KAAf,EAAsBvT,MAA/B;AACA,KAFD;AAIA,IAnKG,EAmKD,EAnKC,CAhlLF;AAovLF,OAAI,CAAC,UAAUC,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCiV,cAAU,CAAV,EAAa,EAAb,EAAiB,CAAjB,EAAoB5F,KAApB,CAA0BrP,OAA1B,EAAmCiV,SAAnC;AACA,IAFG,EAED;AACF,eAAW,EADT;AAEF,WAAO;AAFL,IAFC,CApvLF;AA0vLF,OAAI,CAAC,UAAUzT,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCiV,cAAU,CAAV,EAAa,EAAb,EAAiB,CAAjB,EAAoB5F,KAApB,CAA0BrP,OAA1B,EAAmCiV,SAAnC;AACA,IAFG,EAED;AACF,WAAO,EADL;AAEF,UAAM;AAFJ,IAFC,CA1vLF;AAgwLF,OAAI,CAAC,UAAUzT,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;;AAElB;;;;AAIA,SAAIkd,UAAUhc,QAAQ,SAAR,CAAd;;AAEA;;;;AAIAvB,YAAOD,OAAP,GAAiBkZ,SAAjB;;AAEA;;;;;;;;;AASA,cAASA,SAAT,CAAmBtS,IAAnB,EAAyB;;AAExB,eAAS6W,UAAT,CAAoBlY,GAApB,EAAyB;AACxB,WAAI,CAACA,GAAL,EAAU,OAAO,KAAP;;AAEV,WAAKjF,OAAOoR,MAAP,IAAiBpR,OAAOoR,MAAP,CAAcgM,QAA/B,IAA2Cpd,OAAOoR,MAAP,CAAcgM,QAAd,CAAuBnY,GAAvB,CAA5C,IACFjF,OAAOoS,WAAP,IAAsBnN,eAAemN,WADnC,IAEFpS,OAAOsT,IAAP,IAAerO,eAAeqO,IAF5B,IAGFtT,OAAOqd,IAAP,IAAepY,eAAeoY,IAHhC,EAIE;AACD,eAAO,IAAP;AACA;;AAED,WAAIH,QAAQjY,GAAR,CAAJ,EAAkB;AACjB,aAAK,IAAIrE,IAAI,CAAb,EAAgBA,IAAIqE,IAAIhE,MAAxB,EAAgCL,GAAhC,EAAqC;AACpC,aAAIuc,WAAWlY,IAAIrE,CAAJ,CAAX,CAAJ,EAAwB;AACvB,iBAAO,IAAP;AACA;AACD;AACD,QAND,MAMO,IAAIqE,OAAO,oBAAmBA,GAAnB,yCAAmBA,GAAnB,EAAX,EAAmC;AACzC;AACA,YAAIA,IAAIqY,MAAJ,IAAc,cAAc,OAAOrY,IAAIqY,MAA3C,EAAmD;AAClDrY,eAAMA,IAAIqY,MAAJ,EAAN;AACA;;AAED,aAAK,IAAI5Z,GAAT,IAAgBuB,GAAhB,EAAqB;AACpB,aAAId,OAAOI,SAAP,CAAiBW,cAAjB,CAAgClE,IAAhC,CAAqCiE,GAArC,EAA0CvB,GAA1C,KAAkDyZ,WAAWlY,IAAIvB,GAAJ,CAAX,CAAtD,EAA4E;AAC3E,iBAAO,IAAP;AACA;AACD;AACD;;AAED,cAAO,KAAP;AACA;;AAED,aAAOyZ,WAAW7W,IAAX,CAAP;AACA;AAED,KA7DD,EA6DGtF,IA7DH,CA6DQ,IA7DR,EA6Dc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EA7DrI;AA8DA,IA/DG,EA+DD;AACF,eAAW;AADT,IA/DC,CAhwLF;AAk0LF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCiV,cAAU,CAAV,EAAa,EAAb,EAAiB,CAAjB,EAAoB5F,KAApB,CAA0BrP,OAA1B,EAAmCiV,SAAnC;AACA,IAFG,EAED;AACF,WAAO;AADL,IAFC,CAl0LF;AAu0LF,OAAI,CAAC,UAAUzT,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCiV,cAAU,CAAV,EAAa,EAAb,EAAiB,CAAjB,EAAoB5F,KAApB,CAA0BrP,OAA1B,EAAmCiV,SAAnC;AACA,IAFG,EAED;AACF,WAAO;AADL,IAFC,CAv0LF;AA40LF,OAAI,CAAC,UAAUzT,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCiV,cAAU,CAAV,EAAa,EAAb,EAAiB,CAAjB,EAAoB5F,KAApB,CAA0BrP,OAA1B,EAAmCiV,SAAnC;AACA,IAFG,EAED;AACF,WAAO;AADL,IAFC,CA50LF;AAi1LF,OAAI,CAAC,UAAUzT,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCiV,cAAU,CAAV,EAAa,EAAb,EAAiB,CAAjB,EAAoB5F,KAApB,CAA0BrP,OAA1B,EAAmCiV,SAAnC;AACA,IAFG,EAED;AACF,WAAO;AADL,IAFC,CAj1LF;AAs1LF,OAAI,CAAC,UAAUzT,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;AAClB;;AAEA;;;;AAIA,SAAIkd,UAAUhc,QAAQ,SAAR,CAAd;AACA,SAAI2nB,QAAQ3nB,QAAQ,aAAR,CAAZ;;AAEA;;;;;;;;;;AAUAxB,aAAQopB,iBAAR,GAA4B,UAAUnjB,MAAV,EAAkB;AAC7C,UAAIiX,UAAU,EAAd;AACA,UAAImM,aAAapjB,OAAOW,IAAxB;;AAEA,eAAS0iB,kBAAT,CAA4B1iB,IAA5B,EAAkC;AACjC,WAAI,CAACA,IAAL,EAAW,OAAOA,IAAP;;AAEX,WAAIuiB,MAAMviB,IAAN,CAAJ,EAAiB;AAChB,YAAI2iB,cAAc;AACjBC,uBAAc,IADG;AAEjBzH,cAAK7E,QAAQ3b;AAFI,SAAlB;AAIA2b,gBAAQhU,IAAR,CAAatC,IAAb;AACA,eAAO2iB,WAAP;AACA,QAPD,MAOO,IAAI/L,QAAQ5W,IAAR,CAAJ,EAAmB;AACzB,YAAI6iB,UAAU,IAAInS,KAAJ,CAAU1Q,KAAKrF,MAAf,CAAd;AACA,aAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAI0F,KAAKrF,MAAzB,EAAiCL,GAAjC,EAAsC;AACrCuoB,iBAAQvoB,CAAR,IAAaooB,mBAAmB1iB,KAAK1F,CAAL,CAAnB,CAAb;AACA;AACD,eAAOuoB,OAAP;AACA,QANM,MAMA,IAAI,oBAAmB7iB,IAAnB,yCAAmBA,IAAnB,MAA2B,EAAEA,gBAAgB2R,IAAlB,CAA/B,EAAwD;AAC9D,YAAIkR,UAAU,EAAd;AACA,aAAK,IAAIzlB,GAAT,IAAgB4C,IAAhB,EAAsB;AACrB6iB,iBAAQzlB,GAAR,IAAeslB,mBAAmB1iB,KAAK5C,GAAL,CAAnB,CAAf;AACA;AACD,eAAOylB,OAAP;AACA;AACD,cAAO7iB,IAAP;AACA;;AAED,UAAIqf,OAAOhgB,MAAX;AACAggB,WAAKrf,IAAL,GAAY0iB,mBAAmBD,UAAnB,CAAZ;AACApD,WAAKyD,WAAL,GAAmBxM,QAAQ3b,MAA3B,CAhC6C,CAgCV;AACnC,aAAO;AACN0E,eAAQggB,IADF;AAEN/I,gBAASA;AAFH,OAAP;AAIA,MArCD;;AAuCA;;;;;;;;;AASAld,aAAQ2pB,iBAAR,GAA4B,UAAU1jB,MAAV,EAAkBiX,OAAlB,EAA2B;AACtD,UAAI0M,iBAAiB,CAArB;;AAEA,eAASC,kBAAT,CAA4BjjB,IAA5B,EAAkC;AACjC,WAAIA,QAAQA,KAAK4iB,YAAjB,EAA+B;AAC9B,YAAIlV,MAAM4I,QAAQtW,KAAKmb,GAAb,CAAV,CAD8B,CACD;AAC7B,eAAOzN,GAAP;AACA,QAHD,MAGO,IAAIkJ,QAAQ5W,IAAR,CAAJ,EAAmB;AACzB,aAAK,IAAI1F,IAAI,CAAb,EAAgBA,IAAI0F,KAAKrF,MAAzB,EAAiCL,GAAjC,EAAsC;AACrC0F,cAAK1F,CAAL,IAAU2oB,mBAAmBjjB,KAAK1F,CAAL,CAAnB,CAAV;AACA;AACD,eAAO0F,IAAP;AACA,QALM,MAKA,IAAIA,QAAQ,oBAAmBA,IAAnB,yCAAmBA,IAAnB,EAAZ,EAAqC;AAC3C,aAAK,IAAI5C,GAAT,IAAgB4C,IAAhB,EAAsB;AACrBA,cAAK5C,GAAL,IAAY6lB,mBAAmBjjB,KAAK5C,GAAL,CAAnB,CAAZ;AACA;AACD,eAAO4C,IAAP;AACA;AACD,cAAOA,IAAP;AACA;;AAEDX,aAAOW,IAAP,GAAcijB,mBAAmB5jB,OAAOW,IAA1B,CAAd;AACAX,aAAOyjB,WAAP,GAAqBplB,SAArB,CAtBsD,CAsBtB;AAChC,aAAO2B,MAAP;AACA,MAxBD;;AA0BA;;;;;;;;;;AAUAjG,aAAQ8pB,WAAR,GAAsB,UAAUljB,IAAV,EAAgBsJ,QAAhB,EAA0B;AAC/C,eAAS6Z,YAAT,CAAsBxkB,GAAtB,EAA2BykB,MAA3B,EAAmCC,gBAAnC,EAAqD;AACpD,WAAI,CAAC1kB,GAAL,EAAU,OAAOA,GAAP;;AAEV;AACA,WAAKjF,OAAOsT,IAAP,IAAerO,eAAeqO,IAA/B,IACFtT,OAAOqd,IAAP,IAAepY,eAAeoY,IADhC,EACuC;AACtCuM;;AAEA;AACA,YAAIC,aAAa,IAAI9P,UAAJ,EAAjB;AACA8P,mBAAWzc,MAAX,GAAoB,YAAY;AAAE;AACjC,aAAIuc,gBAAJ,EAAsB;AACrBA,2BAAiBD,MAAjB,IAA2B,KAAK5X,MAAhC;AACA,UAFD,MAEO;AACNgY,yBAAe,KAAKhY,MAApB;AACA;;AAED;AACA,aAAI,CAAC,GAAE8X,YAAP,EAAqB;AACpBha,mBAASka,YAAT;AACA;AACD,SAXD;;AAaAD,mBAAW7P,iBAAX,CAA6B/U,GAA7B,EAlBsC,CAkBH;AACnC,QApBD,MAoBO,IAAIiY,QAAQjY,GAAR,CAAJ,EAAkB;AAAE;AAC1B,aAAK,IAAIrE,IAAI,CAAb,EAAgBA,IAAIqE,IAAIhE,MAAxB,EAAgCL,GAAhC,EAAqC;AACpC6oB,sBAAaxkB,IAAIrE,CAAJ,CAAb,EAAqBA,CAArB,EAAwBqE,GAAxB;AACA;AACD,QAJM,MAIA,IAAIA,OAAO,oBAAmBA,GAAnB,yCAAmBA,GAAnB,EAAP,IAAiC,CAAC4jB,MAAM5jB,GAAN,CAAtC,EAAkD;AAAE;AAC1D,aAAK,IAAIvB,GAAT,IAAgBuB,GAAhB,EAAqB;AACpBwkB,sBAAaxkB,IAAIvB,GAAJ,CAAb,EAAuBA,GAAvB,EAA4BuB,GAA5B;AACA;AACD;AACD;;AAED,UAAI2kB,eAAe,CAAnB;AACA,UAAIE,eAAexjB,IAAnB;AACAmjB,mBAAaK,YAAb;AACA,UAAI,CAACF,YAAL,EAAmB;AAClBha,gBAASka,YAAT;AACA;AACD,MA1CD;AA4CA,KApJD,EAoJG9oB,IApJH,CAoJQ,IApJR,EAoJc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EApJrI;AAqJA,IAtJG,EAsJD;AACF,mBAAe,EADb;AAEF,eAAW;AAFT,IAtJC,CAt1LF;AAg/LF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;;AAExC;;;;AAIA,QAAI4B,QAAQJ,QAAQ,OAAR,EAAiB,kBAAjB,CAAZ;AACA,QAAIylB,OAAOzlB,QAAQ,OAAR,CAAX;AACA,QAAIgc,UAAUhc,QAAQ,SAAR,CAAd;AACA,QAAIG,UAAUH,QAAQ,mBAAR,CAAd;AACA,QAAI2P,SAAS3P,QAAQ,UAAR,CAAb;AACA,QAAI2nB,QAAQ3nB,QAAQ,aAAR,CAAZ;;AAEA;;;;;;AAMAxB,YAAQwC,QAAR,GAAmB,CAAnB;;AAEA;;;;;;AAMAxC,YAAQqqB,KAAR,GAAgB,CACf,SADe,EAEf,YAFe,EAGf,OAHe,EAIf,cAJe,EAKf,KALe,EAMf,YANe,EAOf,OAPe,CAAhB;;AAUA;;;;;;AAMArqB,YAAQ+nB,OAAR,GAAkB,CAAlB;;AAEA;;;;;;AAMA/nB,YAAQsoB,UAAR,GAAqB,CAArB;;AAEA;;;;;;AAMAtoB,YAAQ2nB,KAAR,GAAgB,CAAhB;;AAEA;;;;;;AAMA3nB,YAAQmoB,GAAR,GAAc,CAAd;;AAEA;;;;;;AAMAnoB,YAAQwoB,KAAR,GAAgB,CAAhB;;AAEA;;;;;;AAMAxoB,YAAQ4nB,YAAR,GAAuB,CAAvB;;AAEA;;;;;;AAMA5nB,YAAQqoB,UAAR,GAAqB,CAArB;;AAEA;;;;;;AAMAroB,YAAQgkB,OAAR,GAAkBA,OAAlB;;AAEA;;;;;;AAMAhkB,YAAQkkB,OAAR,GAAkBA,OAAlB;;AAEA;;;;;;AAMA,aAASF,OAAT,GAAmB,CAAE;;AAErB;;;;;;;;;;AAUAA,YAAQnf,SAAR,CAAkB2L,MAAlB,GAA2B,UAAUjL,GAAV,EAAe2K,QAAf,EAAyB;AACnDtO,WAAM,oBAAN,EAA4B2D,GAA5B;;AAEA,SAAIvF,QAAQ4nB,YAAR,IAAwBriB,IAAIoB,IAA5B,IAAoC3G,QAAQqoB,UAAR,IAAsB9iB,IAAIoB,IAAlE,EAAwE;AACvE2jB,qBAAe/kB,GAAf,EAAoB2K,QAApB;AACA,MAFD,MAEO;AACN,UAAI2T,WAAW0G,eAAehlB,GAAf,CAAf;AACA2K,eAAS,CAAC2T,QAAD,CAAT;AACA;AACD,KATD;;AAWA;;;;;;;;AAQA,aAAS0G,cAAT,CAAwBhlB,GAAxB,EAA6B;AAC5B,SAAI6Y,MAAM,EAAV;AACA,SAAIiG,MAAM,KAAV;;AAEA;AACAjG,YAAO7Y,IAAIoB,IAAX;;AAEA;AACA,SAAI3G,QAAQ4nB,YAAR,IAAwBriB,IAAIoB,IAA5B,IAAoC3G,QAAQqoB,UAAR,IAAsB9iB,IAAIoB,IAAlE,EAAwE;AACvEyX,aAAO7Y,IAAImkB,WAAX;AACAtL,aAAO,GAAP;AACA;;AAED;AACA;AACA,SAAI7Y,IAAI8e,GAAJ,IAAW,OAAO9e,IAAI8e,GAA1B,EAA+B;AAC9BA,YAAM,IAAN;AACAjG,aAAO7Y,IAAI8e,GAAX;AACA;;AAED;AACA,SAAI,QAAQ9e,IAAIH,EAAhB,EAAoB;AACnB,UAAIif,GAAJ,EAAS;AACRjG,cAAO,GAAP;AACAiG,aAAM,KAAN;AACA;AACDjG,aAAO7Y,IAAIH,EAAX;AACA;;AAED;AACA,SAAI,QAAQG,IAAIqB,IAAhB,EAAsB;AACrB,UAAIyd,GAAJ,EAASjG,OAAO,GAAP;AACTA,aAAO6I,KAAKlQ,SAAL,CAAexR,IAAIqB,IAAnB,CAAP;AACA;;AAEDhF,WAAM,kBAAN,EAA0B2D,GAA1B,EAA+B6Y,GAA/B;AACA,YAAOA,GAAP;AACA;;AAED;;;;;;;;;;AAUA,aAASkM,cAAT,CAAwB/kB,GAAxB,EAA6B2K,QAA7B,EAAuC;;AAEtC,cAASsa,aAAT,CAAuBJ,YAAvB,EAAqC;AACpC,UAAIK,iBAAiBtZ,OAAOiY,iBAAP,CAAyBgB,YAAzB,CAArB;AACA,UAAInE,OAAOsE,eAAeE,eAAexkB,MAA9B,CAAX;AACA,UAAIiX,UAAUuN,eAAevN,OAA7B;;AAEAA,cAAQuK,OAAR,CAAgBxB,IAAhB,EALoC,CAKb;AACvB/V,eAASgN,OAAT,EANoC,CAMjB;AACnB;;AAED/L,YAAO2Y,WAAP,CAAmBvkB,GAAnB,EAAwBilB,aAAxB;AACA;;AAED;;;;;;;AAOA,aAAStG,OAAT,GAAmB;AAClB,UAAKwG,aAAL,GAAqB,IAArB;AACA;;AAED;;;;AAIA/oB,YAAQuiB,QAAQrf,SAAhB;;AAEA;;;;;;;;AAQAqf,YAAQrf,SAAR,CAAkBghB,GAAlB,GAAwB,UAAUtgB,GAAV,EAAe;AACtC,SAAIU,MAAJ;AACA,SAAI,YAAY,OAAOV,GAAvB,EAA4B;AAC3BU,eAAS0kB,aAAaplB,GAAb,CAAT;AACA,UAAIvF,QAAQ4nB,YAAR,IAAwB3hB,OAAOU,IAA/B,IAAuC3G,QAAQqoB,UAAR,IAAsBpiB,OAAOU,IAAxE,EAA8E;AAAE;AAC/E,YAAK+jB,aAAL,GAAqB,IAAIE,mBAAJ,CAAwB3kB,MAAxB,CAArB;;AAEA;AACA,WAAI,KAAKykB,aAAL,CAAmBG,SAAnB,CAA6BnB,WAA7B,KAA6C,CAAjD,EAAoD;AACnD,aAAK/jB,IAAL,CAAU,SAAV,EAAqBM,MAArB;AACA;AACD,OAPD,MAOO;AAAE;AACR,YAAKN,IAAL,CAAU,SAAV,EAAqBM,MAArB;AACA;AACD,MAZD,MAYO,IAAIkjB,MAAM5jB,GAAN,KAAcA,IAAIwN,MAAtB,EAA8B;AAAE;AACtC,UAAI,CAAC,KAAK2X,aAAV,EAAyB;AACxB,aAAM,IAAIvpB,KAAJ,CAAU,kDAAV,CAAN;AACA,OAFD,MAEO;AACN8E,gBAAS,KAAKykB,aAAL,CAAmBI,cAAnB,CAAkCvlB,GAAlC,CAAT;AACA,WAAIU,MAAJ,EAAY;AAAE;AACb,aAAKykB,aAAL,GAAqB,IAArB;AACA,aAAK/kB,IAAL,CAAU,SAAV,EAAqBM,MAArB;AACA;AACD;AACD,MAVM,MAUA;AACN,YAAM,IAAI9E,KAAJ,CAAU,mBAAmBoE,GAA7B,CAAN;AACA;AACD,KA3BD;;AA6BA;;;;;;;;AAQA,aAASolB,YAAT,CAAsBvM,GAAtB,EAA2B;AAC1B,SAAIlL,IAAI,EAAR;AACA,SAAIhS,IAAI,CAAR;;AAEA;AACAgS,OAAEvM,IAAF,GAASqU,OAAOoD,IAAItD,MAAJ,CAAW,CAAX,CAAP,CAAT;AACA,SAAI,QAAQ9a,QAAQqqB,KAAR,CAAcnX,EAAEvM,IAAhB,CAAZ,EAAmC,OAAOY,OAAP;;AAEnC;AACA,SAAIvH,QAAQ4nB,YAAR,IAAwB1U,EAAEvM,IAA1B,IAAkC3G,QAAQqoB,UAAR,IAAsBnV,EAAEvM,IAA9D,EAAoE;AACnE,UAAI2N,MAAM,EAAV;AACA,aAAO8J,IAAItD,MAAJ,CAAW,EAAE5Z,CAAb,KAAmB,GAA1B,EAA+B;AAC9BoT,cAAO8J,IAAItD,MAAJ,CAAW5Z,CAAX,CAAP;AACA,WAAIA,KAAKkd,IAAI7c,MAAb,EAAqB;AACrB;AACD,UAAI+S,OAAO0G,OAAO1G,GAAP,CAAP,IAAsB8J,IAAItD,MAAJ,CAAW5Z,CAAX,KAAiB,GAA3C,EAAgD;AAC/C,aAAM,IAAIC,KAAJ,CAAU,qBAAV,CAAN;AACA;AACD+R,QAAEwW,WAAF,GAAgB1O,OAAO1G,GAAP,CAAhB;AACA;;AAED;AACA,SAAI,OAAO8J,IAAItD,MAAJ,CAAW5Z,IAAI,CAAf,CAAX,EAA8B;AAC7BgS,QAAEmR,GAAF,GAAQ,EAAR;AACA,aAAO,EAAEnjB,CAAT,EAAY;AACX,WAAIiW,IAAIiH,IAAItD,MAAJ,CAAW5Z,CAAX,CAAR;AACA,WAAI,OAAOiW,CAAX,EAAc;AACdjE,SAAEmR,GAAF,IAASlN,CAAT;AACA,WAAIjW,KAAKkd,IAAI7c,MAAb,EAAqB;AACrB;AACD,MARD,MAQO;AACN2R,QAAEmR,GAAF,GAAQ,GAAR;AACA;;AAED;AACA,SAAIzI,OAAOwC,IAAItD,MAAJ,CAAW5Z,IAAI,CAAf,CAAX;AACA,SAAI,OAAO0a,IAAP,IAAeZ,OAAOY,IAAP,KAAgBA,IAAnC,EAAyC;AACxC1I,QAAE9N,EAAF,GAAO,EAAP;AACA,aAAO,EAAElE,CAAT,EAAY;AACX,WAAIiW,IAAIiH,IAAItD,MAAJ,CAAW5Z,CAAX,CAAR;AACA,WAAI,QAAQiW,CAAR,IAAa6D,OAAO7D,CAAP,KAAaA,CAA9B,EAAiC;AAChC,UAAEjW,CAAF;AACA;AACA;AACDgS,SAAE9N,EAAF,IAAQgZ,IAAItD,MAAJ,CAAW5Z,CAAX,CAAR;AACA,WAAIA,KAAKkd,IAAI7c,MAAb,EAAqB;AACrB;AACD2R,QAAE9N,EAAF,GAAO4V,OAAO9H,EAAE9N,EAAT,CAAP;AACA;;AAED;AACA,SAAIgZ,IAAItD,MAAJ,CAAW,EAAE5Z,CAAb,CAAJ,EAAqB;AACpB,UAAI;AACHgS,SAAEtM,IAAF,GAASqgB,KAAKhJ,KAAL,CAAWG,IAAIrF,MAAJ,CAAW7X,CAAX,CAAX,CAAT;AACA,OAFD,CAEE,OAAOT,CAAP,EAAU;AACX,cAAO8G,OAAP;AACA;AACD;;AAED3F,WAAM,kBAAN,EAA0Bwc,GAA1B,EAA+BlL,CAA/B;AACA,YAAOA,CAAP;AACA;;AAED;;;;;;AAMAgR,YAAQrf,SAAR,CAAkB4gB,OAAlB,GAA4B,YAAY;AACvC,SAAI,KAAKiF,aAAT,EAAwB;AACvB,WAAKA,aAAL,CAAmBK,sBAAnB;AACA;AACD,KAJD;;AAMA;;;;;;;;;;AAUA,aAASH,mBAAT,CAA6B3kB,MAA7B,EAAqC;AACpC,UAAK4kB,SAAL,GAAiB5kB,MAAjB;AACA,UAAKiX,OAAL,GAAe,EAAf;AACA;;AAED;;;;;;;;;;AAUA0N,wBAAoB/lB,SAApB,CAA8BimB,cAA9B,GAA+C,UAAUE,OAAV,EAAmB;AACjE,UAAK9N,OAAL,CAAahU,IAAb,CAAkB8hB,OAAlB;AACA,SAAI,KAAK9N,OAAL,CAAa3b,MAAb,IAAuB,KAAKspB,SAAL,CAAenB,WAA1C,EAAuD;AAAE;AACxD,UAAIzjB,SAASkL,OAAOwY,iBAAP,CAAyB,KAAKkB,SAA9B,EAAyC,KAAK3N,OAA9C,CAAb;AACA,WAAK6N,sBAAL;AACA,aAAO9kB,MAAP;AACA;AACD,YAAO,IAAP;AACA,KARD;;AAUA;;;;;;AAMA2kB,wBAAoB/lB,SAApB,CAA8BkmB,sBAA9B,GAAuD,YAAY;AAClE,UAAKF,SAAL,GAAiB,IAAjB;AACA,UAAK3N,OAAL,GAAe,EAAf;AACA,KAHD;;AAKA,aAAS3V,KAAT,CAAeX,IAAf,EAAqB;AACpB,YAAO;AACND,YAAM3G,QAAQwoB,KADR;AAEN5hB,YAAM;AAFA,MAAP;AAIA;AAED,IA/YG,EA+YD;AACF,gBAAY,EADV;AAEF,mBAAe,EAFb;AAGF,yBAAqB,EAHnB;AAIF,aAAS,EAJP;AAKF,eAAW,EALT;AAMF,aAAS;AANP,IA/YC,CAh/LF;AAu4MF,OAAI,CAAC,UAAUpF,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;;AAElBL,YAAOD,OAAP,GAAiBmpB,KAAjB;;AAEA;;;;;;AAMA,cAASA,KAAT,CAAe5jB,GAAf,EAAoB;AACnB,aAAQjF,OAAOoR,MAAP,IAAiBpR,OAAOoR,MAAP,CAAcgM,QAAd,CAAuBnY,GAAvB,CAAlB,IACLjF,OAAOoS,WAAP,IAAsBnN,eAAemN,WADvC;AAEA;AAED,KAfD,EAeGpR,IAfH,CAeQ,IAfR,EAec,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAfrI;AAgBA,IAjBG,EAiBD,EAjBC,CAv4MF;AAy5MF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCiV,cAAU,CAAV,EAAa,EAAb,EAAiB,CAAjB,EAAoB5F,KAApB,CAA0BrP,OAA1B,EAAmCiV,SAAnC;AACA,IAFG,EAED;AACF,WAAO;AADL,IAFC,CAz5MF;AA85MF,OAAI,CAAC,UAAUzT,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxC,KAAC,UAAUM,MAAV,EAAkB;AAClB;AACA;AACA,MAAC,YAAY;AACZ;AACA;AACA,UAAI2qB,WAAW,OAAO/qB,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAAtD;;AAEA;AACA,UAAI+qB,cAAc;AACjB,mBAAY,IADK;AAEjB,iBAAU;AAFO,OAAlB;;AAKA;AACA,UAAIpL,cAAcoL,mBAAmBlrB,OAAnB,yCAAmBA,OAAnB,MAA+BA,OAA/B,IAA0C,CAACA,QAAQ2hB,QAAnD,IAA+D3hB,OAAjF;;AAEA;AACA;AACA;AACA;AACA,UAAI6f,OAAOqL,mBAAmB7qB,MAAnB,yCAAmBA,MAAnB,MAA8BA,MAA9B,IAAwC,IAAnD;AAAA,UACCkE,aAAaub,eAAeoL,mBAAmBjrB,MAAnB,yCAAmBA,MAAnB,EAAf,IAA6CA,MAA7C,IAAuD,CAACA,OAAO0hB,QAA/D,IAA2E,QAAOrhB,MAAP,yCAAOA,MAAP,MAAiB,QAA5F,IAAwGA,MADtH;;AAGA,UAAIiE,eAAeA,WAAW,QAAX,MAAyBA,UAAzB,IAAuCA,WAAW,QAAX,MAAyBA,UAAhE,IAA8EA,WAAW,MAAX,MAAuBA,UAApH,CAAJ,EAAqI;AACpIsb,cAAOtb,UAAP;AACA;;AAED;AACA;AACA,eAAS4mB,YAAT,CAAsBC,OAAtB,EAA+BprB,OAA/B,EAAwC;AACvCorB,mBAAYA,UAAUvL,KAAK,QAAL,GAAtB;AACA7f,mBAAYA,UAAU6f,KAAK,QAAL,GAAtB;;AAEA;AACA,WAAI7E,SAASoQ,QAAQ,QAAR,KAAqBvL,KAAK,QAAL,CAAlC;AAAA,WACC1Q,SAASic,QAAQ,QAAR,KAAqBvL,KAAK,QAAL,CAD/B;AAAA,WAECpb,SAAS2mB,QAAQ,QAAR,KAAqBvL,KAAK,QAAL,CAF/B;AAAA,WAGCtH,OAAO6S,QAAQ,MAAR,KAAmBvL,KAAK,MAAL,CAH3B;AAAA,WAICwL,cAAcD,QAAQ,aAAR,KAA0BvL,KAAK,aAAL,CAJzC;AAAA,WAKCyL,YAAYF,QAAQ,WAAR,KAAwBvL,KAAK,WAAL,CALrC;AAAA,WAMCtB,OAAO6M,QAAQ,MAAR,KAAmBvL,KAAK,MAAL,CAN3B;AAAA,WAOC0L,aAAaH,QAAQ,MAAR,KAAmBvL,KAAK,MAAL,CAPjC;;AASA;AACA,WAAI,QAAO0L,UAAP,yCAAOA,UAAP,MAAqB,QAArB,IAAiCA,UAArC,EAAiD;AAChDvrB,gBAAQ+W,SAAR,GAAoBwU,WAAWxU,SAA/B;AACA/W,gBAAQie,KAAR,GAAgBsN,WAAWtN,KAA3B;AACA;;AAED;AACA,WAAIuN,cAAc/mB,OAAOI,SAAzB;AAAA,WACC4mB,WAAWD,YAAYlP,QADxB;AAAA,WAECoP,WAFD;AAAA,WAEajP,QAFb;AAAA,WAEsBkP,KAFtB;;AAIA;AACA,WAAIC,aAAa,IAAIrT,IAAJ,CAAS,CAAC,gBAAV,CAAjB;AACA,WAAI;AACH;AACA;AACAqT,qBAAaA,WAAWC,cAAX,MAA+B,CAAC,MAAhC,IAA0CD,WAAWE,WAAX,OAA6B,CAAvE,IAA4EF,WAAWG,UAAX,OAA4B,CAAxG;AACZ;AACA;AACA;AACAH,mBAAWI,WAAX,MAA4B,EAJhB,IAIsBJ,WAAWK,aAAX,MAA8B,EAJpD,IAI0DL,WAAWM,aAAX,MAA8B,CAJxF,IAI6FN,WAAWO,kBAAX,MAAmC,GAJ7I;AAKA,QARD,CAQE,OAAO9V,SAAP,EAAkB,CAAE;;AAEtB;AACA;AACA,gBAASkH,GAAT,CAAavY,IAAb,EAAmB;AAClB,YAAIuY,IAAIvY,IAAJ,MAAc2mB,KAAlB,EAAyB;AACxB;AACA,gBAAOpO,IAAIvY,IAAJ,CAAP;AACA;AACD,YAAIonB,WAAJ;AACA,YAAIpnB,QAAQ,uBAAZ,EAAqC;AACpC;AACA;AACAonB,uBAAc,IAAK,CAAL,KAAW,GAAzB;AACA,SAJD,MAIO,IAAIpnB,QAAQ,MAAZ,EAAoB;AAC1B;AACA;AACAonB,uBAAc7O,IAAI,gBAAJ,KAAyBA,IAAI,YAAJ,CAAvC;AACA,SAJM,MAIA;AACN,aAAIjQ,KAAJ;AAAA,aAAW+e,aAAa,wDAAxB;AACA;AACA,aAAIrnB,QAAQ,gBAAZ,EAA8B;AAC7B,cAAI+R,YAAY/W,QAAQ+W,SAAxB;AAAA,cACCuV,qBAAqB,OAAOvV,SAAP,IAAoB,UAApB,IAAkC6U,UADxD;AAEA,cAAIU,kBAAJ,EAAwB;AACvB;AACA,YAAChf,QAAQ,iBAAY;AACpB,mBAAO,CAAP;AACA,YAFD,EAEGsQ,MAFH,GAEYtQ,KAFZ;AAGA,eAAI;AACHgf;AACC;AACA;AACAvV,sBAAU,CAAV,MAAiB,GAAjB;AACA;AACA;AACAA,sBAAU,IAAIiE,MAAJ,EAAV,MAA4B,GAH5B,IAIAjE,UAAU,IAAI5H,MAAJ,EAAV,KAA2B,IAJ3B;AAKA;AACA;AACA;AACA;AACA4H,sBAAU0U,QAAV,MAAwBE,KATxB;AAUA;AACA;AACA5U,sBAAU4U,KAAV,MAAqBA,KAZrB;AAaA;AACA;AACA5U,4BAAgB4U,KAfhB;AAgBA;AACA;AACA;AACA;AACA;AACA5U,sBAAUzJ,KAAV,MAAqB,GArBrB,IAsBAyJ,UAAU,CAACzJ,KAAD,CAAV,KAAsB,KAtBtB;AAuBA;AACA;AACAyJ,sBAAU,CAAC4U,KAAD,CAAV,KAAsB,QAzBtB;AA0BA;AACA5U,sBAAU,IAAV,KAAmB,MA3BnB;AA4BA;AACA;AACA;AACA;AACAA,sBAAU,CAAC4U,KAAD,EAAQF,QAAR,EAAkB,IAAlB,CAAV,KAAsC,kBAhCtC;AAiCA;AACA;AACA1U,sBAAU;AACT,kBAAK,CAACzJ,KAAD,EAAQ,IAAR,EAAc,KAAd,EAAqB,IAArB,EAA2B,gBAA3B;AADI,aAAV,KAEM+e,UArCN;AAsCA;AACAtV,sBAAU,IAAV,EAAgBzJ,KAAhB,MAA2B,GAvC3B,IAwCAyJ,UAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,IAAlB,EAAwB,CAAxB,KAA8B,eAxC9B;AAyCA;AACA;AACAA,sBAAU,IAAIwB,IAAJ,CAAS,CAAC,OAAV,CAAV,KAAiC,+BA3CjC;AA4CA;AACAxB,sBAAU,IAAIwB,IAAJ,CAAS,OAAT,CAAV,KAAgC,+BA7ChC;AA8CA;AACA;AACAxB,sBAAU,IAAIwB,IAAJ,CAAS,CAAC,WAAV,CAAV,KAAqC,+BAhDrC;AAiDA;AACA;AACAxB,sBAAU,IAAIwB,IAAJ,CAAS,CAAC,CAAV,CAAV,KAA2B,4BAtD5B;AAuDA,YAxDD,CAwDE,OAAOlC,SAAP,EAAkB;AACnBiW,iCAAqB,KAArB;AACA;AACD;AACDF,wBAAcE,kBAAd;AACA;AACD;AACA,aAAItnB,QAAQ,YAAZ,EAA0B;AACzB,cAAIiZ,QAAQje,QAAQie,KAApB;AACA,cAAI,OAAOA,KAAP,IAAgB,UAApB,EAAgC;AAC/B,eAAI;AACH;AACA;AACA;AACA,gBAAIA,MAAM,GAAN,MAAe,CAAf,IAAoB,CAACA,MAAM,KAAN,CAAzB,EAAuC;AACtC;AACA3Q,qBAAQ2Q,MAAMoO,UAAN,CAAR;AACA,iBAAIE,iBAAiBjf,MAAM,GAAN,EAAW/L,MAAX,IAAqB,CAArB,IAA0B+L,MAAM,GAAN,EAAW,CAAX,MAAkB,CAAjE;AACA,iBAAIif,cAAJ,EAAoB;AACnB,kBAAI;AACH;AACAA,gCAAiB,CAACtO,MAAM,MAAN,CAAlB;AACA,eAHD,CAGE,OAAO5H,SAAP,EAAkB,CAAE;AACtB,kBAAIkW,cAAJ,EAAoB;AACnB,mBAAI;AACH;AACA;AACA;AACAA,iCAAiBtO,MAAM,IAAN,MAAgB,CAAjC;AACA,gBALD,CAKE,OAAO5H,SAAP,EAAkB,CAAE;AACtB;AACD,kBAAIkW,cAAJ,EAAoB;AACnB,mBAAI;AACH;AACA;AACA;AACAA,iCAAiBtO,MAAM,IAAN,MAAgB,CAAjC;AACA,gBALD,CAKE,OAAO5H,SAAP,EAAkB,CAAE;AACtB;AACD;AACD;AACD,YA/BD,CA+BE,OAAOA,SAAP,EAAkB;AACnBkW,6BAAiB,KAAjB;AACA;AACD;AACDH,wBAAcG,cAAd;AACA;AACD;AACD,eAAOhP,IAAIvY,IAAJ,IAAY,CAAC,CAAConB,WAArB;AACA;;AAED,WAAI,CAAC7O,IAAI,MAAJ,CAAL,EAAkB;AACjB;AACA,YAAIiP,gBAAgB,mBAApB;AAAA,YACCC,YAAY,eADb;AAAA,YAECC,cAAc,iBAFf;AAAA,YAGCC,cAAc,iBAHf;AAAA,YAICC,aAAa,gBAJd;AAAA,YAKCC,eAAe,kBALhB;;AAOA;AACA,YAAIC,iBAAiBvP,IAAI,uBAAJ,CAArB;;AAEA;AACA,YAAI,CAACqO,UAAL,EAAiB;AAChB,aAAIlN,QAAQH,KAAKG,KAAjB;AACA;AACA;AACA,aAAIqO,SAAS,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,CAAb;AACA;AACA;AACA,aAAIC,SAAS,SAATA,MAAS,CAAUC,IAAV,EAAgBC,KAAhB,EAAuB;AACnC,iBAAOH,OAAOG,KAAP,IAAgB,OAAOD,OAAO,IAAd,CAAhB,GAAsCvO,MAAM,CAACuO,OAAO,IAAP,IAAeC,QAAQ,EAAEA,QAAQ,CAAV,CAAvB,CAAD,IAAyC,CAA/C,CAAtC,GAA0FxO,MAAM,CAACuO,OAAO,IAAP,GAAcC,KAAf,IAAwB,GAA9B,CAA1F,GAA+HxO,MAAM,CAACuO,OAAO,IAAP,GAAcC,KAAf,IAAwB,GAA9B,CAAtI;AACA,UAFD;AAGA;;AAED;AACA;AACA,YAAI,EAAExB,cAAaF,YAAYhmB,cAA3B,CAAJ,EAAgD;AAC/CkmB,uBAAa,oBAAUyB,QAAV,EAAoB;AAChC,cAAIC,UAAU,EAAd;AAAA,cACC7X,WADD;AAEA,cAAI,CAAC6X,QAAQC,SAAR,GAAoB,IAApB,EAA0BD,QAAQC,SAAR,GAAoB;AACjD;AACA;AACA,uBAAY;AAHqC,WAA9C,EAIDD,OAJA,EAIS9Q,QAJT,IAIqBmP,QAJzB,EAImC;AAClC;AACA;AACAC,yBAAa,oBAAUyB,QAAV,EAAoB;AAChC;AACA;AACA;AACA,gBAAIG,WAAW,KAAKD,SAApB;AAAA,gBACCjb,SAAS+a,aAAa,KAAKE,SAAL,GAAiB,IAAjB,EAAuB,IAApC,CADV;AAEA;AACA,iBAAKA,SAAL,GAAiBC,QAAjB;AACA,mBAAOlb,MAAP;AACA,YATD;AAUA,WAjBD,MAiBO;AACN;AACAmD,yBAAc6X,QAAQ7X,WAAtB;AACA;AACA;AACAmW,yBAAa,oBAAUyB,QAAV,EAAoB;AAChC,gBAAII,SAAS,CAAC,KAAKhY,WAAL,IAAoBA,WAArB,EAAkC1Q,SAA/C;AACA,mBAAOsoB,YAAY,IAAZ,IAAoB,EAAEA,YAAYI,MAAZ,IAAsB,KAAKJ,QAAL,MAAmBI,OAAOJ,QAAP,CAA3C,CAA3B;AACA,YAHD;AAIA;AACDC,oBAAU,IAAV;AACA,iBAAO1B,YAAWpqB,IAAX,CAAgB,IAAhB,EAAsB6rB,QAAtB,CAAP;AACA,UAhCD;AAiCA;;AAED;AACA;AACA1Q,mBAAU,iBAAUmF,MAAV,EAAkB1R,QAAlB,EAA4B;AACrC,aAAI2D,OAAO,CAAX;AAAA,aACC2Z,UADD;AAAA,aACaJ,OADb;AAAA,aACsBD,QADtB;;AAGA;AACA;AACA;AACA,UAACK,aAAa,sBAAY;AACzB,eAAKC,OAAL,GAAe,CAAf;AACA,UAFD,EAEG5oB,SAFH,CAEa4oB,OAFb,GAEuB,CAFvB;;AAIA;AACAL,mBAAU,IAAII,UAAJ,EAAV;AACA,cAAKL,QAAL,IAAiBC,OAAjB,EAA0B;AACzB;AACA,cAAI1B,YAAWpqB,IAAX,CAAgB8rB,OAAhB,EAAyBD,QAAzB,CAAJ,EAAwC;AACvCtZ;AACA;AACD;AACD2Z,sBAAaJ,UAAU,IAAvB;;AAEA;AACA,aAAI,CAACvZ,IAAL,EAAW;AACV;AACAuZ,oBAAU,CAAC,SAAD,EAAY,UAAZ,EAAwB,gBAAxB,EAA0C,sBAA1C,EAAkE,eAAlE,EAAmF,gBAAnF,EAAqG,aAArG,CAAV;AACA;AACA;AACA3Q,qBAAU,iBAAUmF,MAAV,EAAkB1R,QAAlB,EAA4B;AACrC,eAAIwd,aAAajC,SAASnqB,IAAT,CAAcsgB,MAAd,KAAyB4K,aAA1C;AAAA,eACCW,QADD;AAAA,eACW5rB,MADX;AAEA,eAAIosB,cAAc,CAACD,UAAD,IAAe,OAAO9L,OAAOrM,WAAd,IAA6B,UAA5C,IAA0D2V,oBAAmBtJ,OAAOpc,cAA1B,EAA1D,IAAuGoc,OAAOpc,cAA9G,IAAgIkmB,WAAlJ;AACA,gBAAKyB,QAAL,IAAiBvL,MAAjB,EAAyB;AACxB;AACA;AACA,gBAAI,EAAE8L,cAAcP,YAAY,WAA5B,KAA4CQ,YAAYrsB,IAAZ,CAAiBsgB,MAAjB,EAAyBuL,QAAzB,CAAhD,EAAoF;AACnFjd,sBAASid,QAAT;AACA;AACD;AACD;AACA,gBAAK5rB,SAAS6rB,QAAQ7rB,MAAtB,EAA8B4rB,WAAWC,QAAQ,EAAE7rB,MAAV,CAAzC,EAA4DosB,YAAYrsB,IAAZ,CAAiBsgB,MAAjB,EAAyBuL,QAAzB,KAAsCjd,SAASid,QAAT,CAAlG;AACA,WAbD;AAcA,UAnBD,MAmBO,IAAItZ,QAAQ,CAAZ,EAAe;AACrB;AACA4I,qBAAU,iBAAUmF,MAAV,EAAkB1R,QAAlB,EAA4B;AACrC;AACA,eAAIkd,UAAU,EAAd;AAAA,eACCM,aAAajC,SAASnqB,IAAT,CAAcsgB,MAAd,KAAyB4K,aADvC;AAAA,eAECW,QAFD;AAGA,gBAAKA,QAAL,IAAiBvL,MAAjB,EAAyB;AACxB;AACA;AACA;AACA,gBAAI,EAAE8L,cAAcP,YAAY,WAA5B,KAA4C,CAACzB,YAAWpqB,IAAX,CAAgB8rB,OAAhB,EAAyBD,QAAzB,CAA7C,KAAoFC,QAAQD,QAAR,IAAoB,CAAxG,KAA8GzB,YAAWpqB,IAAX,CAAgBsgB,MAAhB,EAAwBuL,QAAxB,CAAlH,EAAqJ;AACpJjd,sBAASid,QAAT;AACA;AACD;AACD,WAbD;AAcA,UAhBM,MAgBA;AACN;AACA1Q,qBAAU,iBAAUmF,MAAV,EAAkB1R,QAAlB,EAA4B;AACrC,eAAIwd,aAAajC,SAASnqB,IAAT,CAAcsgB,MAAd,KAAyB4K,aAA1C;AAAA,eACCW,QADD;AAAA,eACWS,aADX;AAEA,gBAAKT,QAAL,IAAiBvL,MAAjB,EAAyB;AACxB,gBAAI,EAAE8L,cAAcP,YAAY,WAA5B,KAA4CzB,YAAWpqB,IAAX,CAAgBsgB,MAAhB,EAAwBuL,QAAxB,CAA5C,IAAiF,EAAES,gBAAgBT,aAAa,aAA/B,CAArF,EAAoI;AACnIjd,sBAASid,QAAT;AACA;AACD;AACD;AACA;AACA,eAAIS,iBAAiBlC,YAAWpqB,IAAX,CAAgBsgB,MAAhB,EAAyBuL,WAAW,aAApC,CAArB,EAA0E;AACzEjd,qBAASid,QAAT;AACA;AACD,WAbD;AAcA;AACD,gBAAO1Q,SAAQmF,MAAR,EAAgB1R,QAAhB,CAAP;AACA,SA3ED;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI,CAACqN,IAAI,gBAAJ,CAAL,EAA4B;AAC3B;AACA,aAAIsQ,UAAU;AACb,cAAI,MADS;AAEb,cAAI,KAFS;AAGb,aAAG,KAHU;AAIb,cAAI,KAJS;AAKb,cAAI,KALS;AAMb,cAAI,KANS;AAOb,aAAG;AAPU,UAAd;;AAUA;AACA;AACA,aAAIC,gBAAgB,QAApB;AACA,aAAIC,iBAAiB,SAAjBA,cAAiB,CAAUC,KAAV,EAAiB1gB,KAAjB,EAAwB;AAC5C;AACA;AACA,iBAAO,CAACwgB,iBAAiBxgB,SAAS,CAA1B,CAAD,EAA+BmF,KAA/B,CAAqC,CAACub,KAAtC,CAAP;AACA,UAJD;;AAMA;AACA;AACA;AACA;AACA,aAAIC,gBAAgB,OAApB;AACA,aAAIC,QAAQ,SAARA,KAAQ,CAAU5gB,KAAV,EAAiB;AAC5B,cAAI8E,SAAS,GAAb;AAAA,cACCvQ,QAAQ,CADT;AAAA,cAECN,SAAS+L,MAAM/L,MAFhB;AAAA,cAGC4sB,eAAe,CAACrB,cAAD,IAAmBvrB,SAAS,EAH5C;AAIA,cAAI6sB,UAAUD,iBAAiBrB,iBAAiBxf,MAAM2B,KAAN,CAAY,EAAZ,CAAjB,GAAmC3B,KAApD,CAAd;AACA,iBAAOzL,QAAQN,MAAf,EAAuBM,OAAvB,EAAgC;AAC/B,eAAIwsB,WAAW/gB,MAAMuP,UAAN,CAAiBhb,KAAjB,CAAf;AACA;AACA;AACA,mBAAQwsB,QAAR;AACC,iBAAK,CAAL;AACA,iBAAK,CAAL;AACA,iBAAK,EAAL;AACA,iBAAK,EAAL;AACA,iBAAK,EAAL;AACA,iBAAK,EAAL;AACA,iBAAK,EAAL;AACCjc,uBAAUyb,QAAQQ,QAAR,CAAV;AACA;AACD;AACC,iBAAIA,WAAW,EAAf,EAAmB;AAClBjc,wBAAU6b,gBAAgBF,eAAe,CAAf,EAAkBM,SAAS/R,QAAT,CAAkB,EAAlB,CAAlB,CAA1B;AACA;AACA;AACDlK,uBAAU+b,eAAeC,QAAQvsB,KAAR,CAAf,GAAgCyL,MAAMwN,MAAN,CAAajZ,KAAb,CAA1C;AAfF;AAiBA;AACD,iBAAOuQ,SAAS,GAAhB;AACA,UA7BD;;AA+BA;AACA;AACA,aAAIkc,YAAY,SAAZA,SAAY,CAAUnB,QAAV,EAAoBvL,MAApB,EAA4B1R,QAA5B,EAAsCqe,UAAtC,EAAkDC,UAAlD,EAA8DC,WAA9D,EAA2EzV,KAA3E,EAAkF;AACjG,cAAI1L,KAAJ,EAAWZ,SAAX,EAAsBugB,IAAtB,EAA4BC,KAA5B,EAAmCwB,IAAnC,EAAyCC,IAAzC,EAA+CC,KAA/C,EAAsDC,OAAtD,EAA+DC,OAA/D,EAAwEC,YAAxE,EAAsFtT,OAAtF,EAA+FuT,OAA/F,EAAwGntB,KAAxG,EAA+GN,MAA/G,EAAuH0tB,MAAvH,EAA+H7c,MAA/H;AACA,cAAI;AACH;AACA9E,mBAAQsU,OAAOuL,QAAP,CAAR;AACA,WAHD,CAGE,OAAO9W,SAAP,EAAkB,CAAE;AACtB,cAAI,QAAO/I,KAAP,yCAAOA,KAAP,MAAgB,QAAhB,IAA4BA,KAAhC,EAAuC;AACtCZ,uBAAY+e,SAASnqB,IAAT,CAAcgM,KAAd,CAAZ;AACA,eAAIZ,aAAa+f,SAAb,IAA0B,CAACf,YAAWpqB,IAAX,CAAgBgM,KAAhB,EAAuB,QAAvB,CAA/B,EAAiE;AAChE,gBAAIA,QAAQ,CAAC,CAAD,GAAK,CAAb,IAAkBA,QAAQ,IAAI,CAAlC,EAAqC;AACpC;AACA;AACA;AACA,iBAAI0f,MAAJ,EAAY;AACX;AACA;AACA;AACA0B,qBAAOhQ,MAAMpR,QAAQ,KAAd,CAAP;AACA,mBAAK2f,OAAOvO,MAAMgQ,OAAO,QAAb,IAAyB,IAAzB,GAAgC,CAA5C,EAA+C1B,OAAOC,OAAO,CAAd,EAAiB,CAAjB,KAAuByB,IAAtE,EAA4EzB,MAA5E;AACA,mBAAKC,QAAQxO,MAAM,CAACgQ,OAAO1B,OAAOC,IAAP,EAAa,CAAb,CAAR,IAA2B,KAAjC,CAAb,EAAsDD,OAAOC,IAAP,EAAaC,QAAQ,CAArB,KAA2BwB,IAAjF,EAAuFxB,OAAvF;AACAwB,qBAAO,IAAIA,IAAJ,GAAW1B,OAAOC,IAAP,EAAaC,KAAb,CAAlB;AACA;AACA;AACA;AACA;AACAyB,qBAAO,CAACrhB,QAAQ,KAAR,GAAgB,KAAjB,IAA0B,KAAjC;AACA;AACA;AACAshB,sBAAQlQ,MAAMiQ,OAAO,IAAb,IAAqB,EAA7B;AACAE,wBAAUnQ,MAAMiQ,OAAO,GAAb,IAAoB,EAA9B;AACAG,wBAAUpQ,MAAMiQ,OAAO,GAAb,IAAoB,EAA9B;AACAI,6BAAeJ,OAAO,GAAtB;AACA,cAnBD,MAmBO;AACN1B,qBAAO3f,MAAMue,cAAN,EAAP;AACAqB,sBAAQ5f,MAAMwe,WAAN,EAAR;AACA4C,qBAAOphB,MAAMye,UAAN,EAAP;AACA6C,sBAAQthB,MAAM0e,WAAN,EAAR;AACA6C,wBAAUvhB,MAAM2e,aAAN,EAAV;AACA6C,wBAAUxhB,MAAM4e,aAAN,EAAV;AACA6C,6BAAezhB,MAAM6e,kBAAN,EAAf;AACA;AACD;AACA7e,qBAAQ,CAAC2f,QAAQ,CAAR,IAAaA,QAAQ,GAArB,GAA2B,CAACA,OAAO,CAAP,GAAW,GAAX,GAAiB,GAAlB,IAAyBc,eAAe,CAAf,EAAkBd,OAAO,CAAP,GAAW,CAACA,IAAZ,GAAmBA,IAArC,CAApD,GAAiGc,eAAe,CAAf,EAAkBd,IAAlB,CAAlG,IACP,GADO,GACDc,eAAe,CAAf,EAAkBb,QAAQ,CAA1B,CADC,GAC8B,GAD9B,GACoCa,eAAe,CAAf,EAAkBW,IAAlB,CADpC;AAEP;AACA;AACA,gBAJO,GAIDX,eAAe,CAAf,EAAkBa,KAAlB,CAJC,GAI0B,GAJ1B,GAIgCb,eAAe,CAAf,EAAkBc,OAAlB,CAJhC,GAI6D,GAJ7D,GAImEd,eAAe,CAAf,EAAkBe,OAAlB,CAJnE;AAKP;AACA,gBANO,GAMDf,eAAe,CAAf,EAAkBgB,YAAlB,CANC,GAMiC,GANzC;AAOA,aAxCD,MAwCO;AACNzhB,qBAAQ,IAAR;AACA;AACD,YA5CD,MA4CO,IAAI,OAAOA,MAAMsQ,MAAb,IAAuB,UAAvB,KAAuClR,aAAaggB,WAAb,IAA4BhgB,aAAaigB,WAAzC,IAAwDjgB,aAAakgB,UAAtE,IAAqFlB,YAAWpqB,IAAX,CAAgBgM,KAAhB,EAAuB,QAAvB,CAA3H,CAAJ,EAAkK;AACxK;AACA;AACA;AACA;AACAA,oBAAQA,MAAMsQ,MAAN,CAAauP,QAAb,CAAR;AACA;AACD;AACD,cAAIjd,QAAJ,EAAc;AACb;AACA;AACA5C,mBAAQ4C,SAAS5O,IAAT,CAAcsgB,MAAd,EAAsBuL,QAAtB,EAAgC7f,KAAhC,CAAR;AACA;AACD,cAAIA,UAAU,IAAd,EAAoB;AACnB,kBAAO,MAAP;AACA;AACDZ,sBAAY+e,SAASnqB,IAAT,CAAcgM,KAAd,CAAZ;AACA,cAAIZ,aAAamgB,YAAjB,EAA+B;AAC9B;AACA,kBAAO,KAAKvf,KAAZ;AACA,WAHD,MAGO,IAAIZ,aAAaggB,WAAjB,EAA8B;AACpC;AACA;AACA,kBAAOpf,QAAQ,CAAC,CAAD,GAAK,CAAb,IAAkBA,QAAQ,IAAI,CAA9B,GAAkC,KAAKA,KAAvC,GAA+C,MAAtD;AACA,WAJM,MAIA,IAAIZ,aAAaigB,WAAjB,EAA8B;AACpC;AACA,kBAAOuB,MAAM,KAAK5gB,KAAX,CAAP;AACA;AACD;AACA,cAAI,QAAOA,KAAP,yCAAOA,KAAP,MAAgB,QAApB,EAA8B;AAC7B;AACA;AACA,gBAAK/L,SAASyX,MAAMzX,MAApB,EAA4BA,QAA5B,GAAuC;AACtC,gBAAIyX,MAAMzX,MAAN,MAAkB+L,KAAtB,EAA6B;AAC5B;AACA,mBAAMge,WAAN;AACA;AACD;AACD;AACAtS,iBAAM9P,IAAN,CAAWoE,KAAX;AACAmO,qBAAU,EAAV;AACA;AACAwT,oBAASR,WAAT;AACAA,0BAAeD,UAAf;AACA,eAAI9hB,aAAakgB,UAAjB,EAA6B;AAC5B;AACA,iBAAK/qB,QAAQ,CAAR,EAAWN,SAAS+L,MAAM/L,MAA/B,EAAuCM,QAAQN,MAA/C,EAAuDM,OAAvD,EAAgE;AAC/DmtB,uBAAUV,UAAUzsB,KAAV,EAAiByL,KAAjB,EAAwB4C,QAAxB,EAAkCqe,UAAlC,EAA8CC,UAA9C,EAA0DC,WAA1D,EAAuEzV,KAAvE,CAAV;AACAyC,qBAAQvS,IAAR,CAAa8lB,YAAYrD,KAAZ,GAAoB,MAApB,GAA6BqD,OAA1C;AACA;AACD5c,qBAASqJ,QAAQla,MAAR,GAAkBitB,aAAa,QAAQC,WAAR,GAAsBhT,QAAQC,IAAR,CAAa,QAAQ+S,WAArB,CAAtB,GAA0D,IAA1D,GAAiEQ,MAAjE,GAA0E,GAAvF,GAA8F,MAAMxT,QAAQC,IAAR,CAAa,GAAb,CAAN,GAA0B,GAA1I,GAAkJ,IAA3J;AACA,YAPD,MAOO;AACN;AACA;AACA;AACAe,qBAAQ8R,cAAcjhB,KAAtB,EAA6B,UAAU6f,QAAV,EAAoB;AAChD,iBAAI6B,UAAUV,UAAUnB,QAAV,EAAoB7f,KAApB,EAA2B4C,QAA3B,EAAqCqe,UAArC,EAAiDC,UAAjD,EAA6DC,WAA7D,EAA0EzV,KAA1E,CAAd;AACA,iBAAIgW,YAAYrD,KAAhB,EAAuB;AACtB;AACA;AACA;AACA;AACA;AACA;AACAlQ,sBAAQvS,IAAR,CAAaglB,MAAMf,QAAN,IAAkB,GAAlB,IAAyBqB,aAAa,GAAb,GAAmB,EAA5C,IAAkDQ,OAA/D;AACA;AACD,aAXD;AAYA5c,qBAASqJ,QAAQla,MAAR,GAAkBitB,aAAa,QAAQC,WAAR,GAAsBhT,QAAQC,IAAR,CAAa,QAAQ+S,WAArB,CAAtB,GAA0D,IAA1D,GAAiEQ,MAAjE,GAA0E,GAAvF,GAA8F,MAAMxT,QAAQC,IAAR,CAAa,GAAb,CAAN,GAA0B,GAA1I,GAAkJ,IAA3J;AACA;AACD;AACA1C,iBAAM8O,GAAN;AACA,kBAAO1V,MAAP;AACA;AACD,UA7HD;;AA+HA;AACApS,iBAAQ+W,SAAR,GAAoB,UAAU2I,MAAV,EAAkBwP,MAAlB,EAA0BlB,KAA1B,EAAiC;AACpD,cAAIQ,UAAJ,EAAgBte,QAAhB,EAA0Bqe,UAA1B,EAAsC7hB,SAAtC;AACA,cAAIwe,mBAAmBgE,MAAnB,yCAAmBA,MAAnB,MAA8BA,MAAlC,EAA0C;AACzC,eAAI,CAACxiB,YAAY+e,SAASnqB,IAAT,CAAc4tB,MAAd,CAAb,KAAuC1C,aAA3C,EAA0D;AACzDtc,uBAAWgf,MAAX;AACA,YAFD,MAEO,IAAIxiB,aAAakgB,UAAjB,EAA6B;AACnC;AACA2B,yBAAa,EAAb;AACA,iBAAK,IAAI1sB,QAAQ,CAAZ,EAAeN,SAAS2tB,OAAO3tB,MAA/B,EAAuC+L,KAA5C,EAAmDzL,QAAQN,MAA3D,EAAmE+L,QAAQ4hB,OAAOrtB,OAAP,CAAR,EAAyB,CAAE6K,YAAY+e,SAASnqB,IAAT,CAAcgM,KAAd,CAAb,EAAoCZ,aAAaigB,WAAb,IAA4BjgB,aAAaggB,WAA9E,MAA+F6B,WAAWjhB,KAAX,IAAoB,CAAnH,CAA5F;AACA;AACD;AACD,cAAI0gB,KAAJ,EAAW;AACV,eAAI,CAACthB,YAAY+e,SAASnqB,IAAT,CAAc0sB,KAAd,CAAb,KAAsCtB,WAA1C,EAAuD;AACtD;AACA;AACA,gBAAI,CAACsB,SAASA,QAAQ,CAAlB,IAAuB,CAA3B,EAA8B;AAC7B,kBAAKQ,aAAa,EAAb,EAAiBR,QAAQ,EAAR,KAAeA,QAAQ,EAAvB,CAAtB,EAAkDQ,WAAWjtB,MAAX,GAAoBysB,KAAtE,EAA6EQ,cAAc,GAA3F;AACA;AACD,YAND,MAMO,IAAI9hB,aAAaigB,WAAjB,EAA8B;AACpC6B,yBAAaR,MAAMzsB,MAAN,IAAgB,EAAhB,GAAqBysB,KAArB,GAA6BA,MAAMvb,KAAN,CAAY,CAAZ,EAAe,EAAf,CAA1C;AACA;AACD;AACD;AACA;AACA;AACA,iBAAO6b,UAAU,EAAV,GAAehhB,QAAQ,EAAR,EAAYA,MAAM,EAAN,IAAYoS,MAAxB,EAAgCpS,KAA/C,GAAuD4C,QAAvD,EAAiEqe,UAAjE,EAA6EC,UAA7E,EAAyF,EAAzF,EAA6F,EAA7F,CAAP;AACA,UA1BD;AA2BA;;AAED;AACA,YAAI,CAACjR,IAAI,YAAJ,CAAL,EAAwB;AACvB,aAAInO,eAAeD,OAAOC,YAA1B;;AAEA;AACA;AACA,aAAI+f,YAAY;AACf,cAAI,IADW;AAEf,cAAI,GAFW;AAGf,cAAI,GAHW;AAIf,cAAI,IAJW;AAKf,eAAK,IALU;AAMf,eAAK,IANU;AAOf,eAAK,IAPU;AAQf,eAAK;AARU,UAAhB;;AAWA;AACA,aAAIC,KAAJ,EAAWC,MAAX;;AAEA;AACA,aAAIvgB,QAAQ,SAARA,KAAQ,GAAY;AACvBsgB,kBAAQC,SAAS,IAAjB;AACA,gBAAMhE,aAAN;AACA,UAHD;;AAKA;AACA;AACA;AACA,aAAIiE,MAAM,SAANA,GAAM,GAAY;AACrB,cAAI5P,SAAS2P,MAAb;AAAA,cACC9tB,SAASme,OAAOne,MADjB;AAAA,cAEC+L,KAFD;AAAA,cAEQiiB,KAFR;AAAA,cAEe3iB,QAFf;AAAA,cAEyB4iB,QAFzB;AAAA,cAEmCnB,QAFnC;AAGA,iBAAOe,QAAQ7tB,MAAf,EAAuB;AACtB8sB,sBAAW3O,OAAO7C,UAAP,CAAkBuS,KAAlB,CAAX;AACA,mBAAQf,QAAR;AACC,iBAAK,CAAL;AACA,iBAAK,EAAL;AACA,iBAAK,EAAL;AACA,iBAAK,EAAL;AACC;AACA;AACAe;AACA;AACD,iBAAK,GAAL;AACA,iBAAK,GAAL;AACA,iBAAK,EAAL;AACA,iBAAK,EAAL;AACA,iBAAK,EAAL;AACA,iBAAK,EAAL;AACC;AACA;AACA9hB,qBAAQwf,iBAAiBpN,OAAO5E,MAAP,CAAcsU,KAAd,CAAjB,GAAwC1P,OAAO0P,KAAP,CAAhD;AACAA;AACA,oBAAO9hB,KAAP;AACD,iBAAK,EAAL;AACC;AACA;AACA;AACA;AACA,kBAAKA,QAAQ,GAAR,EAAa8hB,OAAlB,EAA2BA,QAAQ7tB,MAAnC,GAA4C;AAC3C8sB,yBAAW3O,OAAO7C,UAAP,CAAkBuS,KAAlB,CAAX;AACA,kBAAIf,WAAW,EAAf,EAAmB;AAClB;AACA;AACAvf;AACA,eAJD,MAIO,IAAIuf,YAAY,EAAhB,EAAoB;AAC1B;AACA;AACA;AACAA,0BAAW3O,OAAO7C,UAAP,CAAkB,EAAEuS,KAApB,CAAX;AACA,uBAAQf,QAAR;AACC,qBAAK,EAAL;AACA,qBAAK,EAAL;AACA,qBAAK,EAAL;AACA,qBAAK,EAAL;AACA,qBAAK,GAAL;AACA,qBAAK,GAAL;AACA,qBAAK,GAAL;AACA,qBAAK,GAAL;AACC;AACA/gB,0BAAS6hB,UAAUd,QAAV,CAAT;AACAe;AACA;AACD,qBAAK,GAAL;AACC;AACA;AACA;AACAG,yBAAQ,EAAEH,KAAV;AACA,sBAAKxiB,WAAWwiB,QAAQ,CAAxB,EAA2BA,QAAQxiB,QAAnC,EAA6CwiB,OAA7C,EAAsD;AACrDf,6BAAW3O,OAAO7C,UAAP,CAAkBuS,KAAlB,CAAX;AACA;AACA;AACA,sBAAI,EAAEf,YAAY,EAAZ,IAAkBA,YAAY,EAA9B,IAAoCA,YAAY,EAAZ,IAAkBA,YAAY,GAAlE,IAAyEA,YAAY,EAAZ,IAAkBA,YAAY,EAAzG,CAAJ,EAAkH;AACjH;AACAvf;AACA;AACD;AACD;AACAxB,0BAAS8B,aAAa,OAAOsQ,OAAOjN,KAAP,CAAa8c,KAAb,EAAoBH,KAApB,CAApB,CAAT;AACA;AACD;AACC;AACAtgB;AAhCF;AAkCA,eAvCM,MAuCA;AACN,mBAAIuf,YAAY,EAAhB,EAAoB;AACnB;AACA;AACA;AACA;AACDA,0BAAW3O,OAAO7C,UAAP,CAAkBuS,KAAlB,CAAX;AACAG,uBAAQH,KAAR;AACA;AACA,sBAAOf,YAAY,EAAZ,IAAkBA,YAAY,EAA9B,IAAoCA,YAAY,EAAvD,EAA2D;AAC1DA,2BAAW3O,OAAO7C,UAAP,CAAkB,EAAEuS,KAApB,CAAX;AACA;AACD;AACA9hB,wBAASoS,OAAOjN,KAAP,CAAa8c,KAAb,EAAoBH,KAApB,CAAT;AACA;AACD;AACD,iBAAI1P,OAAO7C,UAAP,CAAkBuS,KAAlB,KAA4B,EAAhC,EAAoC;AACnC;AACAA;AACA,qBAAO9hB,KAAP;AACA;AACD;AACAwB;AACD;AACC;AACAygB,qBAAQH,KAAR;AACA;AACA,iBAAIf,YAAY,EAAhB,EAAoB;AACnBmB,yBAAW,IAAX;AACAnB,yBAAW3O,OAAO7C,UAAP,CAAkB,EAAEuS,KAApB,CAAX;AACA;AACD;AACA,iBAAIf,YAAY,EAAZ,IAAkBA,YAAY,EAAlC,EAAsC;AACrC;AACA,kBAAIA,YAAY,EAAZ,KAAoBA,WAAW3O,OAAO7C,UAAP,CAAkBuS,QAAQ,CAA1B,CAAZ,EAA2Cf,YAAY,EAAZ,IAAkBA,YAAY,EAA5F,CAAJ,EAAqG;AACpG;AACAvf;AACA;AACD0gB,yBAAW,KAAX;AACA;AACA,qBAAOJ,QAAQ7tB,MAAR,KAAoB8sB,WAAW3O,OAAO7C,UAAP,CAAkBuS,KAAlB,CAAZ,EAAuCf,YAAY,EAAZ,IAAkBA,YAAY,EAAxF,CAAP,EAAoGe,OAApG;AACA;AACA;AACA,kBAAI1P,OAAO7C,UAAP,CAAkBuS,KAAlB,KAA4B,EAAhC,EAAoC;AACnCxiB,0BAAW,EAAEwiB,KAAb;AACA;AACA,sBAAOxiB,WAAWrL,MAAX,KAAuB8sB,WAAW3O,OAAO7C,UAAP,CAAkBjQ,QAAlB,CAAZ,EAA0CyhB,YAAY,EAAZ,IAAkBA,YAAY,EAA9F,CAAP,EAA0GzhB,UAA1G;AACA,mBAAIA,YAAYwiB,KAAhB,EAAuB;AACtB;AACAtgB;AACA;AACDsgB,uBAAQxiB,QAAR;AACA;AACD;AACA;AACAyhB,yBAAW3O,OAAO7C,UAAP,CAAkBuS,KAAlB,CAAX;AACA,kBAAIf,YAAY,GAAZ,IAAmBA,YAAY,EAAnC,EAAuC;AACtCA,0BAAW3O,OAAO7C,UAAP,CAAkB,EAAEuS,KAApB,CAAX;AACA;AACA;AACA,mBAAIf,YAAY,EAAZ,IAAkBA,YAAY,EAAlC,EAAsC;AACrCe;AACA;AACD;AACA,oBAAKxiB,WAAWwiB,KAAhB,EAAuBxiB,WAAWrL,MAAX,KAAuB8sB,WAAW3O,OAAO7C,UAAP,CAAkBjQ,QAAlB,CAAZ,EAA0CyhB,YAAY,EAAZ,IAAkBA,YAAY,EAA9F,CAAvB,EAA0HzhB,UAA1H;AACA,mBAAIA,YAAYwiB,KAAhB,EAAuB;AACtB;AACAtgB;AACA;AACDsgB,uBAAQxiB,QAAR;AACA;AACD;AACA,qBAAO,CAAC8S,OAAOjN,KAAP,CAAa8c,KAAb,EAAoBH,KAApB,CAAR;AACA;AACD;AACA,iBAAII,QAAJ,EAAc;AACb1gB;AACA;AACD;AACA,iBAAI4Q,OAAOjN,KAAP,CAAa2c,KAAb,EAAoBA,QAAQ,CAA5B,KAAkC,MAAtC,EAA8C;AAC7CA,uBAAS,CAAT;AACA,qBAAO,IAAP;AACA,cAHD,MAGO,IAAI1P,OAAOjN,KAAP,CAAa2c,KAAb,EAAoBA,QAAQ,CAA5B,KAAkC,OAAtC,EAA+C;AACrDA,uBAAS,CAAT;AACA,qBAAO,KAAP;AACA,cAHM,MAGA,IAAI1P,OAAOjN,KAAP,CAAa2c,KAAb,EAAoBA,QAAQ,CAA5B,KAAkC,MAAtC,EAA8C;AACpDA,uBAAS,CAAT;AACA,qBAAO,IAAP;AACA;AACD;AACAtgB;AAhKF;AAkKA;AACD;AACA;AACA,iBAAO,GAAP;AACA,UA5KD;;AA8KA;AACA,aAAI2gB,MAAM,SAANA,GAAM,CAAUniB,KAAV,EAAiB;AAC1B,cAAImO,OAAJ,EAAaiU,UAAb;AACA,cAAIpiB,SAAS,GAAb,EAAkB;AACjB;AACAwB;AACA;AACD,cAAI,OAAOxB,KAAP,IAAgB,QAApB,EAA8B;AAC7B,eAAI,CAACwf,iBAAiBxf,MAAMwN,MAAN,CAAa,CAAb,CAAjB,GAAmCxN,MAAM,CAAN,CAApC,KAAiD,GAArD,EAA0D;AACzD;AACA,mBAAOA,MAAMmF,KAAN,CAAY,CAAZ,CAAP;AACA;AACD;AACA,eAAInF,SAAS,GAAb,EAAkB;AACjB;AACAmO,sBAAU,EAAV;AACA,oBAAQiU,eAAeA,aAAa,IAA5B,CAAR,EAA2C;AAC1CpiB,qBAAQgiB,KAAR;AACA;AACA,iBAAIhiB,SAAS,GAAb,EAAkB;AACjB;AACA;AACD;AACA;AACA;AACA,iBAAIoiB,UAAJ,EAAgB;AACf,kBAAIpiB,SAAS,GAAb,EAAkB;AACjBA,uBAAQgiB,KAAR;AACA,mBAAIhiB,SAAS,GAAb,EAAkB;AACjB;AACAwB;AACA;AACD,eAND,MAMO;AACN;AACAA;AACA;AACD;AACD;AACA,iBAAIxB,SAAS,GAAb,EAAkB;AACjBwB;AACA;AACD2M,qBAAQvS,IAAR,CAAaumB,IAAIniB,KAAJ,CAAb;AACA;AACD,mBAAOmO,OAAP;AACA,YA/BD,MA+BO,IAAInO,SAAS,GAAb,EAAkB;AACxB;AACAmO,sBAAU,EAAV;AACA,oBAAQiU,eAAeA,aAAa,IAA5B,CAAR,EAA2C;AAC1CpiB,qBAAQgiB,KAAR;AACA;AACA,iBAAIhiB,SAAS,GAAb,EAAkB;AACjB;AACA;AACD;AACA;AACA,iBAAIoiB,UAAJ,EAAgB;AACf,kBAAIpiB,SAAS,GAAb,EAAkB;AACjBA,uBAAQgiB,KAAR;AACA,mBAAIhiB,SAAS,GAAb,EAAkB;AACjB;AACAwB;AACA;AACD,eAND,MAMO;AACN;AACAA;AACA;AACD;AACD;AACA;AACA;AACA,iBAAIxB,SAAS,GAAT,IAAgB,OAAOA,KAAP,IAAgB,QAAhC,IAA4C,CAACwf,iBAAiBxf,MAAMwN,MAAN,CAAa,CAAb,CAAjB,GAAmCxN,MAAM,CAAN,CAApC,KAAiD,GAA7F,IAAoGgiB,SAAS,GAAjH,EAAsH;AACrHxgB;AACA;AACD2M,qBAAQnO,MAAMmF,KAAN,CAAY,CAAZ,CAAR,IAA0Bgd,IAAIH,KAAJ,CAA1B;AACA;AACD,mBAAO7T,OAAP;AACA;AACD;AACA3M;AACA;AACD,iBAAOxB,KAAP;AACA,UAhFD;;AAkFA;AACA,aAAIqiB,SAAS,SAATA,MAAS,CAAUjQ,MAAV,EAAkByN,QAAlB,EAA4Bjd,QAA5B,EAAsC;AAClD,cAAI8e,UAAUY,KAAKlQ,MAAL,EAAayN,QAAb,EAAuBjd,QAAvB,CAAd;AACA,cAAI8e,YAAYrD,KAAhB,EAAuB;AACtB,kBAAOjM,OAAOyN,QAAP,CAAP;AACA,WAFD,MAEO;AACNzN,kBAAOyN,QAAP,IAAmB6B,OAAnB;AACA;AACD,UAPD;;AASA;AACA;AACA;AACA,aAAIY,OAAO,SAAPA,IAAO,CAAUlQ,MAAV,EAAkByN,QAAlB,EAA4Bjd,QAA5B,EAAsC;AAChD,cAAI5C,QAAQoS,OAAOyN,QAAP,CAAZ;AAAA,cACC5rB,MADD;AAEA,cAAI,QAAO+L,KAAP,yCAAOA,KAAP,MAAgB,QAAhB,IAA4BA,KAAhC,EAAuC;AACtC;AACA;AACA;AACA,eAAIme,SAASnqB,IAAT,CAAcgM,KAAd,KAAwBsf,UAA5B,EAAwC;AACvC,iBAAKrrB,SAAS+L,MAAM/L,MAApB,EAA4BA,QAA5B,GAAuC;AACtCouB,oBAAOriB,KAAP,EAAc/L,MAAd,EAAsB2O,QAAtB;AACA;AACD,YAJD,MAIO;AACNuM,qBAAQnP,KAAR,EAAe,UAAU6f,QAAV,EAAoB;AAClCwC,oBAAOriB,KAAP,EAAc6f,QAAd,EAAwBjd,QAAxB;AACA,aAFD;AAGA;AACD;AACD,iBAAOA,SAAS5O,IAAT,CAAcoe,MAAd,EAAsByN,QAAtB,EAAgC7f,KAAhC,CAAP;AACA,UAlBD;;AAoBA;AACAtN,iBAAQie,KAAR,GAAgB,UAAUyB,MAAV,EAAkBxP,QAAlB,EAA4B;AAC3C,cAAIkC,MAAJ,EAAY9E,KAAZ;AACA8hB,kBAAQ,CAAR;AACAC,mBAAS,KAAK3P,MAAd;AACAtN,mBAASqd,IAAIH,KAAJ,CAAT;AACA;AACA,cAAIA,SAAS,GAAb,EAAkB;AACjBxgB;AACA;AACD;AACAsgB,kBAAQC,SAAS,IAAjB;AACA,iBAAOnf,YAAYub,SAASnqB,IAAT,CAAc4O,QAAd,KAA2Bsc,aAAvC,GAAuDoD,MAAMtiB,QAAQ,EAAR,EAAYA,MAAM,EAAN,IAAY8E,MAAxB,EAAgC9E,KAAtC,GAA8C,EAA9C,EAAkD4C,QAAlD,CAAvD,GAAqHkC,MAA5H;AACA,UAZD;AAaA;AACD;;AAEDpS,eAAQ,cAAR,IAA0BmrB,YAA1B;AACA,cAAOnrB,OAAP;AACA;;AAED,UAAI8f,eAAe,CAACmL,QAApB,EAA8B;AAC7B;AACAE,oBAAatL,IAAb,EAAmBC,WAAnB;AACA,OAHD,MAGO;AACN;AACA,WAAIyL,aAAa1L,KAAK/I,IAAtB;AAAA,WACC+Y,eAAehQ,KAAK,OAAL,CADhB;AAAA,WAECiQ,aAAa,KAFd;;AAIA,WAAIC,QAAQ5E,aAAatL,IAAb,EAAoBA,KAAK,OAAL,IAAgB;AAC/C;AACA;AACA,sBAAc,sBAAY;AACzB,aAAI,CAACiQ,UAAL,EAAiB;AAChBA,uBAAa,IAAb;AACAjQ,eAAK/I,IAAL,GAAYyU,UAAZ;AACA1L,eAAK,OAAL,IAAgBgQ,YAAhB;AACAtE,uBAAasE,eAAe,IAA5B;AACA;AACD,gBAAOE,KAAP;AACA;AAX8C,QAApC,CAAZ;;AAcAlQ,YAAK/I,IAAL,GAAY;AACX,iBAASiZ,MAAM9R,KADJ;AAEX,qBAAa8R,MAAMhZ;AAFR,QAAZ;AAIA;;AAED;AACA,UAAIkU,QAAJ,EAAc;AACb/qB,cAAO,YAAY;AAClB,eAAO6vB,KAAP;AACA,QAFD;AAGA;AACD,MAz6BD,EAy6BGzuB,IAz6BH,CAy6BQ,IAz6BR;AA26BA,KA96BD,EA86BGA,IA96BH,CA86BQ,IA96BR,EA86Bc,OAAOf,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EA96BrI;AA+6BA,IAh7BG,EAg7BD,EAh7BC,CA95MF;AA+0OF,OAAI,CAAC,UAAUkB,OAAV,EAAmBvB,MAAnB,EAA2BD,OAA3B,EAAoC;AACxCC,WAAOD,OAAP,GAAiBymB,OAAjB;;AAEA,aAASA,OAAT,CAAiBuJ,IAAjB,EAAuBnuB,KAAvB,EAA8B;AAC7B,SAAI0e,QAAQ,EAAZ;;AAEA1e,aAAQA,SAAS,CAAjB;;AAEA,UAAK,IAAIX,IAAIW,SAAS,CAAtB,EAAyBX,IAAI8uB,KAAKzuB,MAAlC,EAA0CL,GAA1C,EAA+C;AAC9Cqf,YAAMrf,IAAIW,KAAV,IAAmBmuB,KAAK9uB,CAAL,CAAnB;AACA;;AAED,YAAOqf,KAAP;AACA;AAED,IAfG,EAeD,EAfC;AA/0OF,GAvBI,EAs3OJ,EAt3OI,EAs3OA,CAAC,EAAD,CAt3OA,EAs3OM,EAt3ON,CAAP;AAu3OA,EA34OD;AA44OA",
  "file": "unknown",
  "sourcesContent": [
    "if (!CC_JSB && !cc.sys.isNative) {\n\t(function (f) {\n\t\tif (typeof exports === \"object\" && typeof module !== \"undefined\") {\n\t\t\tmodule.exports = f()\n\t\t} else if (typeof define === \"function\" && define.amd) {\n\t\t\tdefine([], f)\n\t\t} else {\n\t\t\tvar g;\n\t\t\tif (typeof window !== \"undefined\") {\n\t\t\t\tg = window\n\t\t\t} else if (typeof global !== \"undefined\") {\n\t\t\t\tg = global\n\t\t\t} else if (typeof self !== \"undefined\") {\n\t\t\t\tg = self\n\t\t\t} else {\n\t\t\t\tg = this\n\t\t\t}\n\t\t\tg.io = f()\n\t\t}\n\t})(function () {\n\t\tvar define, module, exports;\n\t\treturn (function e(t, n, r) {\n\t\t\tfunction s(o, u) {\n\t\t\t\tif (!n[o]) {\n\t\t\t\t\tif (!t[o]) {\n\t\t\t\t\t\tvar a = typeof require == \"function\" && require;\n\t\t\t\t\t\tif (!u && a) return a(o, !0);\n\t\t\t\t\t\tif (i) return i(o, !0);\n\t\t\t\t\t\tvar f = new Error(\"Cannot find module '\" + o + \"'\");\n\t\t\t\t\t\tthrow f.code = \"MODULE_NOT_FOUND\", f\n\t\t\t\t\t}\n\t\t\t\t\tvar l = n[o] = {\n\t\t\t\t\t\texports: {}\n\t\t\t\t\t};\n\t\t\t\t\tt[o][0].call(l.exports, function (e) {\n\t\t\t\t\t\tvar n = t[o][1][e];\n\t\t\t\t\t\treturn s(n ? n : e)\n\t\t\t\t\t}, l, l.exports, e, t, n, r)\n\t\t\t\t}\n\t\t\t\treturn n[o].exports\n\t\t\t}\n\t\t\tvar i = typeof require == \"function\" && require;\n\t\t\tfor (var o = 0; o < r.length; o++) s(r[o]);\n\t\t\treturn s\n\t\t})({\n\t\t\t1: [function (_dereq_, module, exports) {\n\n\t\t\t\tmodule.exports = _dereq_('./lib/');\n\n\t\t\t}, {\n\t\t\t\t\"./lib/\": 2\n\t\t\t}],\n\t\t\t2: [function (_dereq_, module, exports) {\n\n\t\t\t\tmodule.exports = _dereq_('./socket');\n\n\t\t\t\t/**\n\t\t\t\t * Exports parser\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t *\n\t\t\t\t */\n\t\t\t\tmodule.exports.parser = _dereq_('engine.io-parser');\n\n\t\t\t}, {\n\t\t\t\t\"./socket\": 3,\n\t\t\t\t\"engine.io-parser\": 19\n\t\t\t}],\n\t\t\t3: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/**\n\t\t\t\t\t * Module dependencies.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar transports = _dereq_('./transports');\n\t\t\t\t\tvar Emitter = _dereq_('component-emitter');\n\t\t\t\t\tvar debug = _dereq_('debug')('engine.io-client:socket');\n\t\t\t\t\tvar index = _dereq_('indexof');\n\t\t\t\t\tvar parser = _dereq_('engine.io-parser');\n\t\t\t\t\tvar parseuri = _dereq_('parseuri');\n\t\t\t\t\tvar parsejson = _dereq_('parsejson');\n\t\t\t\t\tvar parseqs = _dereq_('parseqs');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module exports.\n\t\t\t\t\t */\n\n\t\t\t\t\tmodule.exports = Socket;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Noop function.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction noop() {}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Socket constructor.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String|Object} uri or options\n\t\t\t\t\t * @param {Object} options\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction Socket(uri, opts) {\n\t\t\t\t\t\tif (!(this instanceof Socket)) return new Socket(uri, opts);\n\n\t\t\t\t\t\topts = opts || {};\n\n\t\t\t\t\t\tif (uri && 'object' == typeof uri) {\n\t\t\t\t\t\t\topts = uri;\n\t\t\t\t\t\t\turi = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (uri) {\n\t\t\t\t\t\t\turi = parseuri(uri);\n\t\t\t\t\t\t\topts.hostname = uri.host;\n\t\t\t\t\t\t\topts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\n\t\t\t\t\t\t\topts.port = uri.port;\n\t\t\t\t\t\t\tif (uri.query) opts.query = uri.query;\n\t\t\t\t\t\t} else if (opts.host) {\n\t\t\t\t\t\t\topts.hostname = parseuri(opts.host).host;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.secure = null != opts.secure ? opts.secure :\n\t\t\t\t\t\t\t(global.location && 'https:' == location.protocol);\n\n\t\t\t\t\t\tif (opts.hostname && !opts.port) {\n\t\t\t\t\t\t\t// if no port is specified manually, use the protocol default\n\t\t\t\t\t\t\topts.port = this.secure ? '443' : '80';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.agent = opts.agent || false;\n\t\t\t\t\t\tthis.hostname = opts.hostname ||\n\t\t\t\t\t\t\t(global.location ? location.hostname : 'localhost');\n\t\t\t\t\t\tthis.port = opts.port || (global.location && location.port ?\n\t\t\t\t\t\t\tlocation.port :\n\t\t\t\t\t\t\t(this.secure ? 443 : 80));\n\t\t\t\t\t\tthis.query = opts.query || {};\n\t\t\t\t\t\tif ('string' == typeof this.query) this.query = parseqs.decode(this.query);\n\t\t\t\t\t\tthis.upgrade = false !== opts.upgrade;\n\t\t\t\t\t\tthis.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n\t\t\t\t\t\tthis.forceJSONP = !!opts.forceJSONP;\n\t\t\t\t\t\tthis.jsonp = false !== opts.jsonp;\n\t\t\t\t\t\tthis.forceBase64 = !!opts.forceBase64;\n\t\t\t\t\t\tthis.enablesXDR = !!opts.enablesXDR;\n\t\t\t\t\t\tthis.timestampParam = opts.timestampParam || 't';\n\t\t\t\t\t\tthis.timestampRequests = opts.timestampRequests;\n\t\t\t\t\t\tthis.transports = opts.transports || ['polling', 'websocket'];\n\t\t\t\t\t\tthis.readyState = '';\n\t\t\t\t\t\tthis.writeBuffer = [];\n\t\t\t\t\t\tthis.policyPort = opts.policyPort || 843;\n\t\t\t\t\t\tthis.rememberUpgrade = opts.rememberUpgrade || false;\n\t\t\t\t\t\tthis.binaryType = null;\n\t\t\t\t\t\tthis.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n\t\t\t\t\t\tthis.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n\t\t\t\t\t\tif (true === this.perMessageDeflate) this.perMessageDeflate = {};\n\t\t\t\t\t\tif (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n\t\t\t\t\t\t\tthis.perMessageDeflate.threshold = 1024;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// SSL options for Node.js client\n\t\t\t\t\t\tthis.pfx = opts.pfx || null;\n\t\t\t\t\t\tthis.key = opts.key || null;\n\t\t\t\t\t\tthis.passphrase = opts.passphrase || null;\n\t\t\t\t\t\tthis.cert = opts.cert || null;\n\t\t\t\t\t\tthis.ca = opts.ca || null;\n\t\t\t\t\t\tthis.ciphers = opts.ciphers || null;\n\t\t\t\t\t\tthis.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n\n\t\t\t\t\t\t// other options for Node.js client\n\t\t\t\t\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\t\t\t\t\tif (freeGlobal.global === freeGlobal) {\n\t\t\t\t\t\t\tif (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n\t\t\t\t\t\t\t\tthis.extraHeaders = opts.extraHeaders;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.open();\n\t\t\t\t\t}\n\n\t\t\t\t\tSocket.priorWebsocketSuccess = false;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Mix in `Emitter`.\n\t\t\t\t\t */\n\n\t\t\t\t\tEmitter(Socket.prototype);\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Protocol version.\n\t\t\t\t\t *\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.protocol = parser.protocol; // this is an int\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Expose deps for legacy compatibility\n\t\t\t\t\t * and standalone browser access.\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.Socket = Socket;\n\t\t\t\t\tSocket.Transport = _dereq_('./transport');\n\t\t\t\t\tSocket.transports = _dereq_('./transports');\n\t\t\t\t\tSocket.parser = _dereq_('engine.io-parser');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Creates transport of the given type.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} transport name\n\t\t\t\t\t * @return {Transport}\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.createTransport = function (name) {\n\t\t\t\t\t\tdebug('creating transport \"%s\"', name);\n\t\t\t\t\t\tvar query = clone(this.query);\n\n\t\t\t\t\t\t// append engine.io protocol identifier\n\t\t\t\t\t\tquery.EIO = parser.protocol;\n\n\t\t\t\t\t\t// transport name\n\t\t\t\t\t\tquery.transport = name;\n\n\t\t\t\t\t\t// session id if we already have one\n\t\t\t\t\t\tif (this.id) query.sid = this.id;\n\n\t\t\t\t\t\tvar transport = new transports[name]({\n\t\t\t\t\t\t\tagent: this.agent,\n\t\t\t\t\t\t\thostname: this.hostname,\n\t\t\t\t\t\t\tport: this.port,\n\t\t\t\t\t\t\tsecure: this.secure,\n\t\t\t\t\t\t\tpath: this.path,\n\t\t\t\t\t\t\tquery: query,\n\t\t\t\t\t\t\tforceJSONP: this.forceJSONP,\n\t\t\t\t\t\t\tjsonp: this.jsonp,\n\t\t\t\t\t\t\tforceBase64: this.forceBase64,\n\t\t\t\t\t\t\tenablesXDR: this.enablesXDR,\n\t\t\t\t\t\t\ttimestampRequests: this.timestampRequests,\n\t\t\t\t\t\t\ttimestampParam: this.timestampParam,\n\t\t\t\t\t\t\tpolicyPort: this.policyPort,\n\t\t\t\t\t\t\tsocket: this,\n\t\t\t\t\t\t\tpfx: this.pfx,\n\t\t\t\t\t\t\tkey: this.key,\n\t\t\t\t\t\t\tpassphrase: this.passphrase,\n\t\t\t\t\t\t\tcert: this.cert,\n\t\t\t\t\t\t\tca: this.ca,\n\t\t\t\t\t\t\tciphers: this.ciphers,\n\t\t\t\t\t\t\trejectUnauthorized: this.rejectUnauthorized,\n\t\t\t\t\t\t\tperMessageDeflate: this.perMessageDeflate,\n\t\t\t\t\t\t\textraHeaders: this.extraHeaders\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn transport;\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction clone(obj) {\n\t\t\t\t\t\tvar o = {};\n\t\t\t\t\t\tfor (var i in obj) {\n\t\t\t\t\t\t\tif (obj.hasOwnProperty(i)) {\n\t\t\t\t\t\t\t\to[i] = obj[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn o;\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Initializes transport to use and starts probe.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\t\t\t\t\tSocket.prototype.open = function () {\n\t\t\t\t\t\tvar transport;\n\t\t\t\t\t\tif (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\n\t\t\t\t\t\t\ttransport = 'websocket';\n\t\t\t\t\t\t} else if (0 === this.transports.length) {\n\t\t\t\t\t\t\t// Emit error on next tick so it can be listened to\n\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tself.emit('error', 'No transports available');\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttransport = this.transports[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.readyState = 'opening';\n\n\t\t\t\t\t\t// Retry with the next transport if the transport is disabled (jsonp: false)\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\ttransport = this.createTransport(transport);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthis.transports.shift();\n\t\t\t\t\t\t\tthis.open();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttransport.open();\n\t\t\t\t\t\tthis.setTransport(transport);\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Sets the current transport. Disables the existing one (if any).\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.setTransport = function (transport) {\n\t\t\t\t\t\tdebug('setting transport %s', transport.name);\n\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\tif (this.transport) {\n\t\t\t\t\t\t\tdebug('clearing existing transport %s', this.transport.name);\n\t\t\t\t\t\t\tthis.transport.removeAllListeners();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// set up transport\n\t\t\t\t\t\tthis.transport = transport;\n\n\t\t\t\t\t\t// set up transport listeners\n\t\t\t\t\t\ttransport\n\t\t\t\t\t\t\t.on('drain', function () {\n\t\t\t\t\t\t\t\tself.onDrain();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('packet', function (packet) {\n\t\t\t\t\t\t\t\tself.onPacket(packet);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('error', function (e) {\n\t\t\t\t\t\t\t\tself.onError(e);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('close', function () {\n\t\t\t\t\t\t\t\tself.onClose('transport close');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Probes a transport.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} transport name\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.probe = function (name) {\n\t\t\t\t\t\tdebug('probing transport \"%s\"', name);\n\t\t\t\t\t\tvar transport = this.createTransport(name, {\n\t\t\t\t\t\t\t\tprobe: 1\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tfailed = false,\n\t\t\t\t\t\t\tself = this;\n\n\t\t\t\t\t\tSocket.priorWebsocketSuccess = false;\n\n\t\t\t\t\t\tfunction onTransportOpen() {\n\t\t\t\t\t\t\tif (self.onlyBinaryUpgrades) {\n\t\t\t\t\t\t\t\tvar upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n\t\t\t\t\t\t\t\tfailed = failed || upgradeLosesBinary;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (failed) return;\n\n\t\t\t\t\t\t\tdebug('probe transport \"%s\" opened', name);\n\t\t\t\t\t\t\ttransport.send([{\n\t\t\t\t\t\t\t\ttype: 'ping',\n\t\t\t\t\t\t\t\tdata: 'probe'\n\t\t\t\t\t\t\t}]);\n\t\t\t\t\t\t\ttransport.once('packet', function (msg) {\n\t\t\t\t\t\t\t\tif (failed) return;\n\t\t\t\t\t\t\t\tif ('pong' == msg.type && 'probe' == msg.data) {\n\t\t\t\t\t\t\t\t\tdebug('probe transport \"%s\" pong', name);\n\t\t\t\t\t\t\t\t\tself.upgrading = true;\n\t\t\t\t\t\t\t\t\tself.emit('upgrading', transport);\n\t\t\t\t\t\t\t\t\tif (!transport) return;\n\t\t\t\t\t\t\t\t\tSocket.priorWebsocketSuccess = 'websocket' == transport.name;\n\n\t\t\t\t\t\t\t\t\tdebug('pausing current transport \"%s\"', self.transport.name);\n\t\t\t\t\t\t\t\t\tself.transport.pause(function () {\n\t\t\t\t\t\t\t\t\t\tif (failed) return;\n\t\t\t\t\t\t\t\t\t\tif ('closed' == self.readyState) return;\n\t\t\t\t\t\t\t\t\t\tdebug('changing transport and sending upgrade packet');\n\n\t\t\t\t\t\t\t\t\t\tcleanup();\n\n\t\t\t\t\t\t\t\t\t\tself.setTransport(transport);\n\t\t\t\t\t\t\t\t\t\ttransport.send([{\n\t\t\t\t\t\t\t\t\t\t\ttype: 'upgrade'\n\t\t\t\t\t\t\t\t\t\t}]);\n\t\t\t\t\t\t\t\t\t\tself.emit('upgrade', transport);\n\t\t\t\t\t\t\t\t\t\ttransport = null;\n\t\t\t\t\t\t\t\t\t\tself.upgrading = false;\n\t\t\t\t\t\t\t\t\t\tself.flush();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdebug('probe transport \"%s\" failed', name);\n\t\t\t\t\t\t\t\t\tvar err = new Error('probe error');\n\t\t\t\t\t\t\t\t\terr.transport = transport.name;\n\t\t\t\t\t\t\t\t\tself.emit('upgradeError', err);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction freezeTransport() {\n\t\t\t\t\t\t\tif (failed) return;\n\n\t\t\t\t\t\t\t// Any callback called by transport should be ignored since now\n\t\t\t\t\t\t\tfailed = true;\n\n\t\t\t\t\t\t\tcleanup();\n\n\t\t\t\t\t\t\ttransport.close();\n\t\t\t\t\t\t\ttransport = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//Handle any error that happens while probing\n\t\t\t\t\t\tfunction onerror(err) {\n\t\t\t\t\t\t\tvar error = new Error('probe error: ' + err);\n\t\t\t\t\t\t\terror.transport = transport.name;\n\n\t\t\t\t\t\t\tfreezeTransport();\n\n\t\t\t\t\t\t\tdebug('probe transport \"%s\" failed because of error: %s', name, err);\n\n\t\t\t\t\t\t\tself.emit('upgradeError', error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction onTransportClose() {\n\t\t\t\t\t\t\tonerror(\"transport closed\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//When the socket is closed while we're probing\n\t\t\t\t\t\tfunction onclose() {\n\t\t\t\t\t\t\tonerror(\"socket closed\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//When the socket is upgraded while we're probing\n\t\t\t\t\t\tfunction onupgrade(to) {\n\t\t\t\t\t\t\tif (transport && to.name != transport.name) {\n\t\t\t\t\t\t\t\tdebug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n\t\t\t\t\t\t\t\tfreezeTransport();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//Remove all listeners on the transport and on self\n\t\t\t\t\t\tfunction cleanup() {\n\t\t\t\t\t\t\ttransport.removeListener('open', onTransportOpen);\n\t\t\t\t\t\t\ttransport.removeListener('error', onerror);\n\t\t\t\t\t\t\ttransport.removeListener('close', onTransportClose);\n\t\t\t\t\t\t\tself.removeListener('close', onclose);\n\t\t\t\t\t\t\tself.removeListener('upgrading', onupgrade);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttransport.once('open', onTransportOpen);\n\t\t\t\t\t\ttransport.once('error', onerror);\n\t\t\t\t\t\ttransport.once('close', onTransportClose);\n\n\t\t\t\t\t\tthis.once('close', onclose);\n\t\t\t\t\t\tthis.once('upgrading', onupgrade);\n\n\t\t\t\t\t\ttransport.open();\n\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called when connection is deemed open.\n\t\t\t\t\t *\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.onOpen = function () {\n\t\t\t\t\t\tdebug('socket open');\n\t\t\t\t\t\tthis.readyState = 'open';\n\t\t\t\t\t\tSocket.priorWebsocketSuccess = 'websocket' == this.transport.name;\n\t\t\t\t\t\tthis.emit('open');\n\t\t\t\t\t\tthis.flush();\n\n\t\t\t\t\t\t// we check for `readyState` in case an `open`\n\t\t\t\t\t\t// listener already closed the socket\n\t\t\t\t\t\tif ('open' == this.readyState && this.upgrade && this.transport.pause) {\n\t\t\t\t\t\t\tdebug('starting upgrade probes');\n\t\t\t\t\t\t\tfor (var i = 0, l = this.upgrades.length; i < l; i++) {\n\t\t\t\t\t\t\t\tthis.probe(this.upgrades[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Handles a packet.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.onPacket = function (packet) {\n\t\t\t\t\t\tif ('opening' == this.readyState || 'open' == this.readyState) {\n\t\t\t\t\t\t\tdebug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n\t\t\t\t\t\t\tthis.emit('packet', packet);\n\n\t\t\t\t\t\t\t// Socket is live - any packet counts\n\t\t\t\t\t\t\tthis.emit('heartbeat');\n\n\t\t\t\t\t\t\tswitch (packet.type) {\n\t\t\t\t\t\t\t\tcase 'open':\n\t\t\t\t\t\t\t\t\tthis.onHandshake(parsejson(packet.data));\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'pong':\n\t\t\t\t\t\t\t\t\tthis.setPing();\n\t\t\t\t\t\t\t\t\tthis.emit('pong');\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\t\t\tvar err = new Error('server error');\n\t\t\t\t\t\t\t\t\terr.code = packet.data;\n\t\t\t\t\t\t\t\t\tthis.onError(err);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'message':\n\t\t\t\t\t\t\t\t\tthis.emit('data', packet.data);\n\t\t\t\t\t\t\t\t\tthis.emit('message', packet.data);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdebug('packet received with socket readyState \"%s\"', this.readyState);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called upon handshake completion.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} handshake obj\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.onHandshake = function (data) {\n\t\t\t\t\t\tthis.emit('handshake', data);\n\t\t\t\t\t\tthis.id = data.sid;\n\t\t\t\t\t\tthis.transport.query.sid = data.sid;\n\t\t\t\t\t\tthis.upgrades = this.filterUpgrades(data.upgrades);\n\t\t\t\t\t\tthis.pingInterval = data.pingInterval;\n\t\t\t\t\t\tthis.pingTimeout = data.pingTimeout;\n\t\t\t\t\t\tthis.onOpen();\n\t\t\t\t\t\t// In case open handler closes socket\n\t\t\t\t\t\tif ('closed' == this.readyState) return;\n\t\t\t\t\t\tthis.setPing();\n\n\t\t\t\t\t\t// Prolong liveness of socket on heartbeat\n\t\t\t\t\t\tthis.removeListener('heartbeat', this.onHeartbeat);\n\t\t\t\t\t\tthis.on('heartbeat', this.onHeartbeat);\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Resets ping timeout.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.onHeartbeat = function (timeout) {\n\t\t\t\t\t\tclearTimeout(this.pingTimeoutTimer);\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tself.pingTimeoutTimer = setTimeout(function () {\n\t\t\t\t\t\t\tif ('closed' == self.readyState) return;\n\t\t\t\t\t\t\tself.onClose('ping timeout');\n\t\t\t\t\t\t}, timeout || (self.pingInterval + self.pingTimeout));\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Pings server every `this.pingInterval` and expects response\n\t\t\t\t\t * within `this.pingTimeout` or closes connection.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.setPing = function () {\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tclearTimeout(self.pingIntervalTimer);\n\t\t\t\t\t\tself.pingIntervalTimer = setTimeout(function () {\n\t\t\t\t\t\t\tdebug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n\t\t\t\t\t\t\tself.ping();\n\t\t\t\t\t\t\tself.onHeartbeat(self.pingTimeout);\n\t\t\t\t\t\t}, self.pingInterval);\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Sends a ping packet.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.ping = function () {\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tthis.sendPacket('ping', function () {\n\t\t\t\t\t\t\tself.emit('ping');\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called on `drain` event\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.onDrain = function () {\n\t\t\t\t\t\tthis.writeBuffer.splice(0, this.prevBufferLen);\n\n\t\t\t\t\t\t// setting prevBufferLen = 0 is very important\n\t\t\t\t\t\t// for example, when upgrading, upgrade packet is sent over,\n\t\t\t\t\t\t// and a nonzero prevBufferLen could cause problems on `drain`\n\t\t\t\t\t\tthis.prevBufferLen = 0;\n\n\t\t\t\t\t\tif (0 === this.writeBuffer.length) {\n\t\t\t\t\t\t\tthis.emit('drain');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.flush();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Flush write buffers.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.flush = function () {\n\t\t\t\t\t\tif ('closed' != this.readyState && this.transport.writable &&\n\t\t\t\t\t\t\t!this.upgrading && this.writeBuffer.length) {\n\t\t\t\t\t\t\tdebug('flushing %d packets in socket', this.writeBuffer.length);\n\t\t\t\t\t\t\tthis.transport.send(this.writeBuffer);\n\t\t\t\t\t\t\t// keep track of current length of writeBuffer\n\t\t\t\t\t\t\t// splice writeBuffer and callbackBuffer on `drain`\n\t\t\t\t\t\t\tthis.prevBufferLen = this.writeBuffer.length;\n\t\t\t\t\t\t\tthis.emit('flush');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Sends a message.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} message.\n\t\t\t\t\t * @param {Function} callback function.\n\t\t\t\t\t * @param {Object} options.\n\t\t\t\t\t * @return {Socket} for chaining.\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.write =\n\t\t\t\t\t\tSocket.prototype.send = function (msg, options, fn) {\n\t\t\t\t\t\t\tthis.sendPacket('message', msg, options, fn);\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Sends a packet.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} packet type.\n\t\t\t\t\t * @param {String} data.\n\t\t\t\t\t * @param {Object} options.\n\t\t\t\t\t * @param {Function} callback function.\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.sendPacket = function (type, data, options, fn) {\n\t\t\t\t\t\tif ('function' == typeof data) {\n\t\t\t\t\t\t\tfn = data;\n\t\t\t\t\t\t\tdata = undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ('function' == typeof options) {\n\t\t\t\t\t\t\tfn = options;\n\t\t\t\t\t\t\toptions = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ('closing' == this.readyState || 'closed' == this.readyState) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toptions = options || {};\n\t\t\t\t\t\toptions.compress = false !== options.compress;\n\n\t\t\t\t\t\tvar packet = {\n\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\toptions: options\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.emit('packetCreate', packet);\n\t\t\t\t\t\tthis.writeBuffer.push(packet);\n\t\t\t\t\t\tif (fn) this.once('flush', fn);\n\t\t\t\t\t\tthis.flush();\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Closes the connection.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.close = function () {\n\t\t\t\t\t\tif ('opening' == this.readyState || 'open' == this.readyState) {\n\t\t\t\t\t\t\tthis.readyState = 'closing';\n\n\t\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\t\tif (this.writeBuffer.length) {\n\t\t\t\t\t\t\t\tthis.once('drain', function () {\n\t\t\t\t\t\t\t\t\tif (this.upgrading) {\n\t\t\t\t\t\t\t\t\t\twaitForUpgrade();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (this.upgrading) {\n\t\t\t\t\t\t\t\twaitForUpgrade();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction close() {\n\t\t\t\t\t\t\tself.onClose('forced close');\n\t\t\t\t\t\t\tdebug('socket closing - telling transport to close');\n\t\t\t\t\t\t\tself.transport.close();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction cleanupAndClose() {\n\t\t\t\t\t\t\tself.removeListener('upgrade', cleanupAndClose);\n\t\t\t\t\t\t\tself.removeListener('upgradeError', cleanupAndClose);\n\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction waitForUpgrade() {\n\t\t\t\t\t\t\t// wait for upgrade to finish since we can't send packets while pausing a transport\n\t\t\t\t\t\t\tself.once('upgrade', cleanupAndClose);\n\t\t\t\t\t\t\tself.once('upgradeError', cleanupAndClose);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called upon transport error\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.onError = function (err) {\n\t\t\t\t\t\tdebug('socket error %j', err);\n\t\t\t\t\t\tSocket.priorWebsocketSuccess = false;\n\t\t\t\t\t\tthis.emit('error', err);\n\t\t\t\t\t\tthis.onClose('transport error', err);\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called upon transport close.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.onClose = function (reason, desc) {\n\t\t\t\t\t\tif ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\n\t\t\t\t\t\t\tdebug('socket close with reason: \"%s\"', reason);\n\t\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\t\t// clear timers\n\t\t\t\t\t\t\tclearTimeout(this.pingIntervalTimer);\n\t\t\t\t\t\t\tclearTimeout(this.pingTimeoutTimer);\n\n\t\t\t\t\t\t\t// stop event from firing again for transport\n\t\t\t\t\t\t\tthis.transport.removeAllListeners('close');\n\n\t\t\t\t\t\t\t// ensure transport won't stay open\n\t\t\t\t\t\t\tthis.transport.close();\n\n\t\t\t\t\t\t\t// ignore further transport communication\n\t\t\t\t\t\t\tthis.transport.removeAllListeners();\n\n\t\t\t\t\t\t\t// set ready state\n\t\t\t\t\t\t\tthis.readyState = 'closed';\n\n\t\t\t\t\t\t\t// clear session id\n\t\t\t\t\t\t\tthis.id = null;\n\n\t\t\t\t\t\t\t// emit close event\n\t\t\t\t\t\t\tthis.emit('close', reason, desc);\n\n\t\t\t\t\t\t\t// clean buffers after, so users can still\n\t\t\t\t\t\t\t// grab the buffers on `close` event\n\t\t\t\t\t\t\tself.writeBuffer = [];\n\t\t\t\t\t\t\tself.prevBufferLen = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Filters upgrades, returning only those matching client transports.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Array} server upgrades\n\t\t\t\t\t * @api private\n\t\t\t\t\t *\n\t\t\t\t\t */\n\n\t\t\t\t\tSocket.prototype.filterUpgrades = function (upgrades) {\n\t\t\t\t\t\tvar filteredUpgrades = [];\n\t\t\t\t\t\tfor (var i = 0, j = upgrades.length; i < j; i++) {\n\t\t\t\t\t\t\tif (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn filteredUpgrades;\n\t\t\t\t\t};\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"./transport\": 4,\n\t\t\t\t\"./transports\": 5,\n\t\t\t\t\"component-emitter\": 15,\n\t\t\t\t\"debug\": 17,\n\t\t\t\t\"engine.io-parser\": 19,\n\t\t\t\t\"indexof\": 23,\n\t\t\t\t\"parsejson\": 26,\n\t\t\t\t\"parseqs\": 27,\n\t\t\t\t\"parseuri\": 28\n\t\t\t}],\n\t\t\t4: [function (_dereq_, module, exports) {\n\t\t\t\t/**\n\t\t\t\t * Module dependencies.\n\t\t\t\t */\n\n\t\t\t\tvar parser = _dereq_('engine.io-parser');\n\t\t\t\tvar Emitter = _dereq_('component-emitter');\n\n\t\t\t\t/**\n\t\t\t\t * Module exports.\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = Transport;\n\n\t\t\t\t/**\n\t\t\t\t * Transport abstract constructor.\n\t\t\t\t *\n\t\t\t\t * @param {Object} options.\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction Transport(opts) {\n\t\t\t\t\tthis.path = opts.path;\n\t\t\t\t\tthis.hostname = opts.hostname;\n\t\t\t\t\tthis.port = opts.port;\n\t\t\t\t\tthis.secure = opts.secure;\n\t\t\t\t\tthis.query = opts.query;\n\t\t\t\t\tthis.timestampParam = opts.timestampParam;\n\t\t\t\t\tthis.timestampRequests = opts.timestampRequests;\n\t\t\t\t\tthis.readyState = '';\n\t\t\t\t\tthis.agent = opts.agent || false;\n\t\t\t\t\tthis.socket = opts.socket;\n\t\t\t\t\tthis.enablesXDR = opts.enablesXDR;\n\n\t\t\t\t\t// SSL options for Node.js client\n\t\t\t\t\tthis.pfx = opts.pfx;\n\t\t\t\t\tthis.key = opts.key;\n\t\t\t\t\tthis.passphrase = opts.passphrase;\n\t\t\t\t\tthis.cert = opts.cert;\n\t\t\t\t\tthis.ca = opts.ca;\n\t\t\t\t\tthis.ciphers = opts.ciphers;\n\t\t\t\t\tthis.rejectUnauthorized = opts.rejectUnauthorized;\n\n\t\t\t\t\t// other options for Node.js client\n\t\t\t\t\tthis.extraHeaders = opts.extraHeaders;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Mix in `Emitter`.\n\t\t\t\t */\n\n\t\t\t\tEmitter(Transport.prototype);\n\n\t\t\t\t/**\n\t\t\t\t * Emits an error.\n\t\t\t\t *\n\t\t\t\t * @param {String} str\n\t\t\t\t * @return {Transport} for chaining\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tTransport.prototype.onError = function (msg, desc) {\n\t\t\t\t\tvar err = new Error(msg);\n\t\t\t\t\terr.type = 'TransportError';\n\t\t\t\t\terr.description = desc;\n\t\t\t\t\tthis.emit('error', err);\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Opens the transport.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tTransport.prototype.open = function () {\n\t\t\t\t\tif ('closed' == this.readyState || '' == this.readyState) {\n\t\t\t\t\t\tthis.readyState = 'opening';\n\t\t\t\t\t\tthis.doOpen();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Closes the transport.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tTransport.prototype.close = function () {\n\t\t\t\t\tif ('opening' == this.readyState || 'open' == this.readyState) {\n\t\t\t\t\t\tthis.doClose();\n\t\t\t\t\t\tthis.onClose();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Sends multiple packets.\n\t\t\t\t *\n\t\t\t\t * @param {Array} packets\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tTransport.prototype.send = function (packets) {\n\t\t\t\t\tif ('open' == this.readyState) {\n\t\t\t\t\t\tthis.write(packets);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('Transport not open');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon open\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tTransport.prototype.onOpen = function () {\n\t\t\t\t\tthis.readyState = 'open';\n\t\t\t\t\tthis.writable = true;\n\t\t\t\t\tthis.emit('open');\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called with data.\n\t\t\t\t *\n\t\t\t\t * @param {String} data\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tTransport.prototype.onData = function (data) {\n\t\t\t\t\tvar packet = parser.decodePacket(data, this.socket.binaryType);\n\t\t\t\t\tthis.onPacket(packet);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called with a decoded packet.\n\t\t\t\t */\n\n\t\t\t\tTransport.prototype.onPacket = function (packet) {\n\t\t\t\t\tthis.emit('packet', packet);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon close.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tTransport.prototype.onClose = function () {\n\t\t\t\t\tthis.readyState = 'closed';\n\t\t\t\t\tthis.emit('close');\n\t\t\t\t};\n\n\t\t\t}, {\n\t\t\t\t\"component-emitter\": 15,\n\t\t\t\t\"engine.io-parser\": 19\n\t\t\t}],\n\t\t\t5: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/**\n\t\t\t\t\t * Module dependencies\n\t\t\t\t\t */\n\n\t\t\t\t\tvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\n\t\t\t\t\tvar XHR = _dereq_('./polling-xhr');\n\t\t\t\t\tvar JSONP = _dereq_('./polling-jsonp');\n\t\t\t\t\tvar websocket = _dereq_('./websocket');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Export transports.\n\t\t\t\t\t */\n\n\t\t\t\t\texports.polling = polling;\n\t\t\t\t\texports.websocket = websocket;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Polling transport polymorphic constructor.\n\t\t\t\t\t * Decides on xhr vs jsonp based on feature detection.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction polling(opts) {\n\t\t\t\t\t\tvar xhr;\n\t\t\t\t\t\tvar xd = false;\n\t\t\t\t\t\tvar xs = false;\n\t\t\t\t\t\tvar jsonp = false !== opts.jsonp;\n\n\t\t\t\t\t\tif (global.location) {\n\t\t\t\t\t\t\tvar isSSL = 'https:' == location.protocol;\n\t\t\t\t\t\t\tvar port = location.port;\n\n\t\t\t\t\t\t\t// some user agents have empty `location.port`\n\t\t\t\t\t\t\tif (!port) {\n\t\t\t\t\t\t\t\tport = isSSL ? 443 : 80;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\txd = opts.hostname != location.hostname || port != opts.port;\n\t\t\t\t\t\t\txs = opts.secure != isSSL;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\topts.xdomain = xd;\n\t\t\t\t\t\topts.xscheme = xs;\n\t\t\t\t\t\txhr = new XMLHttpRequest(opts);\n\n\t\t\t\t\t\tif ('open' in xhr && !opts.forceJSONP) {\n\t\t\t\t\t\t\treturn new XHR(opts);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (!jsonp) throw new Error('JSONP disabled');\n\t\t\t\t\t\t\treturn new JSONP(opts);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"./polling-jsonp\": 6,\n\t\t\t\t\"./polling-xhr\": 7,\n\t\t\t\t\"./websocket\": 9,\n\t\t\t\t\"xmlhttprequest-ssl\": 10\n\t\t\t}],\n\t\t\t6: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module requirements.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar Polling = _dereq_('./polling');\n\t\t\t\t\tvar inherit = _dereq_('component-inherit');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module exports.\n\t\t\t\t\t */\n\n\t\t\t\t\tmodule.exports = JSONPPolling;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Cached regular expressions.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar rNewline = /\\n/g;\n\t\t\t\t\tvar rEscapedNewline = /\\\\n/g;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Global JSONP callbacks.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar callbacks;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Callbacks count.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar index = 0;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Noop.\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction empty() {}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * JSONP Polling constructor.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} opts.\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction JSONPPolling(opts) {\n\t\t\t\t\t\tPolling.call(this, opts);\n\n\t\t\t\t\t\tthis.query = this.query || {};\n\n\t\t\t\t\t\t// define global callbacks array if not present\n\t\t\t\t\t\t// we do this here (lazily) to avoid unneeded global pollution\n\t\t\t\t\t\tif (!callbacks) {\n\t\t\t\t\t\t\t// we need to consider multiple engines in the same page\n\t\t\t\t\t\t\tif (!global.___eio) global.___eio = [];\n\t\t\t\t\t\t\tcallbacks = global.___eio;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// callback identifier\n\t\t\t\t\t\tthis.index = callbacks.length;\n\n\t\t\t\t\t\t// add callback to jsonp global\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tcallbacks.push(function (msg) {\n\t\t\t\t\t\t\tself.onData(msg);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// append to query string\n\t\t\t\t\t\tthis.query.j = this.index;\n\n\t\t\t\t\t\t// prevent spurious errors from being emitted when the window is unloaded\n\t\t\t\t\t\tif (global.document && global.addEventListener) {\n\t\t\t\t\t\t\tglobal.addEventListener('beforeunload', function () {\n\t\t\t\t\t\t\t\tif (self.script) self.script.onerror = empty;\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inherits from Polling.\n\t\t\t\t\t */\n\n\t\t\t\t\tinherit(JSONPPolling, Polling);\n\n\t\t\t\t\t/*\n\t\t\t\t\t * JSONP only supports binary as base64 encoded strings\n\t\t\t\t\t */\n\n\t\t\t\t\tJSONPPolling.prototype.supportsBinary = false;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Closes the socket.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tJSONPPolling.prototype.doClose = function () {\n\t\t\t\t\t\tif (this.script) {\n\t\t\t\t\t\t\tthis.script.parentNode.removeChild(this.script);\n\t\t\t\t\t\t\tthis.script = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.form) {\n\t\t\t\t\t\t\tthis.form.parentNode.removeChild(this.form);\n\t\t\t\t\t\t\tthis.form = null;\n\t\t\t\t\t\t\tthis.iframe = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tPolling.prototype.doClose.call(this);\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Starts a poll cycle.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tJSONPPolling.prototype.doPoll = function () {\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tvar script = document.createElement('script');\n\n\t\t\t\t\t\tif (this.script) {\n\t\t\t\t\t\t\tthis.script.parentNode.removeChild(this.script);\n\t\t\t\t\t\t\tthis.script = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tscript.async = true;\n\t\t\t\t\t\tscript.src = this.uri();\n\t\t\t\t\t\tscript.onerror = function (e) {\n\t\t\t\t\t\t\tself.onError('jsonp poll error', e);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar insertAt = document.getElementsByTagName('script')[0];\n\t\t\t\t\t\tif (insertAt) {\n\t\t\t\t\t\t\tinsertAt.parentNode.insertBefore(script, insertAt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t(document.head || document.body).appendChild(script);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.script = script;\n\n\t\t\t\t\t\tvar isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\n\n\t\t\t\t\t\tif (isUAgecko) {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar iframe = document.createElement('iframe');\n\t\t\t\t\t\t\t\tdocument.body.appendChild(iframe);\n\t\t\t\t\t\t\t\tdocument.body.removeChild(iframe);\n\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Writes with a hidden iframe.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} data to send\n\t\t\t\t\t * @param {Function} called upon flush.\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tJSONPPolling.prototype.doWrite = function (data, fn) {\n\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\tif (!this.form) {\n\t\t\t\t\t\t\tvar form = document.createElement('form');\n\t\t\t\t\t\t\tvar area = document.createElement('textarea');\n\t\t\t\t\t\t\tvar id = this.iframeId = 'eio_iframe_' + this.index;\n\t\t\t\t\t\t\tvar iframe;\n\n\t\t\t\t\t\t\tform.className = 'socketio';\n\t\t\t\t\t\t\tform.style.position = 'absolute';\n\t\t\t\t\t\t\tform.style.top = '-1000px';\n\t\t\t\t\t\t\tform.style.left = '-1000px';\n\t\t\t\t\t\t\tform.target = id;\n\t\t\t\t\t\t\tform.method = 'POST';\n\t\t\t\t\t\t\tform.setAttribute('accept-charset', 'utf-8');\n\t\t\t\t\t\t\tarea.name = 'd';\n\t\t\t\t\t\t\tform.appendChild(area);\n\t\t\t\t\t\t\tdocument.body.appendChild(form);\n\n\t\t\t\t\t\t\tthis.form = form;\n\t\t\t\t\t\t\tthis.area = area;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.form.action = this.uri();\n\n\t\t\t\t\t\tfunction complete() {\n\t\t\t\t\t\t\tinitIframe();\n\t\t\t\t\t\t\tfn();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction initIframe() {\n\t\t\t\t\t\t\tif (self.iframe) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tself.form.removeChild(self.iframe);\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tself.onError('jsonp polling iframe removal error', e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n\t\t\t\t\t\t\t\tvar html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n\t\t\t\t\t\t\t\tiframe = document.createElement(html);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tiframe = document.createElement('iframe');\n\t\t\t\t\t\t\t\tiframe.name = self.iframeId;\n\t\t\t\t\t\t\t\tiframe.src = 'javascript:0';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tiframe.id = self.iframeId;\n\n\t\t\t\t\t\t\tself.form.appendChild(iframe);\n\t\t\t\t\t\t\tself.iframe = iframe;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tinitIframe();\n\n\t\t\t\t\t\t// escape \\n to prevent it from being converted into \\r\\n by some UAs\n\t\t\t\t\t\t// double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n\t\t\t\t\t\tdata = data.replace(rEscapedNewline, '\\\\\\n');\n\t\t\t\t\t\tthis.area.value = data.replace(rNewline, '\\\\n');\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tthis.form.submit();\n\t\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\t\tif (this.iframe.attachEvent) {\n\t\t\t\t\t\t\tthis.iframe.onreadystatechange = function () {\n\t\t\t\t\t\t\t\tif (self.iframe.readyState == 'complete') {\n\t\t\t\t\t\t\t\t\tcomplete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.iframe.onload = complete;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"./polling\": 8,\n\t\t\t\t\"component-inherit\": 16\n\t\t\t}],\n\t\t\t7: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/**\n\t\t\t\t\t * Module requirements.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\n\t\t\t\t\tvar Polling = _dereq_('./polling');\n\t\t\t\t\tvar Emitter = _dereq_('component-emitter');\n\t\t\t\t\tvar inherit = _dereq_('component-inherit');\n\t\t\t\t\tvar debug = _dereq_('debug')('engine.io-client:polling-xhr');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module exports.\n\t\t\t\t\t */\n\n\t\t\t\t\tmodule.exports = XHR;\n\t\t\t\t\tmodule.exports.Request = Request;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Empty function\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction empty() {}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * XHR Polling constructor.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} opts\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction XHR(opts) {\n\t\t\t\t\t\tPolling.call(this, opts);\n\n\t\t\t\t\t\tif (global.location) {\n\t\t\t\t\t\t\tvar isSSL = 'https:' == location.protocol;\n\t\t\t\t\t\t\tvar port = location.port;\n\n\t\t\t\t\t\t\t// some user agents have empty `location.port`\n\t\t\t\t\t\t\tif (!port) {\n\t\t\t\t\t\t\t\tport = isSSL ? 443 : 80;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.xd = opts.hostname != global.location.hostname ||\n\t\t\t\t\t\t\t\tport != opts.port;\n\t\t\t\t\t\t\tthis.xs = opts.secure != isSSL;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.extraHeaders = opts.extraHeaders;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inherits from Polling.\n\t\t\t\t\t */\n\n\t\t\t\t\tinherit(XHR, Polling);\n\n\t\t\t\t\t/**\n\t\t\t\t\t * XHR supports binary\n\t\t\t\t\t */\n\n\t\t\t\t\tXHR.prototype.supportsBinary = true;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Creates a request.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} method\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tXHR.prototype.request = function (opts) {\n\t\t\t\t\t\topts = opts || {};\n\t\t\t\t\t\topts.uri = this.uri();\n\t\t\t\t\t\topts.xd = this.xd;\n\t\t\t\t\t\topts.xs = this.xs;\n\t\t\t\t\t\topts.agent = this.agent || false;\n\t\t\t\t\t\topts.supportsBinary = this.supportsBinary;\n\t\t\t\t\t\topts.enablesXDR = this.enablesXDR;\n\n\t\t\t\t\t\t// SSL options for Node.js client\n\t\t\t\t\t\topts.pfx = this.pfx;\n\t\t\t\t\t\topts.key = this.key;\n\t\t\t\t\t\topts.passphrase = this.passphrase;\n\t\t\t\t\t\topts.cert = this.cert;\n\t\t\t\t\t\topts.ca = this.ca;\n\t\t\t\t\t\topts.ciphers = this.ciphers;\n\t\t\t\t\t\topts.rejectUnauthorized = this.rejectUnauthorized;\n\n\t\t\t\t\t\t// other options for Node.js client\n\t\t\t\t\t\topts.extraHeaders = this.extraHeaders;\n\n\t\t\t\t\t\treturn new Request(opts);\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Sends data.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} data to send.\n\t\t\t\t\t * @param {Function} called upon flush.\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tXHR.prototype.doWrite = function (data, fn) {\n\t\t\t\t\t\tvar isBinary = typeof data !== 'string' && data !== undefined;\n\t\t\t\t\t\tvar req = this.request({\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\tisBinary: isBinary\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\treq.on('success', fn);\n\t\t\t\t\t\treq.on('error', function (err) {\n\t\t\t\t\t\t\tself.onError('xhr post error', err);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.sendXhr = req;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Starts a poll cycle.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tXHR.prototype.doPoll = function () {\n\t\t\t\t\t\tdebug('xhr poll');\n\t\t\t\t\t\tvar req = this.request();\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\treq.on('data', function (data) {\n\t\t\t\t\t\t\tself.onData(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treq.on('error', function (err) {\n\t\t\t\t\t\t\tself.onError('xhr poll error', err);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.pollXhr = req;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Request constructor\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} options\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction Request(opts) {\n\t\t\t\t\t\tthis.method = opts.method || 'GET';\n\t\t\t\t\t\tthis.uri = opts.uri;\n\t\t\t\t\t\tthis.xd = !!opts.xd;\n\t\t\t\t\t\tthis.xs = !!opts.xs;\n\t\t\t\t\t\tthis.async = false !== opts.async;\n\t\t\t\t\t\tthis.data = undefined != opts.data ? opts.data : null;\n\t\t\t\t\t\tthis.agent = opts.agent;\n\t\t\t\t\t\tthis.isBinary = opts.isBinary;\n\t\t\t\t\t\tthis.supportsBinary = opts.supportsBinary;\n\t\t\t\t\t\tthis.enablesXDR = opts.enablesXDR;\n\n\t\t\t\t\t\t// SSL options for Node.js client\n\t\t\t\t\t\tthis.pfx = opts.pfx;\n\t\t\t\t\t\tthis.key = opts.key;\n\t\t\t\t\t\tthis.passphrase = opts.passphrase;\n\t\t\t\t\t\tthis.cert = opts.cert;\n\t\t\t\t\t\tthis.ca = opts.ca;\n\t\t\t\t\t\tthis.ciphers = opts.ciphers;\n\t\t\t\t\t\tthis.rejectUnauthorized = opts.rejectUnauthorized;\n\n\t\t\t\t\t\t// other options for Node.js client\n\t\t\t\t\t\tthis.extraHeaders = opts.extraHeaders;\n\n\t\t\t\t\t\tthis.create();\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Mix in `Emitter`.\n\t\t\t\t\t */\n\n\t\t\t\t\tEmitter(Request.prototype);\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Creates the XHR object and sends the request.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tRequest.prototype.create = function () {\n\t\t\t\t\t\tvar opts = {\n\t\t\t\t\t\t\tagent: this.agent,\n\t\t\t\t\t\t\txdomain: this.xd,\n\t\t\t\t\t\t\txscheme: this.xs,\n\t\t\t\t\t\t\tenablesXDR: this.enablesXDR\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// SSL options for Node.js client\n\t\t\t\t\t\topts.pfx = this.pfx;\n\t\t\t\t\t\topts.key = this.key;\n\t\t\t\t\t\topts.passphrase = this.passphrase;\n\t\t\t\t\t\topts.cert = this.cert;\n\t\t\t\t\t\topts.ca = this.ca;\n\t\t\t\t\t\topts.ciphers = this.ciphers;\n\t\t\t\t\t\topts.rejectUnauthorized = this.rejectUnauthorized;\n\n\t\t\t\t\t\tvar xhr = this.xhr = new XMLHttpRequest(opts);\n\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdebug('xhr open %s: %s', this.method, this.uri);\n\t\t\t\t\t\t\txhr.open(this.method, this.uri, this.async);\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (this.extraHeaders) {\n\t\t\t\t\t\t\t\t\txhr.setDisableHeaderCheck(true);\n\t\t\t\t\t\t\t\t\tfor (var i in this.extraHeaders) {\n\t\t\t\t\t\t\t\t\t\tif (this.extraHeaders.hasOwnProperty(i)) {\n\t\t\t\t\t\t\t\t\t\t\txhr.setRequestHeader(i, this.extraHeaders[i]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t\tif (this.supportsBinary) {\n\t\t\t\t\t\t\t\t// This has to be done after open because Firefox is stupid\n\t\t\t\t\t\t\t\t// http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\n\t\t\t\t\t\t\t\txhr.responseType = 'arraybuffer';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ('POST' == this.method) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (this.isBinary) {\n\t\t\t\t\t\t\t\t\t\txhr.setRequestHeader('Content-type', 'application/octet-stream');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\txhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// ie6 check\n\t\t\t\t\t\t\tif ('withCredentials' in xhr) {\n\t\t\t\t\t\t\t\txhr.withCredentials = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.hasXDR()) {\n\t\t\t\t\t\t\t\txhr.onload = function () {\n\t\t\t\t\t\t\t\t\tself.onLoad();\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\txhr.onerror = function () {\n\t\t\t\t\t\t\t\t\tself.onError(xhr.responseText);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\txhr.onreadystatechange = function () {\n\t\t\t\t\t\t\t\t\tif (4 != xhr.readyState) return;\n\t\t\t\t\t\t\t\t\tif (200 == xhr.status || 1223 == xhr.status) {\n\t\t\t\t\t\t\t\t\t\tself.onLoad();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// make sure the `error` event handler that's user-set\n\t\t\t\t\t\t\t\t\t\t// does not throw in the same tick and gets caught here\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t\tself.onError(xhr.status);\n\t\t\t\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdebug('xhr data %s', this.data);\n\t\t\t\t\t\t\txhr.send(this.data);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t// Need to defer since .create() is called directly fhrom the constructor\n\t\t\t\t\t\t\t// and thus the 'error' event can only be only bound *after* this exception\n\t\t\t\t\t\t\t// occurs.  Therefore, also, we cannot throw here at all.\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tself.onError(e);\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (global.document) {\n\t\t\t\t\t\t\tthis.index = Request.requestsCount++;\n\t\t\t\t\t\t\tRequest.requests[this.index] = this;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called upon successful response.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tRequest.prototype.onSuccess = function () {\n\t\t\t\t\t\tthis.emit('success');\n\t\t\t\t\t\tthis.cleanup();\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called if we have data.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tRequest.prototype.onData = function (data) {\n\t\t\t\t\t\tthis.emit('data', data);\n\t\t\t\t\t\tthis.onSuccess();\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called upon error.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tRequest.prototype.onError = function (err) {\n\t\t\t\t\t\tthis.emit('error', err);\n\t\t\t\t\t\tthis.cleanup(true);\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Cleans up house.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tRequest.prototype.cleanup = function (fromError) {\n\t\t\t\t\t\tif ('undefined' == typeof this.xhr || null === this.xhr) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// xmlhttprequest\n\t\t\t\t\t\tif (this.hasXDR()) {\n\t\t\t\t\t\t\tthis.xhr.onload = this.xhr.onerror = empty;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.xhr.onreadystatechange = empty;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (fromError) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tthis.xhr.abort();\n\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (global.document) {\n\t\t\t\t\t\t\tdelete Request.requests[this.index];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.xhr = null;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called upon load.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tRequest.prototype.onLoad = function () {\n\t\t\t\t\t\tvar data;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar contentType;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tcontentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t\tif (contentType === 'application/octet-stream') {\n\t\t\t\t\t\t\t\tdata = this.xhr.response;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (!this.supportsBinary) {\n\t\t\t\t\t\t\t\t\tdata = this.xhr.responseText;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tdata = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tvar ui8Arr = new Uint8Array(this.xhr.response);\n\t\t\t\t\t\t\t\t\t\tvar dataArray = [];\n\t\t\t\t\t\t\t\t\t\tfor (var idx = 0, length = ui8Arr.length; idx < length; idx++) {\n\t\t\t\t\t\t\t\t\t\t\tdataArray.push(ui8Arr[idx]);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tdata = String.fromCharCode.apply(null, dataArray);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthis.onError(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (null != data) {\n\t\t\t\t\t\t\tthis.onData(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Check if it has XDomainRequest.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tRequest.prototype.hasXDR = function () {\n\t\t\t\t\t\treturn 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Aborts the request.\n\t\t\t\t\t *\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tRequest.prototype.abort = function () {\n\t\t\t\t\t\tthis.cleanup();\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Aborts pending requests when unloading the window. This is needed to prevent\n\t\t\t\t\t * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n\t\t\t\t\t * emitted.\n\t\t\t\t\t */\n\n\t\t\t\t\tif (global.document) {\n\t\t\t\t\t\tRequest.requestsCount = 0;\n\t\t\t\t\t\tRequest.requests = {};\n\t\t\t\t\t\tif (global.attachEvent) {\n\t\t\t\t\t\t\tglobal.attachEvent('onunload', unloadHandler);\n\t\t\t\t\t\t} else if (global.addEventListener) {\n\t\t\t\t\t\t\tglobal.addEventListener('beforeunload', unloadHandler, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction unloadHandler() {\n\t\t\t\t\t\tfor (var i in Request.requests) {\n\t\t\t\t\t\t\tif (Request.requests.hasOwnProperty(i)) {\n\t\t\t\t\t\t\t\tRequest.requests[i].abort();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"./polling\": 8,\n\t\t\t\t\"component-emitter\": 15,\n\t\t\t\t\"component-inherit\": 16,\n\t\t\t\t\"debug\": 17,\n\t\t\t\t\"xmlhttprequest-ssl\": 10\n\t\t\t}],\n\t\t\t8: [function (_dereq_, module, exports) {\n\t\t\t\t/**\n\t\t\t\t * Module dependencies.\n\t\t\t\t */\n\n\t\t\t\tvar Transport = _dereq_('../transport');\n\t\t\t\tvar parseqs = _dereq_('parseqs');\n\t\t\t\tvar parser = _dereq_('engine.io-parser');\n\t\t\t\tvar inherit = _dereq_('component-inherit');\n\t\t\t\tvar yeast = _dereq_('yeast');\n\t\t\t\tvar debug = _dereq_('debug')('engine.io-client:polling');\n\n\t\t\t\t/**\n\t\t\t\t * Module exports.\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = Polling;\n\n\t\t\t\t/**\n\t\t\t\t * Is XHR2 supported?\n\t\t\t\t */\n\n\t\t\t\tvar hasXHR2 = (function () {\n\t\t\t\t\tvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\n\t\t\t\t\tvar xhr = new XMLHttpRequest({\n\t\t\t\t\t\txdomain: false\n\t\t\t\t\t});\n\t\t\t\t\treturn null != xhr.responseType;\n\t\t\t\t})();\n\n\t\t\t\t/**\n\t\t\t\t * Polling interface.\n\t\t\t\t *\n\t\t\t\t * @param {Object} opts\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction Polling(opts) {\n\t\t\t\t\tvar forceBase64 = (opts && opts.forceBase64);\n\t\t\t\t\tif (!hasXHR2 || forceBase64) {\n\t\t\t\t\t\tthis.supportsBinary = false;\n\t\t\t\t\t}\n\t\t\t\t\tTransport.call(this, opts);\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Inherits from Transport.\n\t\t\t\t */\n\n\t\t\t\tinherit(Polling, Transport);\n\n\t\t\t\t/**\n\t\t\t\t * Transport name.\n\t\t\t\t */\n\n\t\t\t\tPolling.prototype.name = 'polling';\n\n\t\t\t\t/**\n\t\t\t\t * Opens the socket (triggers polling). We write a PING message to determine\n\t\t\t\t * when the transport is open.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tPolling.prototype.doOpen = function () {\n\t\t\t\t\tthis.poll();\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Pauses polling.\n\t\t\t\t *\n\t\t\t\t * @param {Function} callback upon buffers are flushed and transport is paused\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tPolling.prototype.pause = function (onPause) {\n\t\t\t\t\tvar pending = 0;\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tthis.readyState = 'pausing';\n\n\t\t\t\t\tfunction pause() {\n\t\t\t\t\t\tdebug('paused');\n\t\t\t\t\t\tself.readyState = 'paused';\n\t\t\t\t\t\tonPause();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.polling || !this.writable) {\n\t\t\t\t\t\tvar total = 0;\n\n\t\t\t\t\t\tif (this.polling) {\n\t\t\t\t\t\t\tdebug('we are currently polling - waiting to pause');\n\t\t\t\t\t\t\ttotal++;\n\t\t\t\t\t\t\tthis.once('pollComplete', function () {\n\t\t\t\t\t\t\t\tdebug('pre-pause polling complete');\n\t\t\t\t\t\t\t\t--total || pause();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!this.writable) {\n\t\t\t\t\t\t\tdebug('we are currently writing - waiting to pause');\n\t\t\t\t\t\t\ttotal++;\n\t\t\t\t\t\t\tthis.once('drain', function () {\n\t\t\t\t\t\t\t\tdebug('pre-pause writing complete');\n\t\t\t\t\t\t\t\t--total || pause();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpause();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Starts polling cycle.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tPolling.prototype.poll = function () {\n\t\t\t\t\tdebug('polling');\n\t\t\t\t\tthis.polling = true;\n\t\t\t\t\tthis.doPoll();\n\t\t\t\t\tthis.emit('poll');\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Overloads onData to detect payloads.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tPolling.prototype.onData = function (data) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tdebug('polling got data %s', data);\n\t\t\t\t\tvar callback = function (packet, index, total) {\n\t\t\t\t\t\t// if its the first message we consider the transport open\n\t\t\t\t\t\tif ('opening' == self.readyState) {\n\t\t\t\t\t\t\tself.onOpen();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if its a close packet, we close the ongoing requests\n\t\t\t\t\t\tif ('close' == packet.type) {\n\t\t\t\t\t\t\tself.onClose();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// otherwise bypass onData and handle the message\n\t\t\t\t\t\tself.onPacket(packet);\n\t\t\t\t\t};\n\n\t\t\t\t\t// decode payload\n\t\t\t\t\tparser.decodePayload(data, this.socket.binaryType, callback);\n\n\t\t\t\t\t// if an event did not trigger closing\n\t\t\t\t\tif ('closed' != this.readyState) {\n\t\t\t\t\t\t// if we got data we're not polling\n\t\t\t\t\t\tthis.polling = false;\n\t\t\t\t\t\tthis.emit('pollComplete');\n\n\t\t\t\t\t\tif ('open' == this.readyState) {\n\t\t\t\t\t\t\tthis.poll();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdebug('ignoring poll - transport state \"%s\"', this.readyState);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * For polling, send a close packet.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tPolling.prototype.doClose = function () {\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tfunction close() {\n\t\t\t\t\t\tdebug('writing close packet');\n\t\t\t\t\t\tself.write([{\n\t\t\t\t\t\t\ttype: 'close'\n\t\t\t\t\t\t}]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ('open' == this.readyState) {\n\t\t\t\t\t\tdebug('transport open - closing');\n\t\t\t\t\t\tclose();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// in case we're trying to close while\n\t\t\t\t\t\t// handshaking is in progress (GH-164)\n\t\t\t\t\t\tdebug('transport not open - deferring close');\n\t\t\t\t\t\tthis.once('open', close);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Writes a packets payload.\n\t\t\t\t *\n\t\t\t\t * @param {Array} data packets\n\t\t\t\t * @param {Function} drain callback\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tPolling.prototype.write = function (packets) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.writable = false;\n\t\t\t\t\tvar callbackfn = function () {\n\t\t\t\t\t\tself.writable = true;\n\t\t\t\t\t\tself.emit('drain');\n\t\t\t\t\t};\n\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tparser.encodePayload(packets, this.supportsBinary, function (data) {\n\t\t\t\t\t\tself.doWrite(data, callbackfn);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Generates uri for connection.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tPolling.prototype.uri = function () {\n\t\t\t\t\tvar query = this.query || {};\n\t\t\t\t\tvar schema = this.secure ? 'https' : 'http';\n\t\t\t\t\tvar port = '';\n\n\t\t\t\t\t// cache busting is forced\n\t\t\t\t\tif (false !== this.timestampRequests) {\n\t\t\t\t\t\tquery[this.timestampParam] = yeast();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.supportsBinary && !query.sid) {\n\t\t\t\t\t\tquery.b64 = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tquery = parseqs.encode(query);\n\n\t\t\t\t\t// avoid port if default for schema\n\t\t\t\t\tif (this.port && (('https' == schema && this.port != 443) ||\n\t\t\t\t\t\t\t('http' == schema && this.port != 80))) {\n\t\t\t\t\t\tport = ':' + this.port;\n\t\t\t\t\t}\n\n\t\t\t\t\t// prepend ? to query\n\t\t\t\t\tif (query.length) {\n\t\t\t\t\t\tquery = '?' + query;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar ipv6 = this.hostname.indexOf(':') !== -1;\n\t\t\t\t\treturn schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n\t\t\t\t};\n\n\t\t\t}, {\n\t\t\t\t\"../transport\": 4,\n\t\t\t\t\"component-inherit\": 16,\n\t\t\t\t\"debug\": 17,\n\t\t\t\t\"engine.io-parser\": 19,\n\t\t\t\t\"parseqs\": 27,\n\t\t\t\t\"xmlhttprequest-ssl\": 10,\n\t\t\t\t\"yeast\": 30\n\t\t\t}],\n\t\t\t9: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/**\n\t\t\t\t\t * Module dependencies.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar Transport = _dereq_('../transport');\n\t\t\t\t\tvar parser = _dereq_('engine.io-parser');\n\t\t\t\t\tvar parseqs = _dereq_('parseqs');\n\t\t\t\t\tvar inherit = _dereq_('component-inherit');\n\t\t\t\t\tvar yeast = _dereq_('yeast');\n\t\t\t\t\tvar debug = _dereq_('debug')('engine.io-client:websocket');\n\t\t\t\t\tvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Get either the `WebSocket` or `MozWebSocket` globals\n\t\t\t\t\t * in the browser or try to resolve WebSocket-compatible\n\t\t\t\t\t * interface exposed by `ws` for Node-like environment.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar WebSocket = BrowserWebSocket;\n\t\t\t\t\tif (!WebSocket && typeof window === 'undefined') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tWebSocket = _dereq_('ws');\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module exports.\n\t\t\t\t\t */\n\n\t\t\t\t\tmodule.exports = WS;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * WebSocket transport constructor.\n\t\t\t\t\t *\n\t\t\t\t\t * @api {Object} connection options\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction WS(opts) {\n\t\t\t\t\t\tvar forceBase64 = (opts && opts.forceBase64);\n\t\t\t\t\t\tif (forceBase64) {\n\t\t\t\t\t\t\tthis.supportsBinary = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.perMessageDeflate = opts.perMessageDeflate;\n\t\t\t\t\t\tTransport.call(this, opts);\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inherits from Transport.\n\t\t\t\t\t */\n\n\t\t\t\t\tinherit(WS, Transport);\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Transport name.\n\t\t\t\t\t *\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tWS.prototype.name = 'websocket';\n\n\t\t\t\t\t/*\n\t\t\t\t\t * WebSockets support binary\n\t\t\t\t\t */\n\n\t\t\t\t\tWS.prototype.supportsBinary = true;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Opens socket.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tWS.prototype.doOpen = function () {\n\t\t\t\t\t\tif (!this.check()) {\n\t\t\t\t\t\t\t// let probe timeout\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tvar uri = this.uri();\n\t\t\t\t\t\tvar protocols = void(0);\n\t\t\t\t\t\tvar opts = {\n\t\t\t\t\t\t\tagent: this.agent,\n\t\t\t\t\t\t\tperMessageDeflate: this.perMessageDeflate\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// SSL options for Node.js client\n\t\t\t\t\t\topts.pfx = this.pfx;\n\t\t\t\t\t\topts.key = this.key;\n\t\t\t\t\t\topts.passphrase = this.passphrase;\n\t\t\t\t\t\topts.cert = this.cert;\n\t\t\t\t\t\topts.ca = this.ca;\n\t\t\t\t\t\topts.ciphers = this.ciphers;\n\t\t\t\t\t\topts.rejectUnauthorized = this.rejectUnauthorized;\n\t\t\t\t\t\tif (this.extraHeaders) {\n\t\t\t\t\t\t\topts.headers = this.extraHeaders;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.ws = BrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\n\n\t\t\t\t\t\tif (this.ws.binaryType === undefined) {\n\t\t\t\t\t\t\tthis.supportsBinary = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.ws.supports && this.ws.supports.binary) {\n\t\t\t\t\t\t\tthis.supportsBinary = true;\n\t\t\t\t\t\t\tthis.ws.binaryType = 'buffer';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.ws.binaryType = 'arraybuffer';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.addEventListeners();\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Adds event listeners to the socket\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tWS.prototype.addEventListeners = function () {\n\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\tthis.ws.onopen = function () {\n\t\t\t\t\t\t\tself.onOpen();\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ws.onclose = function () {\n\t\t\t\t\t\t\tself.onClose();\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ws.onmessage = function (ev) {\n\t\t\t\t\t\t\tself.onData(ev.data);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ws.onerror = function (e) {\n\t\t\t\t\t\t\tself.onError('websocket error', e);\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Override `onData` to use a timer on iOS.\n\t\t\t\t\t * See: https://gist.github.com/mloughran/2052006\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tif ('undefined' != typeof navigator &&\n\t\t\t\t\t\t/iPad|iPhone|iPod/i.test(navigator.userAgent)) {\n\t\t\t\t\t\tWS.prototype.onData = function (data) {\n\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tTransport.prototype.onData.call(self, data);\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Writes data to socket.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Array} array of packets.\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tWS.prototype.write = function (packets) {\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tthis.writable = false;\n\n\t\t\t\t\t\t// encodePacket efficient as it uses WS framing\n\t\t\t\t\t\t// no need for encodePayload\n\t\t\t\t\t\tvar total = packets.length;\n\t\t\t\t\t\tfor (var i = 0, l = total; i < l; i++) {\n\t\t\t\t\t\t\t(function (packet) {\n\t\t\t\t\t\t\t\tparser.encodePacket(packet, self.supportsBinary, function (data) {\n\t\t\t\t\t\t\t\t\tif (!BrowserWebSocket) {\n\t\t\t\t\t\t\t\t\t\t// always create a new object (GH-437)\n\t\t\t\t\t\t\t\t\t\tvar opts = {};\n\t\t\t\t\t\t\t\t\t\tif (packet.options) {\n\t\t\t\t\t\t\t\t\t\t\topts.compress = packet.options.compress;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (self.perMessageDeflate) {\n\t\t\t\t\t\t\t\t\t\t\tvar len = 'string' == typeof data ? global.Buffer.byteLength(data) : data.length;\n\t\t\t\t\t\t\t\t\t\t\tif (len < self.perMessageDeflate.threshold) {\n\t\t\t\t\t\t\t\t\t\t\t\topts.compress = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t//Sometimes the websocket has already been closed but the browser didn't\n\t\t\t\t\t\t\t\t\t//have a chance of informing us about it yet, in that case send will\n\t\t\t\t\t\t\t\t\t//throw an error\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tif (BrowserWebSocket) {\n\t\t\t\t\t\t\t\t\t\t\t// TypeError is thrown when passing the second argument on Safari\n\t\t\t\t\t\t\t\t\t\t\tself.ws.send(data);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tself.ws.send(data, opts);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tdebug('websocket closed before onclose event');\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t--total || done();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})(packets[i]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction done() {\n\t\t\t\t\t\t\tself.emit('flush');\n\n\t\t\t\t\t\t\t// fake drain\n\t\t\t\t\t\t\t// defer to next tick to allow Socket to clear writeBuffer\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tself.writable = true;\n\t\t\t\t\t\t\t\tself.emit('drain');\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Called upon close\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tWS.prototype.onClose = function () {\n\t\t\t\t\t\tTransport.prototype.onClose.call(this);\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Closes socket.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tWS.prototype.doClose = function () {\n\t\t\t\t\t\tif (typeof this.ws !== 'undefined') {\n\t\t\t\t\t\t\tthis.ws.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Generates uri for connection.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tWS.prototype.uri = function () {\n\t\t\t\t\t\tvar query = this.query || {};\n\t\t\t\t\t\tvar schema = this.secure ? 'wss' : 'ws';\n\t\t\t\t\t\tvar port = '';\n\n\t\t\t\t\t\t// avoid port if default for schema\n\t\t\t\t\t\tif (this.port && (('wss' == schema && this.port != 443) ||\n\t\t\t\t\t\t\t\t('ws' == schema && this.port != 80))) {\n\t\t\t\t\t\t\tport = ':' + this.port;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// append timestamp to URI\n\t\t\t\t\t\tif (this.timestampRequests) {\n\t\t\t\t\t\t\tquery[this.timestampParam] = yeast();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// communicate binary support capabilities\n\t\t\t\t\t\tif (!this.supportsBinary) {\n\t\t\t\t\t\t\tquery.b64 = 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tquery = parseqs.encode(query);\n\n\t\t\t\t\t\t// prepend ? to query\n\t\t\t\t\t\tif (query.length) {\n\t\t\t\t\t\t\tquery = '?' + query;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar ipv6 = this.hostname.indexOf(':') !== -1;\n\t\t\t\t\t\treturn schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Feature detection for WebSocket.\n\t\t\t\t\t *\n\t\t\t\t\t * @return {Boolean} whether this transport is available.\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tWS.prototype.check = function () {\n\t\t\t\t\t\treturn !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n\t\t\t\t\t};\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"../transport\": 4,\n\t\t\t\t\"component-inherit\": 16,\n\t\t\t\t\"debug\": 17,\n\t\t\t\t\"engine.io-parser\": 19,\n\t\t\t\t\"parseqs\": 27,\n\t\t\t\t\"ws\": undefined,\n\t\t\t\t\"yeast\": 30\n\t\t\t}],\n\t\t\t10: [function (_dereq_, module, exports) {\n\t\t\t\t// browser shim for xmlhttprequest module\n\t\t\t\tvar hasCORS = _dereq_('has-cors');\n\n\t\t\t\tmodule.exports = function (opts) {\n\t\t\t\t\tvar xdomain = opts.xdomain;\n\n\t\t\t\t\t// scheme must be same when usign XDomainRequest\n\t\t\t\t\t// http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n\t\t\t\t\tvar xscheme = opts.xscheme;\n\n\t\t\t\t\t// XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n\t\t\t\t\t// https://github.com/Automattic/engine.io-client/pull/217\n\t\t\t\t\tvar enablesXDR = opts.enablesXDR;\n\n\t\t\t\t\t// XMLHttpRequest can be disabled on IE\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n\t\t\t\t\t\t\treturn new XMLHttpRequest();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\t// Use XDomainRequest for IE8 if enablesXDR is true\n\t\t\t\t\t// because loading bar keeps flashing when using jsonp-polling\n\t\t\t\t\t// https://github.com/yujiosaka/socke.io-ie8-loading-example\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\n\t\t\t\t\t\t\treturn new XDomainRequest();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\tif (!xdomain) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}, {\n\t\t\t\t\"has-cors\": 22\n\t\t\t}],\n\t\t\t11: [function (_dereq_, module, exports) {\n\t\t\t\tmodule.exports = after\n\n\t\t\t\tfunction after(count, callback, err_cb) {\n\t\t\t\t\tvar bail = false\n\t\t\t\t\terr_cb = err_cb || noop\n\t\t\t\t\tproxy.count = count\n\n\t\t\t\t\treturn (count === 0) ? callback() : proxy\n\n\t\t\t\t\tfunction proxy(err, result) {\n\t\t\t\t\t\tif (proxy.count <= 0) {\n\t\t\t\t\t\t\tthrow new Error('after called too many times')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t--proxy.count\n\n\t\t\t\t\t\t// after first error, rest are passed to err_cb\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\tbail = true\n\t\t\t\t\t\t\tcallback(err)\n\t\t\t\t\t\t\t// future error callbacks will go to error handler\n\t\t\t\t\t\t\tcallback = err_cb\n\t\t\t\t\t\t} else if (proxy.count === 0 && !bail) {\n\t\t\t\t\t\t\tcallback(null, result)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction noop() {}\n\n\t\t\t}, {}],\n\t\t\t12: [function (_dereq_, module, exports) {\n\t\t\t\t/**\n\t\t\t\t * An abstraction for slicing an arraybuffer even when\n\t\t\t\t * ArrayBuffer.prototype.slice is not supported\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = function (arraybuffer, start, end) {\n\t\t\t\t\tvar bytes = arraybuffer.byteLength;\n\t\t\t\t\tstart = start || 0;\n\t\t\t\t\tend = end || bytes;\n\n\t\t\t\t\tif (arraybuffer.slice) {\n\t\t\t\t\t\treturn arraybuffer.slice(start, end);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (start < 0) {\n\t\t\t\t\t\tstart += bytes;\n\t\t\t\t\t}\n\t\t\t\t\tif (end < 0) {\n\t\t\t\t\t\tend += bytes;\n\t\t\t\t\t}\n\t\t\t\t\tif (end > bytes) {\n\t\t\t\t\t\tend = bytes;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (start >= bytes || start >= end || bytes === 0) {\n\t\t\t\t\t\treturn new ArrayBuffer(0);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar abv = new Uint8Array(arraybuffer);\n\t\t\t\t\tvar result = new Uint8Array(end - start);\n\t\t\t\t\tfor (var i = start, ii = 0; i < end; i++, ii++) {\n\t\t\t\t\t\tresult[ii] = abv[i];\n\t\t\t\t\t}\n\t\t\t\t\treturn result.buffer;\n\t\t\t\t};\n\n\t\t\t}, {}],\n\t\t\t13: [function (_dereq_, module, exports) {\n\t\t\t\t/*\n\t\t\t\t * base64-arraybuffer\n\t\t\t\t * https://github.com/niklasvh/base64-arraybuffer\n\t\t\t\t *\n\t\t\t\t * Copyright (c) 2012 Niklas von Hertzen\n\t\t\t\t * Licensed under the MIT license.\n\t\t\t\t */\n\t\t\t\t(function (chars) {\n\t\t\t\t\t\"use strict\";\n\n\t\t\t\t\texports.encode = function (arraybuffer) {\n\t\t\t\t\t\tvar bytes = new Uint8Array(arraybuffer),\n\t\t\t\t\t\t\ti, len = bytes.length,\n\t\t\t\t\t\t\tbase64 = \"\";\n\n\t\t\t\t\t\tfor (i = 0; i < len; i += 3) {\n\t\t\t\t\t\t\tbase64 += chars[bytes[i] >> 2];\n\t\t\t\t\t\t\tbase64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n\t\t\t\t\t\t\tbase64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n\t\t\t\t\t\t\tbase64 += chars[bytes[i + 2] & 63];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ((len % 3) === 2) {\n\t\t\t\t\t\t\tbase64 = base64.substring(0, base64.length - 1) + \"=\";\n\t\t\t\t\t\t} else if (len % 3 === 1) {\n\t\t\t\t\t\t\tbase64 = base64.substring(0, base64.length - 2) + \"==\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn base64;\n\t\t\t\t\t};\n\n\t\t\t\t\texports.decode = function (base64) {\n\t\t\t\t\t\tvar bufferLength = base64.length * 0.75,\n\t\t\t\t\t\t\tlen = base64.length,\n\t\t\t\t\t\t\ti, p = 0,\n\t\t\t\t\t\t\tencoded1, encoded2, encoded3, encoded4;\n\n\t\t\t\t\t\tif (base64[base64.length - 1] === \"=\") {\n\t\t\t\t\t\t\tbufferLength--;\n\t\t\t\t\t\t\tif (base64[base64.length - 2] === \"=\") {\n\t\t\t\t\t\t\t\tbufferLength--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar arraybuffer = new ArrayBuffer(bufferLength),\n\t\t\t\t\t\t\tbytes = new Uint8Array(arraybuffer);\n\n\t\t\t\t\t\tfor (i = 0; i < len; i += 4) {\n\t\t\t\t\t\t\tencoded1 = chars.indexOf(base64[i]);\n\t\t\t\t\t\t\tencoded2 = chars.indexOf(base64[i + 1]);\n\t\t\t\t\t\t\tencoded3 = chars.indexOf(base64[i + 2]);\n\t\t\t\t\t\t\tencoded4 = chars.indexOf(base64[i + 3]);\n\n\t\t\t\t\t\t\tbytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n\t\t\t\t\t\t\tbytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n\t\t\t\t\t\t\tbytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn arraybuffer;\n\t\t\t\t\t};\n\t\t\t\t})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n\n\t\t\t}, {}],\n\t\t\t14: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/**\n\t\t\t\t\t * Create a blob builder even when vendor prefixes exist\n\t\t\t\t\t */\n\n\t\t\t\t\tvar BlobBuilder = global.BlobBuilder ||\n\t\t\t\t\t\tglobal.WebKitBlobBuilder ||\n\t\t\t\t\t\tglobal.MSBlobBuilder ||\n\t\t\t\t\t\tglobal.MozBlobBuilder;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Check if Blob constructor is supported\n\t\t\t\t\t */\n\n\t\t\t\t\tvar blobSupported = (function () {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar a = new Blob(['hi']);\n\t\t\t\t\t\t\treturn a.size === 2;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Check if Blob constructor supports ArrayBufferViews\n\t\t\t\t\t * Fails in Safari 6, so we need to map to ArrayBuffers there.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar blobSupportsArrayBufferView = blobSupported && (function () {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar b = new Blob([new Uint8Array([1, 2])]);\n\t\t\t\t\t\t\treturn b.size === 2;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Check if BlobBuilder is supported\n\t\t\t\t\t */\n\n\t\t\t\t\tvar blobBuilderSupported = BlobBuilder &&\n\t\t\t\t\t\tBlobBuilder.prototype.append &&\n\t\t\t\t\t\tBlobBuilder.prototype.getBlob;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Helper function that maps ArrayBufferViews to ArrayBuffers\n\t\t\t\t\t * Used by BlobBuilder constructor and old browsers that didn't\n\t\t\t\t\t * support it in the Blob constructor.\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction mapArrayBufferViews(ary) {\n\t\t\t\t\t\tfor (var i = 0; i < ary.length; i++) {\n\t\t\t\t\t\t\tvar chunk = ary[i];\n\t\t\t\t\t\t\tif (chunk.buffer instanceof ArrayBuffer) {\n\t\t\t\t\t\t\t\tvar buf = chunk.buffer;\n\n\t\t\t\t\t\t\t\t// if this is a subarray, make a copy so we only\n\t\t\t\t\t\t\t\t// include the subarray region from the underlying buffer\n\t\t\t\t\t\t\t\tif (chunk.byteLength !== buf.byteLength) {\n\t\t\t\t\t\t\t\t\tvar copy = new Uint8Array(chunk.byteLength);\n\t\t\t\t\t\t\t\t\tcopy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n\t\t\t\t\t\t\t\t\tbuf = copy.buffer;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tary[i] = buf;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction BlobBuilderConstructor(ary, options) {\n\t\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\t\tvar bb = new BlobBuilder();\n\t\t\t\t\t\tmapArrayBufferViews(ary);\n\n\t\t\t\t\t\tfor (var i = 0; i < ary.length; i++) {\n\t\t\t\t\t\t\tbb.append(ary[i]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction BlobConstructor(ary, options) {\n\t\t\t\t\t\tmapArrayBufferViews(ary);\n\t\t\t\t\t\treturn new Blob(ary, options || {});\n\t\t\t\t\t};\n\n\t\t\t\t\tmodule.exports = (function () {\n\t\t\t\t\t\tif (blobSupported) {\n\t\t\t\t\t\t\treturn blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n\t\t\t\t\t\t} else if (blobBuilderSupported) {\n\t\t\t\t\t\t\treturn BlobBuilderConstructor;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {}],\n\t\t\t15: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Expose `Emitter`.\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = Emitter;\n\n\t\t\t\t/**\n\t\t\t\t * Initialize a new `Emitter`.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction Emitter(obj) {\n\t\t\t\t\tif (obj) return mixin(obj);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Mixin the emitter properties.\n\t\t\t\t *\n\t\t\t\t * @param {Object} obj\n\t\t\t\t * @return {Object}\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction mixin(obj) {\n\t\t\t\t\tfor (var key in Emitter.prototype) {\n\t\t\t\t\t\tobj[key] = Emitter.prototype[key];\n\t\t\t\t\t}\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Listen on the given `event` with `fn`.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @param {Function} fn\n\t\t\t\t * @return {Emitter}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.on =\n\t\t\t\t\tEmitter.prototype.addEventListener = function (event, fn) {\n\t\t\t\t\t\tthis._callbacks = this._callbacks || {};\n\t\t\t\t\t\t(this._callbacks[event] = this._callbacks[event] || [])\n\t\t\t\t\t\t.push(fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Adds an `event` listener that will be invoked a single\n\t\t\t\t * time then automatically removed.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @param {Function} fn\n\t\t\t\t * @return {Emitter}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.once = function (event, fn) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\n\n\t\t\t\t\tfunction on() {\n\t\t\t\t\t\tself.off(event, on);\n\t\t\t\t\t\tfn.apply(this, arguments);\n\t\t\t\t\t}\n\n\t\t\t\t\ton.fn = fn;\n\t\t\t\t\tthis.on(event, on);\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Remove the given callback for `event` or all\n\t\t\t\t * registered callbacks.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @param {Function} fn\n\t\t\t\t * @return {Emitter}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.off =\n\t\t\t\t\tEmitter.prototype.removeListener =\n\t\t\t\t\tEmitter.prototype.removeAllListeners =\n\t\t\t\t\tEmitter.prototype.removeEventListener = function (event, fn) {\n\t\t\t\t\t\tthis._callbacks = this._callbacks || {};\n\n\t\t\t\t\t\t// all\n\t\t\t\t\t\tif (0 == arguments.length) {\n\t\t\t\t\t\t\tthis._callbacks = {};\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// specific event\n\t\t\t\t\t\tvar callbacks = this._callbacks[event];\n\t\t\t\t\t\tif (!callbacks) return this;\n\n\t\t\t\t\t\t// remove all handlers\n\t\t\t\t\t\tif (1 == arguments.length) {\n\t\t\t\t\t\t\tdelete this._callbacks[event];\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// remove specific handler\n\t\t\t\t\t\tvar cb;\n\t\t\t\t\t\tfor (var i = 0; i < callbacks.length; i++) {\n\t\t\t\t\t\t\tcb = callbacks[i];\n\t\t\t\t\t\t\tif (cb === fn || cb.fn === fn) {\n\t\t\t\t\t\t\t\tcallbacks.splice(i, 1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Emit `event` with the given args.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @param {Mixed} ...\n\t\t\t\t * @return {Emitter}\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.emit = function (event) {\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\n\t\t\t\t\tvar args = [].slice.call(arguments, 1),\n\t\t\t\t\t\tcallbacks = this._callbacks[event];\n\n\t\t\t\t\tif (callbacks) {\n\t\t\t\t\t\tcallbacks = callbacks.slice(0);\n\t\t\t\t\t\tfor (var i = 0, len = callbacks.length; i < len; ++i) {\n\t\t\t\t\t\t\tcallbacks[i].apply(this, args);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Return array of callbacks for `event`.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @return {Array}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.listeners = function (event) {\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\n\t\t\t\t\treturn this._callbacks[event] || [];\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Check if this emitter has `event` handlers.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @return {Boolean}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.hasListeners = function (event) {\n\t\t\t\t\treturn !!this.listeners(event).length;\n\t\t\t\t};\n\n\t\t\t}, {}],\n\t\t\t16: [function (_dereq_, module, exports) {\n\n\t\t\t\tmodule.exports = function (a, b) {\n\t\t\t\t\tvar fn = function () {};\n\t\t\t\t\tfn.prototype = b.prototype;\n\t\t\t\t\ta.prototype = new fn;\n\t\t\t\t\ta.prototype.constructor = a;\n\t\t\t\t};\n\t\t\t}, {}],\n\t\t\t17: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * This is the web browser implementation of `debug()`.\n\t\t\t\t *\n\t\t\t\t * Expose `debug()` as the module.\n\t\t\t\t */\n\n\t\t\t\texports = module.exports = _dereq_('./debug');\n\t\t\t\texports.log = log;\n\t\t\t\texports.formatArgs = formatArgs;\n\t\t\t\texports.save = save;\n\t\t\t\texports.load = load;\n\t\t\t\texports.useColors = useColors;\n\t\t\t\texports.storage = 'undefined' != typeof chrome &&\n\t\t\t\t\t'undefined' != typeof chrome.storage ?\n\t\t\t\t\tchrome.storage.local :\n\t\t\t\t\tlocalstorage();\n\n\t\t\t\t/**\n\t\t\t\t * Colors.\n\t\t\t\t */\n\n\t\t\t\texports.colors = [\n\t\t\t\t\t'lightseagreen',\n\t\t\t\t\t'forestgreen',\n\t\t\t\t\t'goldenrod',\n\t\t\t\t\t'dodgerblue',\n\t\t\t\t\t'darkorchid',\n\t\t\t\t\t'crimson'\n\t\t\t\t];\n\n\t\t\t\t/**\n\t\t\t\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n\t\t\t\t * and the Firebug extension (any Firefox version) are known\n\t\t\t\t * to support \"%c\" CSS customizations.\n\t\t\t\t *\n\t\t\t\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\n\t\t\t\t */\n\n\t\t\t\tfunction useColors() {\n\t\t\t\t\t// is webkit? http://stackoverflow.com/a/16459606/376773\n\t\t\t\t\treturn ('WebkitAppearance' in document.documentElement.style) ||\n\t\t\t\t\t\t// is firebug? http://stackoverflow.com/a/398120/376773\n\t\t\t\t\t\t(window.console && (console.firebug || (console.exception && console.table))) ||\n\t\t\t\t\t\t// is firefox >= v31?\n\t\t\t\t\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t\t\t\t\t(navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n\t\t\t\t */\n\n\t\t\t\texports.formatters.j = function (v) {\n\t\t\t\t\treturn JSON.stringify(v);\n\t\t\t\t};\n\n\n\t\t\t\t/**\n\t\t\t\t * Colorize log arguments if enabled.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction formatArgs() {\n\t\t\t\t\tvar args = arguments;\n\t\t\t\t\tvar useColors = this.useColors;\n\n\t\t\t\t\targs[0] = (useColors ? '%c' : '') +\n\t\t\t\t\t\tthis.namespace +\n\t\t\t\t\t\t(useColors ? ' %c' : ' ') +\n\t\t\t\t\t\targs[0] +\n\t\t\t\t\t\t(useColors ? '%c ' : ' ') +\n\t\t\t\t\t\t'+' + exports.humanize(this.diff);\n\n\t\t\t\t\tif (!useColors) return args;\n\n\t\t\t\t\tvar c = 'color: ' + this.color;\n\t\t\t\t\targs = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n\t\t\t\t\t// the final \"%c\" is somewhat tricky, because there could be other\n\t\t\t\t\t// arguments passed either before or after the %c, so we need to\n\t\t\t\t\t// figure out the correct index to insert the CSS into\n\t\t\t\t\tvar index = 0;\n\t\t\t\t\tvar lastC = 0;\n\t\t\t\t\targs[0].replace(/%[a-z%]/g, function (match) {\n\t\t\t\t\t\tif ('%%' === match) return;\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t\tif ('%c' === match) {\n\t\t\t\t\t\t\t// we only are interested in the *last* %c\n\t\t\t\t\t\t\t// (the user may have provided their own)\n\t\t\t\t\t\t\tlastC = index;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\targs.splice(lastC, 0, c);\n\t\t\t\t\treturn args;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Invokes `console.log()` when available.\n\t\t\t\t * No-op when `console.log` is not a \"function\".\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction log() {\n\t\t\t\t\t// this hackery is required for IE8/9, where\n\t\t\t\t\t// the `console.log` function doesn't have 'apply'\n\t\t\t\t\treturn 'object' === typeof console &&\n\t\t\t\t\t\tconsole.log &&\n\t\t\t\t\t\tFunction.prototype.apply.call(console.log, console, arguments);\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Save `namespaces`.\n\t\t\t\t *\n\t\t\t\t * @param {String} namespaces\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction save(namespaces) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (null == namespaces) {\n\t\t\t\t\t\t\texports.storage.removeItem('debug');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\texports.storage.debug = namespaces;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Load `namespaces`.\n\t\t\t\t *\n\t\t\t\t * @return {String} returns the previously persisted debug modes\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction load() {\n\t\t\t\t\tvar r;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tr = exports.storage.debug;\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Enable namespaces listed in `localStorage.debug` initially.\n\t\t\t\t */\n\n\t\t\t\texports.enable(load());\n\n\t\t\t\t/**\n\t\t\t\t * Localstorage attempts to return the localstorage.\n\t\t\t\t *\n\t\t\t\t * This is necessary because safari throws\n\t\t\t\t * when a user disables cookies/localstorage\n\t\t\t\t * and you attempt to access it.\n\t\t\t\t *\n\t\t\t\t * @return {LocalStorage}\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction localstorage() {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn window.localStorage;\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\n\t\t\t}, {\n\t\t\t\t\"./debug\": 18\n\t\t\t}],\n\t\t\t18: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * This is the common logic for both the Node.js and web browser\n\t\t\t\t * implementations of `debug()`.\n\t\t\t\t *\n\t\t\t\t * Expose `debug()` as the module.\n\t\t\t\t */\n\n\t\t\t\texports = module.exports = debug;\n\t\t\t\texports.coerce = coerce;\n\t\t\t\texports.disable = disable;\n\t\t\t\texports.enable = enable;\n\t\t\t\texports.enabled = enabled;\n\t\t\t\texports.humanize = _dereq_('ms');\n\n\t\t\t\t/**\n\t\t\t\t * The currently active debug mode names, and names to skip.\n\t\t\t\t */\n\n\t\t\t\texports.names = [];\n\t\t\t\texports.skips = [];\n\n\t\t\t\t/**\n\t\t\t\t * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t\t\t\t *\n\t\t\t\t * Valid key names are a single, lowercased letter, i.e. \"n\".\n\t\t\t\t */\n\n\t\t\t\texports.formatters = {};\n\n\t\t\t\t/**\n\t\t\t\t * Previously assigned color.\n\t\t\t\t */\n\n\t\t\t\tvar prevColor = 0;\n\n\t\t\t\t/**\n\t\t\t\t * Previous log timestamp.\n\t\t\t\t */\n\n\t\t\t\tvar prevTime;\n\n\t\t\t\t/**\n\t\t\t\t * Select a color.\n\t\t\t\t *\n\t\t\t\t * @return {Number}\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction selectColor() {\n\t\t\t\t\treturn exports.colors[prevColor++ % exports.colors.length];\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Create a debugger with the given `namespace`.\n\t\t\t\t *\n\t\t\t\t * @param {String} namespace\n\t\t\t\t * @return {Function}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction debug(namespace) {\n\n\t\t\t\t\t// define the `disabled` version\n\t\t\t\t\tfunction disabled() {}\n\t\t\t\t\tdisabled.enabled = false;\n\n\t\t\t\t\t// define the `enabled` version\n\t\t\t\t\tfunction enabled() {\n\n\t\t\t\t\t\tvar self = enabled;\n\n\t\t\t\t\t\t// set `diff` timestamp\n\t\t\t\t\t\tvar curr = +new Date();\n\t\t\t\t\t\tvar ms = curr - (prevTime || curr);\n\t\t\t\t\t\tself.diff = ms;\n\t\t\t\t\t\tself.prev = prevTime;\n\t\t\t\t\t\tself.curr = curr;\n\t\t\t\t\t\tprevTime = curr;\n\n\t\t\t\t\t\t// add the `color` if not set\n\t\t\t\t\t\tif (null == self.useColors) self.useColors = exports.useColors();\n\t\t\t\t\t\tif (null == self.color && self.useColors) self.color = selectColor();\n\n\t\t\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\n\t\t\t\t\t\targs[0] = exports.coerce(args[0]);\n\n\t\t\t\t\t\tif ('string' !== typeof args[0]) {\n\t\t\t\t\t\t\t// anything else let's inspect with %o\n\t\t\t\t\t\t\targs = ['%o'].concat(args);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// apply any `formatters` transformations\n\t\t\t\t\t\tvar index = 0;\n\t\t\t\t\t\targs[0] = args[0].replace(/%([a-z%])/g, function (match, format) {\n\t\t\t\t\t\t\t// if we encounter an escaped % then don't increase the array index\n\t\t\t\t\t\t\tif (match === '%%') return match;\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\tvar formatter = exports.formatters[format];\n\t\t\t\t\t\t\tif ('function' === typeof formatter) {\n\t\t\t\t\t\t\t\tvar val = args[index];\n\t\t\t\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t\t\t\t// now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\t\t\t\tindex--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn match;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ('function' === typeof exports.formatArgs) {\n\t\t\t\t\t\t\targs = exports.formatArgs.apply(self, args);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar logFn = enabled.log || exports.log || console.log.bind(console);\n\t\t\t\t\t\tlogFn.apply(self, args);\n\t\t\t\t\t}\n\t\t\t\t\tenabled.enabled = true;\n\n\t\t\t\t\tvar fn = exports.enabled(namespace) ? enabled : disabled;\n\n\t\t\t\t\tfn.namespace = namespace;\n\n\t\t\t\t\treturn fn;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Enables a debug mode by namespaces. This can include modes\n\t\t\t\t * separated by a colon and wildcards.\n\t\t\t\t *\n\t\t\t\t * @param {String} namespaces\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction enable(namespaces) {\n\t\t\t\t\texports.save(namespaces);\n\n\t\t\t\t\tvar split = (namespaces || '').split(/[\\s,]+/);\n\t\t\t\t\tvar len = split.length;\n\n\t\t\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\t\t\tif (!split[i]) continue; // ignore empty strings\n\t\t\t\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\t\t\t\t\t\tif (namespaces[0] === '-') {\n\t\t\t\t\t\t\texports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\texports.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Disable debug output.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction disable() {\n\t\t\t\t\texports.enable('');\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Returns true if the given mode name is enabled, false otherwise.\n\t\t\t\t *\n\t\t\t\t * @param {String} name\n\t\t\t\t * @return {Boolean}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction enabled(name) {\n\t\t\t\t\tvar i, len;\n\t\t\t\t\tfor (i = 0, len = exports.skips.length; i < len; i++) {\n\t\t\t\t\t\tif (exports.skips[i].test(name)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0, len = exports.names.length; i < len; i++) {\n\t\t\t\t\t\tif (exports.names[i].test(name)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Coerce `val`.\n\t\t\t\t *\n\t\t\t\t * @param {Mixed} val\n\t\t\t\t * @return {Mixed}\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction coerce(val) {\n\t\t\t\t\tif (val instanceof Error) return val.stack || val.message;\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\n\t\t\t}, {\n\t\t\t\t\"ms\": 25\n\t\t\t}],\n\t\t\t19: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/**\n\t\t\t\t\t * Module dependencies.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar keys = _dereq_('./keys');\n\t\t\t\t\tvar hasBinary = _dereq_('has-binary');\n\t\t\t\t\tvar sliceBuffer = _dereq_('arraybuffer.slice');\n\t\t\t\t\tvar base64encoder = _dereq_('base64-arraybuffer');\n\t\t\t\t\tvar after = _dereq_('after');\n\t\t\t\t\tvar utf8 = _dereq_('utf8');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Check if we are running an android browser. That requires us to use\n\t\t\t\t\t * ArrayBuffer with polling transports...\n\t\t\t\t\t *\n\t\t\t\t\t * http://ghinda.net/jpeg-blob-ajax-android/\n\t\t\t\t\t */\n\n\t\t\t\t\tvar isAndroid = navigator.userAgent.match(/Android/i);\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Check if we are running in PhantomJS.\n\t\t\t\t\t * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n\t\t\t\t\t * https://github.com/ariya/phantomjs/issues/11395\n\t\t\t\t\t * @type boolean\n\t\t\t\t\t */\n\t\t\t\t\tvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\n\n\t\t\t\t\t/**\n\t\t\t\t\t * When true, avoids using Blobs to encode payloads.\n\t\t\t\t\t * @type boolean\n\t\t\t\t\t */\n\t\t\t\t\tvar dontSendBlobs = isAndroid || isPhantomJS;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Current protocol version.\n\t\t\t\t\t */\n\n\t\t\t\t\texports.protocol = 3;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Packet types.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar packets = exports.packets = {\n\t\t\t\t\t\topen: 0 // non-ws\n\t\t\t\t\t\t\t,\n\t\t\t\t\t\tclose: 1 // non-ws\n\t\t\t\t\t\t\t,\n\t\t\t\t\t\tping: 2,\n\t\t\t\t\t\tpong: 3,\n\t\t\t\t\t\tmessage: 4,\n\t\t\t\t\t\tupgrade: 5,\n\t\t\t\t\t\tnoop: 6\n\t\t\t\t\t};\n\n\t\t\t\t\tvar packetslist = keys(packets);\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Premade error packet.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar err = {\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\tdata: 'parser error'\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Create a blob api even for blob builder when vendor prefixes exist\n\t\t\t\t\t */\n\n\t\t\t\t\tvar Blob = _dereq_('blob');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Encodes a packet.\n\t\t\t\t\t *\n\t\t\t\t\t *     <packet type id> [ <data> ]\n\t\t\t\t\t *\n\t\t\t\t\t * Example:\n\t\t\t\t\t *\n\t\t\t\t\t *     5hello world\n\t\t\t\t\t *     3\n\t\t\t\t\t *     4\n\t\t\t\t\t *\n\t\t\t\t\t * Binary is encoded in an identical principle\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\texports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n\t\t\t\t\t\tif ('function' == typeof supportsBinary) {\n\t\t\t\t\t\t\tcallback = supportsBinary;\n\t\t\t\t\t\t\tsupportsBinary = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ('function' == typeof utf8encode) {\n\t\t\t\t\t\t\tcallback = utf8encode;\n\t\t\t\t\t\t\tutf8encode = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar data = (packet.data === undefined) ?\n\t\t\t\t\t\t\tundefined :\n\t\t\t\t\t\t\tpacket.data.buffer || packet.data;\n\n\t\t\t\t\t\tif (global.ArrayBuffer && data instanceof ArrayBuffer) {\n\t\t\t\t\t\t\treturn encodeArrayBuffer(packet, supportsBinary, callback);\n\t\t\t\t\t\t} else if (Blob && data instanceof global.Blob) {\n\t\t\t\t\t\t\treturn encodeBlob(packet, supportsBinary, callback);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// might be an object with { base64: true, data: dataAsBase64String }\n\t\t\t\t\t\tif (data && data.base64) {\n\t\t\t\t\t\t\treturn encodeBase64Object(packet, callback);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Sending data as a utf-8 string\n\t\t\t\t\t\tvar encoded = packets[packet.type];\n\n\t\t\t\t\t\t// data fragment is optional\n\t\t\t\t\t\tif (undefined !== packet.data) {\n\t\t\t\t\t\t\tencoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn callback('' + encoded);\n\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction encodeBase64Object(packet, callback) {\n\t\t\t\t\t\t// packet data is an object { base64: true, data: dataAsBase64String }\n\t\t\t\t\t\tvar message = 'b' + exports.packets[packet.type] + packet.data.data;\n\t\t\t\t\t\treturn callback(message);\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Encode packet helpers for binary types\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n\t\t\t\t\t\tif (!supportsBinary) {\n\t\t\t\t\t\t\treturn exports.encodeBase64Packet(packet, callback);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar data = packet.data;\n\t\t\t\t\t\tvar contentArray = new Uint8Array(data);\n\t\t\t\t\t\tvar resultBuffer = new Uint8Array(1 + data.byteLength);\n\n\t\t\t\t\t\tresultBuffer[0] = packets[packet.type];\n\t\t\t\t\t\tfor (var i = 0; i < contentArray.length; i++) {\n\t\t\t\t\t\t\tresultBuffer[i + 1] = contentArray[i];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn callback(resultBuffer.buffer);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n\t\t\t\t\t\tif (!supportsBinary) {\n\t\t\t\t\t\t\treturn exports.encodeBase64Packet(packet, callback);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar fr = new FileReader();\n\t\t\t\t\t\tfr.onload = function () {\n\t\t\t\t\t\t\tpacket.data = fr.result;\n\t\t\t\t\t\t\texports.encodePacket(packet, supportsBinary, true, callback);\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn fr.readAsArrayBuffer(packet.data);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction encodeBlob(packet, supportsBinary, callback) {\n\t\t\t\t\t\tif (!supportsBinary) {\n\t\t\t\t\t\t\treturn exports.encodeBase64Packet(packet, callback);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (dontSendBlobs) {\n\t\t\t\t\t\t\treturn encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar length = new Uint8Array(1);\n\t\t\t\t\t\tlength[0] = packets[packet.type];\n\t\t\t\t\t\tvar blob = new Blob([length.buffer, packet.data]);\n\n\t\t\t\t\t\treturn callback(blob);\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Encodes a packet with binary data in a base64 string\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} packet, has `type` and `data`\n\t\t\t\t\t * @return {String} base64 encoded message\n\t\t\t\t\t */\n\n\t\t\t\t\texports.encodeBase64Packet = function (packet, callback) {\n\t\t\t\t\t\tvar message = 'b' + exports.packets[packet.type];\n\t\t\t\t\t\tif (Blob && packet.data instanceof global.Blob) {\n\t\t\t\t\t\t\tvar fr = new FileReader();\n\t\t\t\t\t\t\tfr.onload = function () {\n\t\t\t\t\t\t\t\tvar b64 = fr.result.split(',')[1];\n\t\t\t\t\t\t\t\tcallback(message + b64);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\treturn fr.readAsDataURL(packet.data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar b64data;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tb64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t// iPhone Safari doesn't let you apply with typed arrays\n\t\t\t\t\t\t\tvar typed = new Uint8Array(packet.data);\n\t\t\t\t\t\t\tvar basic = new Array(typed.length);\n\t\t\t\t\t\t\tfor (var i = 0; i < typed.length; i++) {\n\t\t\t\t\t\t\t\tbasic[i] = typed[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb64data = String.fromCharCode.apply(null, basic);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmessage += global.btoa(b64data);\n\t\t\t\t\t\treturn callback(message);\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Decodes a packet. Changes format to Blob if requested.\n\t\t\t\t\t *\n\t\t\t\t\t * @return {Object} with `type` and `data` (if any)\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\texports.decodePacket = function (data, binaryType, utf8decode) {\n\t\t\t\t\t\t// String data\n\t\t\t\t\t\tif (typeof data == 'string' || data === undefined) {\n\t\t\t\t\t\t\tif (data.charAt(0) == 'b') {\n\t\t\t\t\t\t\t\treturn exports.decodeBase64Packet(data.substr(1), binaryType);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (utf8decode) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tdata = utf8.decode(data);\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\treturn err;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar type = data.charAt(0);\n\n\t\t\t\t\t\t\tif (Number(type) != type || !packetslist[type]) {\n\t\t\t\t\t\t\t\treturn err;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (data.length > 1) {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttype: packetslist[type],\n\t\t\t\t\t\t\t\t\tdata: data.substring(1)\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttype: packetslist[type]\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar asArray = new Uint8Array(data);\n\t\t\t\t\t\tvar type = asArray[0];\n\t\t\t\t\t\tvar rest = sliceBuffer(data, 1);\n\t\t\t\t\t\tif (Blob && binaryType === 'blob') {\n\t\t\t\t\t\t\trest = new Blob([rest]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: packetslist[type],\n\t\t\t\t\t\t\tdata: rest\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Decodes a packet encoded in a base64 string\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} base64 encoded message\n\t\t\t\t\t * @return {Object} with `type` and `data` (if any)\n\t\t\t\t\t */\n\n\t\t\t\t\texports.decodeBase64Packet = function (msg, binaryType) {\n\t\t\t\t\t\tvar type = packetslist[msg.charAt(0)];\n\t\t\t\t\t\tif (!global.ArrayBuffer) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tbase64: true,\n\t\t\t\t\t\t\t\t\tdata: msg.substr(1)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar data = base64encoder.decode(msg.substr(1));\n\n\t\t\t\t\t\tif (binaryType === 'blob' && Blob) {\n\t\t\t\t\t\t\tdata = new Blob([data]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Encodes multiple messages (payload).\n\t\t\t\t\t *\n\t\t\t\t\t *     <length>:data\n\t\t\t\t\t *\n\t\t\t\t\t * Example:\n\t\t\t\t\t *\n\t\t\t\t\t *     11:hello world2:hi\n\t\t\t\t\t *\n\t\t\t\t\t * If any contents are binary, they will be encoded as base64 strings. Base64\n\t\t\t\t\t * encoded strings are marked with a b before the length specifier\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Array} packets\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\texports.encodePayload = function (packets, supportsBinary, callback) {\n\t\t\t\t\t\tif (typeof supportsBinary == 'function') {\n\t\t\t\t\t\t\tcallback = supportsBinary;\n\t\t\t\t\t\t\tsupportsBinary = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar isBinary = hasBinary(packets);\n\n\t\t\t\t\t\tif (supportsBinary && isBinary) {\n\t\t\t\t\t\t\tif (Blob && !dontSendBlobs) {\n\t\t\t\t\t\t\t\treturn exports.encodePayloadAsBlob(packets, callback);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn exports.encodePayloadAsArrayBuffer(packets, callback);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!packets.length) {\n\t\t\t\t\t\t\treturn callback('0:');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction setLengthHeader(message) {\n\t\t\t\t\t\t\treturn message.length + ':' + message;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction encodeOne(packet, doneCallback) {\n\t\t\t\t\t\t\texports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function (message) {\n\t\t\t\t\t\t\t\tdoneCallback(null, setLengthHeader(message));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmap(packets, encodeOne, function (err, results) {\n\t\t\t\t\t\t\treturn callback(results.join(''));\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Async array map using after\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction map(ary, each, done) {\n\t\t\t\t\t\tvar result = new Array(ary.length);\n\t\t\t\t\t\tvar next = after(ary.length, done);\n\n\t\t\t\t\t\tvar eachWithIndex = function (i, el, cb) {\n\t\t\t\t\t\t\teach(el, function (error, msg) {\n\t\t\t\t\t\t\t\tresult[i] = msg;\n\t\t\t\t\t\t\t\tcb(error, result);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tfor (var i = 0; i < ary.length; i++) {\n\t\t\t\t\t\t\teachWithIndex(i, ary[i], next);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/*\n\t\t\t\t\t * Decodes data when a payload is maybe expected. Possible binary contents are\n\t\t\t\t\t * decoded from their base64 representation\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} data, callback method\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\texports.decodePayload = function (data, binaryType, callback) {\n\t\t\t\t\t\tif (typeof data != 'string') {\n\t\t\t\t\t\t\treturn exports.decodePayloadAsBinary(data, binaryType, callback);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof binaryType === 'function') {\n\t\t\t\t\t\t\tcallback = binaryType;\n\t\t\t\t\t\t\tbinaryType = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar packet;\n\t\t\t\t\t\tif (data == '') {\n\t\t\t\t\t\t\t// parser error - ignoring payload\n\t\t\t\t\t\t\treturn callback(err, 0, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar length = '',\n\t\t\t\t\t\t\tn, msg;\n\n\t\t\t\t\t\tfor (var i = 0, l = data.length; i < l; i++) {\n\t\t\t\t\t\t\tvar chr = data.charAt(i);\n\n\t\t\t\t\t\t\tif (':' != chr) {\n\t\t\t\t\t\t\t\tlength += chr;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif ('' == length || (length != (n = Number(length)))) {\n\t\t\t\t\t\t\t\t\t// parser error - ignoring payload\n\t\t\t\t\t\t\t\t\treturn callback(err, 0, 1);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tmsg = data.substr(i + 1, n);\n\n\t\t\t\t\t\t\t\tif (length != msg.length) {\n\t\t\t\t\t\t\t\t\t// parser error - ignoring payload\n\t\t\t\t\t\t\t\t\treturn callback(err, 0, 1);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (msg.length) {\n\t\t\t\t\t\t\t\t\tpacket = exports.decodePacket(msg, binaryType, true);\n\n\t\t\t\t\t\t\t\t\tif (err.type == packet.type && err.data == packet.data) {\n\t\t\t\t\t\t\t\t\t\t// parser error in individual packet - ignoring payload\n\t\t\t\t\t\t\t\t\t\treturn callback(err, 0, 1);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar ret = callback(packet, i + n, l);\n\t\t\t\t\t\t\t\t\tif (false === ret) return;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// advance cursor\n\t\t\t\t\t\t\t\ti += n;\n\t\t\t\t\t\t\t\tlength = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (length != '') {\n\t\t\t\t\t\t\t// parser error - ignoring payload\n\t\t\t\t\t\t\treturn callback(err, 0, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Encodes multiple messages (payload) as binary.\n\t\t\t\t\t *\n\t\t\t\t\t * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n\t\t\t\t\t * 255><data>\n\t\t\t\t\t *\n\t\t\t\t\t * Example:\n\t\t\t\t\t * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Array} packets\n\t\t\t\t\t * @return {ArrayBuffer} encoded payload\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\texports.encodePayloadAsArrayBuffer = function (packets, callback) {\n\t\t\t\t\t\tif (!packets.length) {\n\t\t\t\t\t\t\treturn callback(new ArrayBuffer(0));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction encodeOne(packet, doneCallback) {\n\t\t\t\t\t\t\texports.encodePacket(packet, true, true, function (data) {\n\t\t\t\t\t\t\t\treturn doneCallback(null, data);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmap(packets, encodeOne, function (err, encodedPackets) {\n\t\t\t\t\t\t\tvar totalLength = encodedPackets.reduce(function (acc, p) {\n\t\t\t\t\t\t\t\tvar len;\n\t\t\t\t\t\t\t\tif (typeof p === 'string') {\n\t\t\t\t\t\t\t\t\tlen = p.length;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlen = p.byteLength;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n\t\t\t\t\t\t\t}, 0);\n\n\t\t\t\t\t\t\tvar resultArray = new Uint8Array(totalLength);\n\n\t\t\t\t\t\t\tvar bufferIndex = 0;\n\t\t\t\t\t\t\tencodedPackets.forEach(function (p) {\n\t\t\t\t\t\t\t\tvar isString = typeof p === 'string';\n\t\t\t\t\t\t\t\tvar ab = p;\n\t\t\t\t\t\t\t\tif (isString) {\n\t\t\t\t\t\t\t\t\tvar view = new Uint8Array(p.length);\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < p.length; i++) {\n\t\t\t\t\t\t\t\t\t\tview[i] = p.charCodeAt(i);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tab = view.buffer;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (isString) { // not true binary\n\t\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = 0;\n\t\t\t\t\t\t\t\t} else { // true binary\n\t\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = 1;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar lenStr = ab.byteLength.toString();\n\t\t\t\t\t\t\t\tfor (var i = 0; i < lenStr.length; i++) {\n\t\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = parseInt(lenStr[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = 255;\n\n\t\t\t\t\t\t\t\tvar view = new Uint8Array(ab);\n\t\t\t\t\t\t\t\tfor (var i = 0; i < view.length; i++) {\n\t\t\t\t\t\t\t\t\tresultArray[bufferIndex++] = view[i];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\treturn callback(resultArray.buffer);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Encode as Blob\n\t\t\t\t\t */\n\n\t\t\t\t\texports.encodePayloadAsBlob = function (packets, callback) {\n\t\t\t\t\t\tfunction encodeOne(packet, doneCallback) {\n\t\t\t\t\t\t\texports.encodePacket(packet, true, true, function (encoded) {\n\t\t\t\t\t\t\t\tvar binaryIdentifier = new Uint8Array(1);\n\t\t\t\t\t\t\t\tbinaryIdentifier[0] = 1;\n\t\t\t\t\t\t\t\tif (typeof encoded === 'string') {\n\t\t\t\t\t\t\t\t\tvar view = new Uint8Array(encoded.length);\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < encoded.length; i++) {\n\t\t\t\t\t\t\t\t\t\tview[i] = encoded.charCodeAt(i);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tencoded = view.buffer;\n\t\t\t\t\t\t\t\t\tbinaryIdentifier[0] = 0;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar len = (encoded instanceof ArrayBuffer) ?\n\t\t\t\t\t\t\t\t\tencoded.byteLength :\n\t\t\t\t\t\t\t\t\tencoded.size;\n\n\t\t\t\t\t\t\t\tvar lenStr = len.toString();\n\t\t\t\t\t\t\t\tvar lengthAry = new Uint8Array(lenStr.length + 1);\n\t\t\t\t\t\t\t\tfor (var i = 0; i < lenStr.length; i++) {\n\t\t\t\t\t\t\t\t\tlengthAry[i] = parseInt(lenStr[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlengthAry[lenStr.length] = 255;\n\n\t\t\t\t\t\t\t\tif (Blob) {\n\t\t\t\t\t\t\t\t\tvar blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n\t\t\t\t\t\t\t\t\tdoneCallback(null, blob);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmap(packets, encodeOne, function (err, results) {\n\t\t\t\t\t\t\treturn callback(new Blob(results));\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\t/*\n\t\t\t\t\t * Decodes data when a payload is maybe expected. Strings are decoded by\n\t\t\t\t\t * interpreting each byte as a key code for entries marked to start with 0. See\n\t\t\t\t\t * description of encodePayloadAsBinary\n\t\t\t\t\t *\n\t\t\t\t\t * @param {ArrayBuffer} data, callback method\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\texports.decodePayloadAsBinary = function (data, binaryType, callback) {\n\t\t\t\t\t\tif (typeof binaryType === 'function') {\n\t\t\t\t\t\t\tcallback = binaryType;\n\t\t\t\t\t\t\tbinaryType = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar bufferTail = data;\n\t\t\t\t\t\tvar buffers = [];\n\n\t\t\t\t\t\tvar numberTooLong = false;\n\t\t\t\t\t\twhile (bufferTail.byteLength > 0) {\n\t\t\t\t\t\t\tvar tailArray = new Uint8Array(bufferTail);\n\t\t\t\t\t\t\tvar isString = tailArray[0] === 0;\n\t\t\t\t\t\t\tvar msgLength = '';\n\n\t\t\t\t\t\t\tfor (var i = 1;; i++) {\n\t\t\t\t\t\t\t\tif (tailArray[i] == 255) break;\n\n\t\t\t\t\t\t\t\tif (msgLength.length > 310) {\n\t\t\t\t\t\t\t\t\tnumberTooLong = true;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tmsgLength += tailArray[i];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (numberTooLong) return callback(err, 0, 1);\n\n\t\t\t\t\t\t\tbufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n\t\t\t\t\t\t\tmsgLength = parseInt(msgLength);\n\n\t\t\t\t\t\t\tvar msg = sliceBuffer(bufferTail, 0, msgLength);\n\t\t\t\t\t\t\tif (isString) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tmsg = String.fromCharCode.apply(null, new Uint8Array(msg));\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t// iPhone Safari doesn't let you apply to typed arrays\n\t\t\t\t\t\t\t\t\tvar typed = new Uint8Array(msg);\n\t\t\t\t\t\t\t\t\tmsg = '';\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < typed.length; i++) {\n\t\t\t\t\t\t\t\t\t\tmsg += String.fromCharCode(typed[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbuffers.push(msg);\n\t\t\t\t\t\t\tbufferTail = sliceBuffer(bufferTail, msgLength);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar total = buffers.length;\n\t\t\t\t\t\tbuffers.forEach(function (buffer, i) {\n\t\t\t\t\t\t\tcallback(exports.decodePacket(buffer, binaryType, true), i, total);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"./keys\": 20,\n\t\t\t\t\"after\": 11,\n\t\t\t\t\"arraybuffer.slice\": 12,\n\t\t\t\t\"base64-arraybuffer\": 13,\n\t\t\t\t\"blob\": 14,\n\t\t\t\t\"has-binary\": 21,\n\t\t\t\t\"utf8\": 29\n\t\t\t}],\n\t\t\t20: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Gets the keys for an object.\n\t\t\t\t *\n\t\t\t\t * @return {Array} keys\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = Object.keys || function keys(obj) {\n\t\t\t\t\tvar arr = [];\n\t\t\t\t\tvar has = Object.prototype.hasOwnProperty;\n\n\t\t\t\t\tfor (var i in obj) {\n\t\t\t\t\t\tif (has.call(obj, i)) {\n\t\t\t\t\t\t\tarr.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn arr;\n\t\t\t\t};\n\n\t\t\t}, {}],\n\t\t\t21: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\n\t\t\t\t\t/*\n\t\t\t\t\t * Module requirements.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar isArray = _dereq_('isarray');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module exports.\n\t\t\t\t\t */\n\n\t\t\t\t\tmodule.exports = hasBinary;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Checks for binary data.\n\t\t\t\t\t *\n\t\t\t\t\t * Right now only Buffer and ArrayBuffer are supported..\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} anything\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction hasBinary(data) {\n\n\t\t\t\t\t\tfunction _hasBinary(obj) {\n\t\t\t\t\t\t\tif (!obj) return false;\n\n\t\t\t\t\t\t\tif ((global.Buffer && global.Buffer.isBuffer(obj)) ||\n\t\t\t\t\t\t\t\t(global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n\t\t\t\t\t\t\t\t(global.Blob && obj instanceof Blob) ||\n\t\t\t\t\t\t\t\t(global.File && obj instanceof File)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (isArray(obj)) {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < obj.length; i++) {\n\t\t\t\t\t\t\t\t\tif (_hasBinary(obj[i])) {\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (obj && 'object' == typeof obj) {\n\t\t\t\t\t\t\t\tif (obj.toJSON) {\n\t\t\t\t\t\t\t\t\tobj = obj.toJSON();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfor (var key in obj) {\n\t\t\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn _hasBinary(data);\n\t\t\t\t\t}\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"isarray\": 24\n\t\t\t}],\n\t\t\t22: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Module exports.\n\t\t\t\t *\n\t\t\t\t * Logic borrowed from Modernizr:\n\t\t\t\t *\n\t\t\t\t *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n\t\t\t\t */\n\n\t\t\t\ttry {\n\t\t\t\t\tmodule.exports = typeof XMLHttpRequest !== 'undefined' &&\n\t\t\t\t\t\t'withCredentials' in new XMLHttpRequest();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// if XMLHttp support is disabled in IE then it will throw\n\t\t\t\t\t// when trying to create\n\t\t\t\t\tmodule.exports = false;\n\t\t\t\t}\n\n\t\t\t}, {}],\n\t\t\t23: [function (_dereq_, module, exports) {\n\n\t\t\t\tvar indexOf = [].indexOf;\n\n\t\t\t\tmodule.exports = function (arr, obj) {\n\t\t\t\t\tif (indexOf) return arr.indexOf(obj);\n\t\t\t\t\tfor (var i = 0; i < arr.length; ++i) {\n\t\t\t\t\t\tif (arr[i] === obj) return i;\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t};\n\t\t\t}, {}],\n\t\t\t24: [function (_dereq_, module, exports) {\n\t\t\t\tmodule.exports = Array.isArray || function (arr) {\n\t\t\t\t\treturn Object.prototype.toString.call(arr) == '[object Array]';\n\t\t\t\t};\n\n\t\t\t}, {}],\n\t\t\t25: [function (_dereq_, module, exports) {\n\t\t\t\t/**\n\t\t\t\t * Helpers.\n\t\t\t\t */\n\n\t\t\t\tvar s = 1000;\n\t\t\t\tvar m = s * 60;\n\t\t\t\tvar h = m * 60;\n\t\t\t\tvar d = h * 24;\n\t\t\t\tvar y = d * 365.25;\n\n\t\t\t\t/**\n\t\t\t\t * Parse or format the given `val`.\n\t\t\t\t *\n\t\t\t\t * Options:\n\t\t\t\t *\n\t\t\t\t *  - `long` verbose formatting [false]\n\t\t\t\t *\n\t\t\t\t * @param {String|Number} val\n\t\t\t\t * @param {Object} options\n\t\t\t\t * @return {String|Number}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = function (val, options) {\n\t\t\t\t\toptions = options || {};\n\t\t\t\t\tif ('string' == typeof val) return parse(val);\n\t\t\t\t\treturn options.long ?\n\t\t\t\t\t\tlong(val) :\n\t\t\t\t\t\tshort(val);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Parse the given `str` and return milliseconds.\n\t\t\t\t *\n\t\t\t\t * @param {String} str\n\t\t\t\t * @return {Number}\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction parse(str) {\n\t\t\t\t\tstr = '' + str;\n\t\t\t\t\tif (str.length > 10000) return;\n\t\t\t\t\tvar match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n\t\t\t\t\tif (!match) return;\n\t\t\t\t\tvar n = parseFloat(match[1]);\n\t\t\t\t\tvar type = (match[2] || 'ms').toLowerCase();\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'years':\n\t\t\t\t\t\tcase 'year':\n\t\t\t\t\t\tcase 'yrs':\n\t\t\t\t\t\tcase 'yr':\n\t\t\t\t\t\tcase 'y':\n\t\t\t\t\t\t\treturn n * y;\n\t\t\t\t\t\tcase 'days':\n\t\t\t\t\t\tcase 'day':\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\treturn n * d;\n\t\t\t\t\t\tcase 'hours':\n\t\t\t\t\t\tcase 'hour':\n\t\t\t\t\t\tcase 'hrs':\n\t\t\t\t\t\tcase 'hr':\n\t\t\t\t\t\tcase 'h':\n\t\t\t\t\t\t\treturn n * h;\n\t\t\t\t\t\tcase 'minutes':\n\t\t\t\t\t\tcase 'minute':\n\t\t\t\t\t\tcase 'mins':\n\t\t\t\t\t\tcase 'min':\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\treturn n * m;\n\t\t\t\t\t\tcase 'seconds':\n\t\t\t\t\t\tcase 'second':\n\t\t\t\t\t\tcase 'secs':\n\t\t\t\t\t\tcase 'sec':\n\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\treturn n * s;\n\t\t\t\t\t\tcase 'milliseconds':\n\t\t\t\t\t\tcase 'millisecond':\n\t\t\t\t\t\tcase 'msecs':\n\t\t\t\t\t\tcase 'msec':\n\t\t\t\t\t\tcase 'ms':\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Short format for `ms`.\n\t\t\t\t *\n\t\t\t\t * @param {Number} ms\n\t\t\t\t * @return {String}\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction short(ms) {\n\t\t\t\t\tif (ms >= d) return Math.round(ms / d) + 'd';\n\t\t\t\t\tif (ms >= h) return Math.round(ms / h) + 'h';\n\t\t\t\t\tif (ms >= m) return Math.round(ms / m) + 'm';\n\t\t\t\t\tif (ms >= s) return Math.round(ms / s) + 's';\n\t\t\t\t\treturn ms + 'ms';\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Long format for `ms`.\n\t\t\t\t *\n\t\t\t\t * @param {Number} ms\n\t\t\t\t * @return {String}\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction long(ms) {\n\t\t\t\t\treturn plural(ms, d, 'day') ||\n\t\t\t\t\t\tplural(ms, h, 'hour') ||\n\t\t\t\t\t\tplural(ms, m, 'minute') ||\n\t\t\t\t\t\tplural(ms, s, 'second') ||\n\t\t\t\t\t\tms + ' ms';\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Pluralization helper.\n\t\t\t\t */\n\n\t\t\t\tfunction plural(ms, n, name) {\n\t\t\t\t\tif (ms < n) return;\n\t\t\t\t\tif (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n\t\t\t\t\treturn Math.ceil(ms / n) + ' ' + name + 's';\n\t\t\t\t}\n\n\t\t\t}, {}],\n\t\t\t26: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/**\n\t\t\t\t\t * JSON parse.\n\t\t\t\t\t *\n\t\t\t\t\t * @see Based on jQuery#parseJSON (MIT) and JSON2\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tvar rvalidchars = /^[\\],:{}\\s]*$/;\n\t\t\t\t\tvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n\t\t\t\t\tvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n\t\t\t\t\tvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\n\t\t\t\t\tvar rtrimLeft = /^\\s+/;\n\t\t\t\t\tvar rtrimRight = /\\s+$/;\n\n\t\t\t\t\tmodule.exports = function parsejson(data) {\n\t\t\t\t\t\tif ('string' != typeof data || !data) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdata = data.replace(rtrimLeft, '').replace(rtrimRight, '');\n\n\t\t\t\t\t\t// Attempt to parse using the native JSON parser first\n\t\t\t\t\t\tif (global.JSON && JSON.parse) {\n\t\t\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (rvalidchars.test(data.replace(rvalidescape, '@')\n\t\t\t\t\t\t\t\t.replace(rvalidtokens, ']')\n\t\t\t\t\t\t\t\t.replace(rvalidbraces, ''))) {\n\t\t\t\t\t\t\treturn (new Function('return ' + data))();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {}],\n\t\t\t27: [function (_dereq_, module, exports) {\n\t\t\t\t/**\n\t\t\t\t * Compiles a querystring\n\t\t\t\t * Returns string representation of the object\n\t\t\t\t *\n\t\t\t\t * @param {Object}\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\texports.encode = function (obj) {\n\t\t\t\t\tvar str = '';\n\n\t\t\t\t\tfor (var i in obj) {\n\t\t\t\t\t\tif (obj.hasOwnProperty(i)) {\n\t\t\t\t\t\t\tif (str.length) str += '&';\n\t\t\t\t\t\t\tstr += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn str;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Parses a simple querystring into an object\n\t\t\t\t *\n\t\t\t\t * @param {String} qs\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\texports.decode = function (qs) {\n\t\t\t\t\tvar qry = {};\n\t\t\t\t\tvar pairs = qs.split('&');\n\t\t\t\t\tfor (var i = 0, l = pairs.length; i < l; i++) {\n\t\t\t\t\t\tvar pair = pairs[i].split('=');\n\t\t\t\t\t\tqry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n\t\t\t\t\t}\n\t\t\t\t\treturn qry;\n\t\t\t\t};\n\n\t\t\t}, {}],\n\t\t\t28: [function (_dereq_, module, exports) {\n\t\t\t\t/**\n\t\t\t\t * Parses an URI\n\t\t\t\t *\n\t\t\t\t * @author Steven Levithan <stevenlevithan.com> (MIT license)\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\n\t\t\t\tvar parts = [\n\t\t\t\t\t'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n\t\t\t\t];\n\n\t\t\t\tmodule.exports = function parseuri(str) {\n\t\t\t\t\tvar src = str,\n\t\t\t\t\t\tb = str.indexOf('['),\n\t\t\t\t\t\te = str.indexOf(']');\n\n\t\t\t\t\tif (b != -1 && e != -1) {\n\t\t\t\t\t\tstr = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar m = re.exec(str || ''),\n\t\t\t\t\t\turi = {},\n\t\t\t\t\t\ti = 14;\n\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\turi[parts[i]] = m[i] || '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (b != -1 && e != -1) {\n\t\t\t\t\t\turi.source = src;\n\t\t\t\t\t\turi.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n\t\t\t\t\t\turi.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n\t\t\t\t\t\turi.ipv6uri = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn uri;\n\t\t\t\t};\n\n\t\t\t}, {}],\n\t\t\t29: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/*! https://mths.be/utf8js v2.0.0 by @mathias */\n\t\t\t\t\t;\n\t\t\t\t\t(function (root) {\n\n\t\t\t\t\t\t// Detect free variables `exports`\n\t\t\t\t\t\tvar freeExports = typeof exports == 'object' && exports;\n\n\t\t\t\t\t\t// Detect free variable `module`\n\t\t\t\t\t\tvar freeModule = typeof module == 'object' && module &&\n\t\t\t\t\t\t\tmodule.exports == freeExports && module;\n\n\t\t\t\t\t\t// Detect free variable `global`, from Node.js or Browserified code,\n\t\t\t\t\t\t// and use it as `root`\n\t\t\t\t\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\t\t\t\t\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\t\t\t\t\t\troot = freeGlobal;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/*--------------------------------------------------------------------------*/\n\n\t\t\t\t\t\tvar stringFromCharCode = String.fromCharCode;\n\n\t\t\t\t\t\t// Taken from https://mths.be/punycode\n\t\t\t\t\t\tfunction ucs2decode(string) {\n\t\t\t\t\t\t\tvar output = [];\n\t\t\t\t\t\t\tvar counter = 0;\n\t\t\t\t\t\t\tvar length = string.length;\n\t\t\t\t\t\t\tvar value;\n\t\t\t\t\t\t\tvar extra;\n\t\t\t\t\t\t\twhile (counter < length) {\n\t\t\t\t\t\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\t\t\t\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t\t\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\t\t\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\t\t\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\t\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\t\t\t\t\t\toutput.push(value);\n\t\t\t\t\t\t\t\t\t\tcounter--;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\toutput.push(value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn output;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Taken from https://mths.be/punycode\n\t\t\t\t\t\tfunction ucs2encode(array) {\n\t\t\t\t\t\t\tvar length = array.length;\n\t\t\t\t\t\t\tvar index = -1;\n\t\t\t\t\t\t\tvar value;\n\t\t\t\t\t\t\tvar output = '';\n\t\t\t\t\t\t\twhile (++index < length) {\n\t\t\t\t\t\t\t\tvalue = array[index];\n\t\t\t\t\t\t\t\tif (value > 0xFFFF) {\n\t\t\t\t\t\t\t\t\tvalue -= 0x10000;\n\t\t\t\t\t\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\t\t\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\toutput += stringFromCharCode(value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn output;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction checkScalarValue(codePoint) {\n\t\t\t\t\t\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\t\t\t\t\t\tthrow Error(\n\t\t\t\t\t\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t\t\t\t\t\t' is not a scalar value'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/*--------------------------------------------------------------------------*/\n\n\t\t\t\t\t\tfunction createByte(codePoint, shift) {\n\t\t\t\t\t\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction encodeCodePoint(codePoint) {\n\t\t\t\t\t\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\t\t\t\t\t\treturn stringFromCharCode(codePoint);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar symbol = '';\n\t\t\t\t\t\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\t\t\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t\t\t\t\t\t} else if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\t\t\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\t\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\t\t\t\t\t\tsymbol += createByte(codePoint, 6);\n\t\t\t\t\t\t\t} else if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\t\t\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\t\t\t\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\t\t\t\t\t\tsymbol += createByte(codePoint, 6);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\t\t\t\t\t\treturn symbol;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction utf8encode(string) {\n\t\t\t\t\t\t\tvar codePoints = ucs2decode(string);\n\t\t\t\t\t\t\tvar length = codePoints.length;\n\t\t\t\t\t\t\tvar index = -1;\n\t\t\t\t\t\t\tvar codePoint;\n\t\t\t\t\t\t\tvar byteString = '';\n\t\t\t\t\t\t\twhile (++index < length) {\n\t\t\t\t\t\t\t\tcodePoint = codePoints[index];\n\t\t\t\t\t\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn byteString;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/*--------------------------------------------------------------------------*/\n\n\t\t\t\t\t\tfunction readContinuationByte() {\n\t\t\t\t\t\t\tif (byteIndex >= byteCount) {\n\t\t\t\t\t\t\t\tthrow Error('Invalid byte index');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\t\t\t\t\t\tbyteIndex++;\n\n\t\t\t\t\t\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\t\t\t\t\t\treturn continuationByte & 0x3F;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// If we end up here, its not a continuation byte\n\t\t\t\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction decodeSymbol() {\n\t\t\t\t\t\t\tvar byte1;\n\t\t\t\t\t\t\tvar byte2;\n\t\t\t\t\t\t\tvar byte3;\n\t\t\t\t\t\t\tvar byte4;\n\t\t\t\t\t\t\tvar codePoint;\n\n\t\t\t\t\t\t\tif (byteIndex > byteCount) {\n\t\t\t\t\t\t\t\tthrow Error('Invalid byte index');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (byteIndex == byteCount) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Read first byte\n\t\t\t\t\t\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\t\t\t\t\t\tbyteIndex++;\n\n\t\t\t\t\t\t\t// 1-byte sequence (no continuation bytes)\n\t\t\t\t\t\t\tif ((byte1 & 0x80) == 0) {\n\t\t\t\t\t\t\t\treturn byte1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// 2-byte sequence\n\t\t\t\t\t\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\t\t\t\t\t\tvar byte2 = readContinuationByte();\n\t\t\t\t\t\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\t\t\t\t\t\tif (codePoint >= 0x80) {\n\t\t\t\t\t\t\t\t\treturn codePoint;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\t\t\t\t\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\t\t\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\t\t\t\t\tbyte3 = readContinuationByte();\n\t\t\t\t\t\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\t\t\t\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\t\t\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\t\t\t\t\t\treturn codePoint;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// 4-byte sequence\n\t\t\t\t\t\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\t\t\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\t\t\t\t\tbyte3 = readContinuationByte();\n\t\t\t\t\t\t\t\tbyte4 = readContinuationByte();\n\t\t\t\t\t\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t\t\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\t\t\t\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\t\t\t\t\t\treturn codePoint;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthrow Error('Invalid UTF-8 detected');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar byteArray;\n\t\t\t\t\t\tvar byteCount;\n\t\t\t\t\t\tvar byteIndex;\n\n\t\t\t\t\t\tfunction utf8decode(byteString) {\n\t\t\t\t\t\t\tbyteArray = ucs2decode(byteString);\n\t\t\t\t\t\t\tbyteCount = byteArray.length;\n\t\t\t\t\t\t\tbyteIndex = 0;\n\t\t\t\t\t\t\tvar codePoints = [];\n\t\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\t\t\t\t\t\tcodePoints.push(tmp);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn ucs2encode(codePoints);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/*--------------------------------------------------------------------------*/\n\n\t\t\t\t\t\tvar utf8 = {\n\t\t\t\t\t\t\t'version': '2.0.0',\n\t\t\t\t\t\t\t'encode': utf8encode,\n\t\t\t\t\t\t\t'decode': utf8decode\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t\t\t\t\t\t// like the following:\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof define == 'function' &&\n\t\t\t\t\t\t\ttypeof define.amd == 'object' &&\n\t\t\t\t\t\t\tdefine.amd\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdefine(function () {\n\t\t\t\t\t\t\t\treturn utf8;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (freeExports && !freeExports.nodeType) {\n\t\t\t\t\t\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\t\t\t\t\t\tfreeModule.exports = utf8;\n\t\t\t\t\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\t\t\t\t\t\tvar object = {};\n\t\t\t\t\t\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\t\t\t\t\t\tfor (var key in utf8) {\n\t\t\t\t\t\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else { // in Rhino or a web browser\n\t\t\t\t\t\t\troot.utf8 = utf8;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}(this));\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {}],\n\t\t\t30: [function (_dereq_, module, exports) {\n\t\t\t\t'use strict';\n\n\t\t\t\tvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),\n\t\t\t\t\tlength = 64,\n\t\t\t\t\tmap = {},\n\t\t\t\t\tseed = 0,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tprev;\n\n\t\t\t\t/**\n\t\t\t\t * Return a string representing the specified number.\n\t\t\t\t *\n\t\t\t\t * @param {Number} num The number to convert.\n\t\t\t\t * @returns {String} The string representation of the number.\n\t\t\t\t * @api public\n\t\t\t\t */\n\t\t\t\tfunction encode(num) {\n\t\t\t\t\tvar encoded = '';\n\n\t\t\t\t\tdo {\n\t\t\t\t\t\tencoded = alphabet[num % length] + encoded;\n\t\t\t\t\t\tnum = Math.floor(num / length);\n\t\t\t\t\t} while (num > 0);\n\n\t\t\t\t\treturn encoded;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Return the integer value specified by the given string.\n\t\t\t\t *\n\t\t\t\t * @param {String} str The string to convert.\n\t\t\t\t * @returns {Number} The integer value represented by the string.\n\t\t\t\t * @api public\n\t\t\t\t */\n\t\t\t\tfunction decode(str) {\n\t\t\t\t\tvar decoded = 0;\n\n\t\t\t\t\tfor (i = 0; i < str.length; i++) {\n\t\t\t\t\t\tdecoded = decoded * length + map[str.charAt(i)];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn decoded;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Yeast: A tiny growing id generator.\n\t\t\t\t *\n\t\t\t\t * @returns {String} A unique id.\n\t\t\t\t * @api public\n\t\t\t\t */\n\t\t\t\tfunction yeast() {\n\t\t\t\t\tvar now = encode(+new Date());\n\n\t\t\t\t\tif (now !== prev) return seed = 0, prev = now;\n\t\t\t\t\treturn now + '.' + encode(seed++);\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t// Map each character to its index.\n\t\t\t\t//\n\t\t\t\tfor (; i < length; i++) map[alphabet[i]] = i;\n\n\t\t\t\t//\n\t\t\t\t// Expose the `yeast`, `encode` and `decode` functions.\n\t\t\t\t//\n\t\t\t\tyeast.encode = encode;\n\t\t\t\tyeast.decode = decode;\n\t\t\t\tmodule.exports = yeast;\n\n\t\t\t}, {}],\n\t\t\t31: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Module dependencies.\n\t\t\t\t */\n\n\t\t\t\tvar url = _dereq_('./url');\n\t\t\t\tvar parser = _dereq_('socket.io-parser');\n\t\t\t\tvar Manager = _dereq_('./manager');\n\t\t\t\tvar debug = _dereq_('debug')('socket.io-client');\n\n\t\t\t\t/**\n\t\t\t\t * Module exports.\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = exports = lookup;\n\n\t\t\t\t/**\n\t\t\t\t * Managers cache.\n\t\t\t\t */\n\n\t\t\t\tvar cache = exports.managers = {};\n\n\t\t\t\t/**\n\t\t\t\t * Looks up an existing `Manager` for multiplexing.\n\t\t\t\t * If the user summons:\n\t\t\t\t *\n\t\t\t\t *   `io('http://localhost/a');`\n\t\t\t\t *   `io('http://localhost/b');`\n\t\t\t\t *\n\t\t\t\t * We reuse the existing instance based on same scheme/port/host,\n\t\t\t\t * and we initialize sockets for each namespace.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction lookup(uri, opts) {\n\t\t\t\t\tif (typeof uri == 'object') {\n\t\t\t\t\t\topts = uri;\n\t\t\t\t\t\turi = undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\topts = opts || {};\n\n\t\t\t\t\tvar parsed = url(uri);\n\t\t\t\t\tvar source = parsed.source;\n\t\t\t\t\tvar id = parsed.id;\n\t\t\t\t\tvar path = parsed.path;\n\t\t\t\t\tvar sameNamespace = cache[id] && path in cache[id].nsps;\n\t\t\t\t\tvar newConnection = opts.forceNew || opts['force new connection'] ||\n\t\t\t\t\t\tfalse === opts.multiplex || sameNamespace;\n\n\t\t\t\t\tvar io;\n\n\t\t\t\t\tif (newConnection) {\n\t\t\t\t\t\tdebug('ignoring socket cache for %s', source);\n\t\t\t\t\t\tio = Manager(source, opts);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!cache[id]) {\n\t\t\t\t\t\t\tdebug('new io instance for %s', source);\n\t\t\t\t\t\t\tcache[id] = Manager(source, opts);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tio = cache[id];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn io.socket(parsed.path);\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Protocol version.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.protocol = parser.protocol;\n\n\t\t\t\t/**\n\t\t\t\t * `connect`.\n\t\t\t\t *\n\t\t\t\t * @param {String} uri\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.connect = lookup;\n\n\t\t\t\t/**\n\t\t\t\t * Expose constructors for standalone build.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.Manager = _dereq_('./manager');\n\t\t\t\texports.Socket = _dereq_('./socket');\n\n\t\t\t}, {\n\t\t\t\t\"./manager\": 32,\n\t\t\t\t\"./socket\": 34,\n\t\t\t\t\"./url\": 35,\n\t\t\t\t\"debug\": 39,\n\t\t\t\t\"socket.io-parser\": 47\n\t\t\t}],\n\t\t\t32: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Module dependencies.\n\t\t\t\t */\n\n\t\t\t\tvar eio = _dereq_('engine.io-client');\n\t\t\t\tvar Socket = _dereq_('./socket');\n\t\t\t\tvar Emitter = _dereq_('component-emitter');\n\t\t\t\tvar parser = _dereq_('socket.io-parser');\n\t\t\t\tvar on = _dereq_('./on');\n\t\t\t\tvar bind = _dereq_('component-bind');\n\t\t\t\tvar debug = _dereq_('debug')('socket.io-client:manager');\n\t\t\t\tvar indexOf = _dereq_('indexof');\n\t\t\t\tvar Backoff = _dereq_('backo2');\n\n\t\t\t\t/**\n\t\t\t\t * IE6+ hasOwnProperty\n\t\t\t\t */\n\n\t\t\t\tvar has = Object.prototype.hasOwnProperty;\n\n\t\t\t\t/**\n\t\t\t\t * Module exports\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = Manager;\n\n\t\t\t\t/**\n\t\t\t\t * `Manager` constructor.\n\t\t\t\t *\n\t\t\t\t * @param {String} engine instance or engine uri/opts\n\t\t\t\t * @param {Object} options\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction Manager(uri, opts) {\n\t\t\t\t\tif (!(this instanceof Manager)) return new Manager(uri, opts);\n\t\t\t\t\tif (uri && ('object' == typeof uri)) {\n\t\t\t\t\t\topts = uri;\n\t\t\t\t\t\turi = undefined;\n\t\t\t\t\t}\n\t\t\t\t\topts = opts || {};\n\n\t\t\t\t\topts.path = opts.path || '/socket.io';\n\t\t\t\t\tthis.nsps = {};\n\t\t\t\t\tthis.subs = [];\n\t\t\t\t\tthis.opts = opts;\n\t\t\t\t\tthis.reconnection(opts.reconnection !== false);\n\t\t\t\t\tthis.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n\t\t\t\t\tthis.reconnectionDelay(opts.reconnectionDelay || 1000);\n\t\t\t\t\tthis.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n\t\t\t\t\tthis.randomizationFactor(opts.randomizationFactor || 0.5);\n\t\t\t\t\tthis.backoff = new Backoff({\n\t\t\t\t\t\tmin: this.reconnectionDelay(),\n\t\t\t\t\t\tmax: this.reconnectionDelayMax(),\n\t\t\t\t\t\tjitter: this.randomizationFactor()\n\t\t\t\t\t});\n\t\t\t\t\tthis.timeout(null == opts.timeout ? 20000 : opts.timeout);\n\t\t\t\t\tthis.readyState = 'closed';\n\t\t\t\t\tthis.uri = uri;\n\t\t\t\t\tthis.connecting = [];\n\t\t\t\t\tthis.lastPing = null;\n\t\t\t\t\tthis.encoding = false;\n\t\t\t\t\tthis.packetBuffer = [];\n\t\t\t\t\tthis.encoder = new parser.Encoder();\n\t\t\t\t\tthis.decoder = new parser.Decoder();\n\t\t\t\t\tthis.autoConnect = opts.autoConnect !== false;\n\t\t\t\t\tif (this.autoConnect) this.open();\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Propagate given event to sockets and emit on `this`\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.emitAll = function () {\n\t\t\t\t\tthis.emit.apply(this, arguments);\n\t\t\t\t\tfor (var nsp in this.nsps) {\n\t\t\t\t\t\tif (has.call(this.nsps, nsp)) {\n\t\t\t\t\t\t\tthis.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Update `socket.id` of all sockets\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.updateSocketIds = function () {\n\t\t\t\t\tfor (var nsp in this.nsps) {\n\t\t\t\t\t\tif (has.call(this.nsps, nsp)) {\n\t\t\t\t\t\t\tthis.nsps[nsp].id = this.engine.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Mix in `Emitter`.\n\t\t\t\t */\n\n\t\t\t\tEmitter(Manager.prototype);\n\n\t\t\t\t/**\n\t\t\t\t * Sets the `reconnection` config.\n\t\t\t\t *\n\t\t\t\t * @param {Boolean} true/false if it should automatically reconnect\n\t\t\t\t * @return {Manager} self or value\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.reconnection = function (v) {\n\t\t\t\t\tif (!arguments.length) return this._reconnection;\n\t\t\t\t\tthis._reconnection = !!v;\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Sets the reconnection attempts config.\n\t\t\t\t *\n\t\t\t\t * @param {Number} max reconnection attempts before giving up\n\t\t\t\t * @return {Manager} self or value\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.reconnectionAttempts = function (v) {\n\t\t\t\t\tif (!arguments.length) return this._reconnectionAttempts;\n\t\t\t\t\tthis._reconnectionAttempts = v;\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Sets the delay between reconnections.\n\t\t\t\t *\n\t\t\t\t * @param {Number} delay\n\t\t\t\t * @return {Manager} self or value\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.reconnectionDelay = function (v) {\n\t\t\t\t\tif (!arguments.length) return this._reconnectionDelay;\n\t\t\t\t\tthis._reconnectionDelay = v;\n\t\t\t\t\tthis.backoff && this.backoff.setMin(v);\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\tManager.prototype.randomizationFactor = function (v) {\n\t\t\t\t\tif (!arguments.length) return this._randomizationFactor;\n\t\t\t\t\tthis._randomizationFactor = v;\n\t\t\t\t\tthis.backoff && this.backoff.setJitter(v);\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Sets the maximum delay between reconnections.\n\t\t\t\t *\n\t\t\t\t * @param {Number} delay\n\t\t\t\t * @return {Manager} self or value\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.reconnectionDelayMax = function (v) {\n\t\t\t\t\tif (!arguments.length) return this._reconnectionDelayMax;\n\t\t\t\t\tthis._reconnectionDelayMax = v;\n\t\t\t\t\tthis.backoff && this.backoff.setMax(v);\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Sets the connection timeout. `false` to disable\n\t\t\t\t *\n\t\t\t\t * @return {Manager} self or value\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.timeout = function (v) {\n\t\t\t\t\tif (!arguments.length) return this._timeout;\n\t\t\t\t\tthis._timeout = v;\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Starts trying to reconnect if reconnection is enabled and we have not\n\t\t\t\t * started reconnecting yet\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.maybeReconnectOnOpen = function () {\n\t\t\t\t\t// Only try to reconnect if it's the first time we're connecting\n\t\t\t\t\tif (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n\t\t\t\t\t\t// keeps reconnection from firing twice for the same reconnection loop\n\t\t\t\t\t\tthis.reconnect();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\n\t\t\t\t/**\n\t\t\t\t * Sets the current transport `socket`.\n\t\t\t\t *\n\t\t\t\t * @param {Function} optional, callback\n\t\t\t\t * @return {Manager} self\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.open =\n\t\t\t\t\tManager.prototype.connect = function (fn) {\n\t\t\t\t\t\tdebug('readyState %s', this.readyState);\n\t\t\t\t\t\tif (~this.readyState.indexOf('open')) return this;\n\n\t\t\t\t\t\tdebug('opening %s', this.uri);\n\t\t\t\t\t\tthis.engine = eio(this.uri, this.opts);\n\t\t\t\t\t\tvar socket = this.engine;\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tthis.readyState = 'opening';\n\t\t\t\t\t\tthis.skipReconnect = false;\n\n\t\t\t\t\t\t// emit `open`\n\t\t\t\t\t\tvar openSub = on(socket, 'open', function () {\n\t\t\t\t\t\t\tself.onopen();\n\t\t\t\t\t\t\tfn && fn();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// emit `connect_error`\n\t\t\t\t\t\tvar errorSub = on(socket, 'error', function (data) {\n\t\t\t\t\t\t\tdebug('connect_error');\n\t\t\t\t\t\t\tself.cleanup();\n\t\t\t\t\t\t\tself.readyState = 'closed';\n\t\t\t\t\t\t\tself.emitAll('connect_error', data);\n\t\t\t\t\t\t\tif (fn) {\n\t\t\t\t\t\t\t\tvar err = new Error('Connection error');\n\t\t\t\t\t\t\t\terr.data = data;\n\t\t\t\t\t\t\t\tfn(err);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Only do this if there is no fn to handle the error\n\t\t\t\t\t\t\t\tself.maybeReconnectOnOpen();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// emit `connect_timeout`\n\t\t\t\t\t\tif (false !== this._timeout) {\n\t\t\t\t\t\t\tvar timeout = this._timeout;\n\t\t\t\t\t\t\tdebug('connect attempt will timeout after %d', timeout);\n\n\t\t\t\t\t\t\t// set timer\n\t\t\t\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\t\t\t\tdebug('connect attempt timed out after %d', timeout);\n\t\t\t\t\t\t\t\topenSub.destroy();\n\t\t\t\t\t\t\t\tsocket.close();\n\t\t\t\t\t\t\t\tsocket.emit('error', 'timeout');\n\t\t\t\t\t\t\t\tself.emitAll('connect_timeout', timeout);\n\t\t\t\t\t\t\t}, timeout);\n\n\t\t\t\t\t\t\tthis.subs.push({\n\t\t\t\t\t\t\t\tdestroy: function () {\n\t\t\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.subs.push(openSub);\n\t\t\t\t\t\tthis.subs.push(errorSub);\n\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon transport open.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.onopen = function () {\n\t\t\t\t\tdebug('open');\n\n\t\t\t\t\t// clear old subs\n\t\t\t\t\tthis.cleanup();\n\n\t\t\t\t\t// mark as open\n\t\t\t\t\tthis.readyState = 'open';\n\t\t\t\t\tthis.emit('open');\n\n\t\t\t\t\t// add new subs\n\t\t\t\t\tvar socket = this.engine;\n\t\t\t\t\tthis.subs.push(on(socket, 'data', bind(this, 'ondata')));\n\t\t\t\t\tthis.subs.push(on(socket, 'ping', bind(this, 'onping')));\n\t\t\t\t\tthis.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n\t\t\t\t\tthis.subs.push(on(socket, 'error', bind(this, 'onerror')));\n\t\t\t\t\tthis.subs.push(on(socket, 'close', bind(this, 'onclose')));\n\t\t\t\t\tthis.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon a ping.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.onping = function () {\n\t\t\t\t\tthis.lastPing = new Date;\n\t\t\t\t\tthis.emitAll('ping');\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon a packet.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.onpong = function () {\n\t\t\t\t\tthis.emitAll('pong', new Date - this.lastPing);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called with data.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.ondata = function (data) {\n\t\t\t\t\tthis.decoder.add(data);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called when parser fully decodes a packet.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.ondecoded = function (packet) {\n\t\t\t\t\tthis.emit('packet', packet);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon socket error.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.onerror = function (err) {\n\t\t\t\t\tdebug('error', err);\n\t\t\t\t\tthis.emitAll('error', err);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Creates a new socket for the given `nsp`.\n\t\t\t\t *\n\t\t\t\t * @return {Socket}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.socket = function (nsp) {\n\t\t\t\t\tvar socket = this.nsps[nsp];\n\t\t\t\t\tif (!socket) {\n\t\t\t\t\t\tsocket = new Socket(this, nsp);\n\t\t\t\t\t\tthis.nsps[nsp] = socket;\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tsocket.on('connecting', onConnecting);\n\t\t\t\t\t\tsocket.on('connect', function () {\n\t\t\t\t\t\t\tsocket.id = self.engine.id;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (this.autoConnect) {\n\t\t\t\t\t\t\t// manually call here since connecting evnet is fired before listening\n\t\t\t\t\t\t\tonConnecting();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction onConnecting() {\n\t\t\t\t\t\tif (!~indexOf(self.connecting, socket)) {\n\t\t\t\t\t\t\tself.connecting.push(socket);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn socket;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon a socket close.\n\t\t\t\t *\n\t\t\t\t * @param {Socket} socket\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.destroy = function (socket) {\n\t\t\t\t\tvar index = indexOf(this.connecting, socket);\n\t\t\t\t\tif (~index) this.connecting.splice(index, 1);\n\t\t\t\t\tif (this.connecting.length) return;\n\n\t\t\t\t\tthis.close();\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Writes a packet.\n\t\t\t\t *\n\t\t\t\t * @param {Object} packet\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.packet = function (packet) {\n\t\t\t\t\tdebug('writing packet %j', packet);\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tif (!self.encoding) {\n\t\t\t\t\t\t// encode, then write to engine with result\n\t\t\t\t\t\tself.encoding = true;\n\t\t\t\t\t\tthis.encoder.encode(packet, function (encodedPackets) {\n\t\t\t\t\t\t\tfor (var i = 0; i < encodedPackets.length; i++) {\n\t\t\t\t\t\t\t\tself.engine.write(encodedPackets[i], packet.options);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.encoding = false;\n\t\t\t\t\t\t\tself.processPacketQueue();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else { // add packet to the queue\n\t\t\t\t\t\tself.packetBuffer.push(packet);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * If packet buffer is non-empty, begins encoding the\n\t\t\t\t * next packet in line.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.processPacketQueue = function () {\n\t\t\t\t\tif (this.packetBuffer.length > 0 && !this.encoding) {\n\t\t\t\t\t\tvar pack = this.packetBuffer.shift();\n\t\t\t\t\t\tthis.packet(pack);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Clean up transport subscriptions and packet buffer.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.cleanup = function () {\n\t\t\t\t\tdebug('cleanup');\n\n\t\t\t\t\tvar sub;\n\t\t\t\t\twhile (sub = this.subs.shift()) sub.destroy();\n\n\t\t\t\t\tthis.packetBuffer = [];\n\t\t\t\t\tthis.encoding = false;\n\t\t\t\t\tthis.lastPing = null;\n\n\t\t\t\t\tthis.decoder.destroy();\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Close the current socket.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.close =\n\t\t\t\t\tManager.prototype.disconnect = function () {\n\t\t\t\t\t\tdebug('disconnect');\n\t\t\t\t\t\tthis.skipReconnect = true;\n\t\t\t\t\t\tthis.reconnecting = false;\n\t\t\t\t\t\tif ('opening' == this.readyState) {\n\t\t\t\t\t\t\t// `onclose` will not fire because\n\t\t\t\t\t\t\t// an open event never happened\n\t\t\t\t\t\t\tthis.cleanup();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.backoff.reset();\n\t\t\t\t\t\tthis.readyState = 'closed';\n\t\t\t\t\t\tif (this.engine) this.engine.close();\n\t\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon engine close.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.onclose = function (reason) {\n\t\t\t\t\tdebug('onclose');\n\n\t\t\t\t\tthis.cleanup();\n\t\t\t\t\tthis.backoff.reset();\n\t\t\t\t\tthis.readyState = 'closed';\n\t\t\t\t\tthis.emit('close', reason);\n\n\t\t\t\t\tif (this._reconnection && !this.skipReconnect) {\n\t\t\t\t\t\tthis.reconnect();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Attempt a reconnection.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.reconnect = function () {\n\t\t\t\t\tif (this.reconnecting || this.skipReconnect) return this;\n\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tif (this.backoff.attempts >= this._reconnectionAttempts) {\n\t\t\t\t\t\tdebug('reconnect failed');\n\t\t\t\t\t\tthis.backoff.reset();\n\t\t\t\t\t\tthis.emitAll('reconnect_failed');\n\t\t\t\t\t\tthis.reconnecting = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar delay = this.backoff.duration();\n\t\t\t\t\t\tdebug('will wait %dms before reconnect attempt', delay);\n\n\t\t\t\t\t\tthis.reconnecting = true;\n\t\t\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\t\t\tif (self.skipReconnect) return;\n\n\t\t\t\t\t\t\tdebug('attempting reconnect');\n\t\t\t\t\t\t\tself.emitAll('reconnect_attempt', self.backoff.attempts);\n\t\t\t\t\t\t\tself.emitAll('reconnecting', self.backoff.attempts);\n\n\t\t\t\t\t\t\t// check again for the case socket closed in above events\n\t\t\t\t\t\t\tif (self.skipReconnect) return;\n\n\t\t\t\t\t\t\tself.open(function (err) {\n\t\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\t\tdebug('reconnect attempt error');\n\t\t\t\t\t\t\t\t\tself.reconnecting = false;\n\t\t\t\t\t\t\t\t\tself.reconnect();\n\t\t\t\t\t\t\t\t\tself.emitAll('reconnect_error', err.data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdebug('reconnect success');\n\t\t\t\t\t\t\t\t\tself.onreconnect();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, delay);\n\n\t\t\t\t\t\tthis.subs.push({\n\t\t\t\t\t\t\tdestroy: function () {\n\t\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon successful reconnect.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tManager.prototype.onreconnect = function () {\n\t\t\t\t\tvar attempt = this.backoff.attempts;\n\t\t\t\t\tthis.reconnecting = false;\n\t\t\t\t\tthis.backoff.reset();\n\t\t\t\t\tthis.updateSocketIds();\n\t\t\t\t\tthis.emitAll('reconnect', attempt);\n\t\t\t\t};\n\n\t\t\t}, {\n\t\t\t\t\"./on\": 33,\n\t\t\t\t\"./socket\": 34,\n\t\t\t\t\"backo2\": 36,\n\t\t\t\t\"component-bind\": 37,\n\t\t\t\t\"component-emitter\": 38,\n\t\t\t\t\"debug\": 39,\n\t\t\t\t\"engine.io-client\": 1,\n\t\t\t\t\"indexof\": 42,\n\t\t\t\t\"socket.io-parser\": 47\n\t\t\t}],\n\t\t\t33: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Module exports.\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = on;\n\n\t\t\t\t/**\n\t\t\t\t * Helper for subscriptions.\n\t\t\t\t *\n\t\t\t\t * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n\t\t\t\t * @param {String} event name\n\t\t\t\t * @param {Function} callback\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction on(obj, ev, fn) {\n\t\t\t\t\tobj.on(ev, fn);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdestroy: function () {\n\t\t\t\t\t\t\tobj.removeListener(ev, fn);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t}, {}],\n\t\t\t34: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Module dependencies.\n\t\t\t\t */\n\n\t\t\t\tvar parser = _dereq_('socket.io-parser');\n\t\t\t\tvar Emitter = _dereq_('component-emitter');\n\t\t\t\tvar toArray = _dereq_('to-array');\n\t\t\t\tvar on = _dereq_('./on');\n\t\t\t\tvar bind = _dereq_('component-bind');\n\t\t\t\tvar debug = _dereq_('debug')('socket.io-client:socket');\n\t\t\t\tvar hasBin = _dereq_('has-binary');\n\n\t\t\t\t/**\n\t\t\t\t * Module exports.\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = exports = Socket;\n\n\t\t\t\t/**\n\t\t\t\t * Internal events (blacklisted).\n\t\t\t\t * These events can't be emitted by the user.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tvar events = {\n\t\t\t\t\tconnect: 1,\n\t\t\t\t\tconnect_error: 1,\n\t\t\t\t\tconnect_timeout: 1,\n\t\t\t\t\tconnecting: 1,\n\t\t\t\t\tdisconnect: 1,\n\t\t\t\t\terror: 1,\n\t\t\t\t\treconnect: 1,\n\t\t\t\t\treconnect_attempt: 1,\n\t\t\t\t\treconnect_failed: 1,\n\t\t\t\t\treconnect_error: 1,\n\t\t\t\t\treconnecting: 1,\n\t\t\t\t\tping: 1,\n\t\t\t\t\tpong: 1\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Shortcut to `Emitter#emit`.\n\t\t\t\t */\n\n\t\t\t\tvar emit = Emitter.prototype.emit;\n\n\t\t\t\t/**\n\t\t\t\t * `Socket` constructor.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction Socket(io, nsp) {\n\t\t\t\t\tthis.io = io;\n\t\t\t\t\tthis.nsp = nsp;\n\t\t\t\t\tthis.json = this; // compat\n\t\t\t\t\tthis.ids = 0;\n\t\t\t\t\tthis.acks = {};\n\t\t\t\t\tthis.receiveBuffer = [];\n\t\t\t\t\tthis.sendBuffer = [];\n\t\t\t\t\tthis.connected = false;\n\t\t\t\t\tthis.disconnected = true;\n\t\t\t\t\tif (this.io.autoConnect) this.open();\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Mix in `Emitter`.\n\t\t\t\t */\n\n\t\t\t\tEmitter(Socket.prototype);\n\n\t\t\t\t/**\n\t\t\t\t * Subscribe to open, close and packet events\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.subEvents = function () {\n\t\t\t\t\tif (this.subs) return;\n\n\t\t\t\t\tvar io = this.io;\n\t\t\t\t\tthis.subs = [\n\t\t\t\t\t\ton(io, 'open', bind(this, 'onopen')),\n\t\t\t\t\t\ton(io, 'packet', bind(this, 'onpacket')),\n\t\t\t\t\t\ton(io, 'close', bind(this, 'onclose'))\n\t\t\t\t\t];\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * \"Opens\" the socket.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.open =\n\t\t\t\t\tSocket.prototype.connect = function () {\n\t\t\t\t\t\tif (this.connected) return this;\n\n\t\t\t\t\t\tthis.subEvents();\n\t\t\t\t\t\tthis.io.open(); // ensure open\n\t\t\t\t\t\tif ('open' == this.io.readyState) this.onopen();\n\t\t\t\t\t\tthis.emit('connecting');\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Sends a `message` event.\n\t\t\t\t *\n\t\t\t\t * @return {Socket} self\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.send = function () {\n\t\t\t\t\tvar args = toArray(arguments);\n\t\t\t\t\targs.unshift('message');\n\t\t\t\t\tthis.emit.apply(this, args);\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Override `emit`.\n\t\t\t\t * If the event is in `events`, it's emitted normally.\n\t\t\t\t *\n\t\t\t\t * @param {String} event name\n\t\t\t\t * @return {Socket} self\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.emit = function (ev) {\n\t\t\t\t\tif (events.hasOwnProperty(ev)) {\n\t\t\t\t\t\temit.apply(this, arguments);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar args = toArray(arguments);\n\t\t\t\t\tvar parserType = parser.EVENT; // default\n\t\t\t\t\tif (hasBin(args)) {\n\t\t\t\t\t\tparserType = parser.BINARY_EVENT;\n\t\t\t\t\t} // binary\n\t\t\t\t\tvar packet = {\n\t\t\t\t\t\ttype: parserType,\n\t\t\t\t\t\tdata: args\n\t\t\t\t\t};\n\n\t\t\t\t\tpacket.options = {};\n\t\t\t\t\tpacket.options.compress = !this.flags || false !== this.flags.compress;\n\n\t\t\t\t\t// event ack callback\n\t\t\t\t\tif ('function' == typeof args[args.length - 1]) {\n\t\t\t\t\t\tdebug('emitting packet with ack id %d', this.ids);\n\t\t\t\t\t\tthis.acks[this.ids] = args.pop();\n\t\t\t\t\t\tpacket.id = this.ids++;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.connected) {\n\t\t\t\t\t\tthis.packet(packet);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.sendBuffer.push(packet);\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete this.flags;\n\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Sends a packet.\n\t\t\t\t *\n\t\t\t\t * @param {Object} packet\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.packet = function (packet) {\n\t\t\t\t\tpacket.nsp = this.nsp;\n\t\t\t\t\tthis.io.packet(packet);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon engine `open`.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.onopen = function () {\n\t\t\t\t\tdebug('transport is open - connecting');\n\n\t\t\t\t\t// write connect packet if necessary\n\t\t\t\t\tif ('/' != this.nsp) {\n\t\t\t\t\t\tthis.packet({\n\t\t\t\t\t\t\ttype: parser.CONNECT\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon engine `close`.\n\t\t\t\t *\n\t\t\t\t * @param {String} reason\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.onclose = function (reason) {\n\t\t\t\t\tdebug('close (%s)', reason);\n\t\t\t\t\tthis.connected = false;\n\t\t\t\t\tthis.disconnected = true;\n\t\t\t\t\tdelete this.id;\n\t\t\t\t\tthis.emit('disconnect', reason);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called with socket packet.\n\t\t\t\t *\n\t\t\t\t * @param {Object} packet\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.onpacket = function (packet) {\n\t\t\t\t\tif (packet.nsp != this.nsp) return;\n\n\t\t\t\t\tswitch (packet.type) {\n\t\t\t\t\t\tcase parser.CONNECT:\n\t\t\t\t\t\t\tthis.onconnect();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase parser.EVENT:\n\t\t\t\t\t\t\tthis.onevent(packet);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase parser.BINARY_EVENT:\n\t\t\t\t\t\t\tthis.onevent(packet);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase parser.ACK:\n\t\t\t\t\t\t\tthis.onack(packet);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase parser.BINARY_ACK:\n\t\t\t\t\t\t\tthis.onack(packet);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase parser.DISCONNECT:\n\t\t\t\t\t\t\tthis.ondisconnect();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase parser.ERROR:\n\t\t\t\t\t\t\tthis.emit('error', packet.data);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon a server event.\n\t\t\t\t *\n\t\t\t\t * @param {Object} packet\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.onevent = function (packet) {\n\t\t\t\t\tvar args = packet.data || [];\n\t\t\t\t\tdebug('emitting event %j', args);\n\n\t\t\t\t\tif (null != packet.id) {\n\t\t\t\t\t\tdebug('attaching ack callback to event');\n\t\t\t\t\t\targs.push(this.ack(packet.id));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.connected) {\n\t\t\t\t\t\temit.apply(this, args);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.receiveBuffer.push(args);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Produces an ack callback to emit with an event.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.ack = function (id) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tvar sent = false;\n\t\t\t\t\treturn function () {\n\t\t\t\t\t\t// prevent double callbacks\n\t\t\t\t\t\tif (sent) return;\n\t\t\t\t\t\tsent = true;\n\t\t\t\t\t\tvar args = toArray(arguments);\n\t\t\t\t\t\tdebug('sending ack %j', args);\n\n\t\t\t\t\t\tvar type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n\t\t\t\t\t\tself.packet({\n\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\tdata: args\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon a server acknowlegement.\n\t\t\t\t *\n\t\t\t\t * @param {Object} packet\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.onack = function (packet) {\n\t\t\t\t\tvar ack = this.acks[packet.id];\n\t\t\t\t\tif ('function' == typeof ack) {\n\t\t\t\t\t\tdebug('calling ack %s with %j', packet.id, packet.data);\n\t\t\t\t\t\tack.apply(this, packet.data);\n\t\t\t\t\t\tdelete this.acks[packet.id];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdebug('bad ack %s', packet.id);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon server connect.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.onconnect = function () {\n\t\t\t\t\tthis.connected = true;\n\t\t\t\t\tthis.disconnected = false;\n\t\t\t\t\tthis.emit('connect');\n\t\t\t\t\tthis.emitBuffered();\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Emit buffered events (received and emitted).\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.emitBuffered = function () {\n\t\t\t\t\tvar i;\n\t\t\t\t\tfor (i = 0; i < this.receiveBuffer.length; i++) {\n\t\t\t\t\t\temit.apply(this, this.receiveBuffer[i]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.receiveBuffer = [];\n\n\t\t\t\t\tfor (i = 0; i < this.sendBuffer.length; i++) {\n\t\t\t\t\t\tthis.packet(this.sendBuffer[i]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendBuffer = [];\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon server disconnect.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.ondisconnect = function () {\n\t\t\t\t\tdebug('server disconnect (%s)', this.nsp);\n\t\t\t\t\tthis.destroy();\n\t\t\t\t\tthis.onclose('io server disconnect');\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Called upon forced client/server side disconnections,\n\t\t\t\t * this method ensures the manager stops tracking us and\n\t\t\t\t * that reconnections don't get triggered for this.\n\t\t\t\t *\n\t\t\t\t * @api private.\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.destroy = function () {\n\t\t\t\t\tif (this.subs) {\n\t\t\t\t\t\t// clean subscriptions to avoid reconnections\n\t\t\t\t\t\tfor (var i = 0; i < this.subs.length; i++) {\n\t\t\t\t\t\t\tthis.subs[i].destroy();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.subs = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.io.destroy(this);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Disconnects the socket manually.\n\t\t\t\t *\n\t\t\t\t * @return {Socket} self\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.close =\n\t\t\t\t\tSocket.prototype.disconnect = function () {\n\t\t\t\t\t\tif (this.connected) {\n\t\t\t\t\t\t\tdebug('performing disconnect (%s)', this.nsp);\n\t\t\t\t\t\t\tthis.packet({\n\t\t\t\t\t\t\t\ttype: parser.DISCONNECT\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// remove socket from pool\n\t\t\t\t\t\tthis.destroy();\n\n\t\t\t\t\t\tif (this.connected) {\n\t\t\t\t\t\t\t// fire events\n\t\t\t\t\t\t\tthis.onclose('io client disconnect');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Sets the compress flag.\n\t\t\t\t *\n\t\t\t\t * @param {Boolean} if `true`, compresses the sending data\n\t\t\t\t * @return {Socket} self\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tSocket.prototype.compress = function (compress) {\n\t\t\t\t\tthis.flags = this.flags || {};\n\t\t\t\t\tthis.flags.compress = compress;\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t}, {\n\t\t\t\t\"./on\": 33,\n\t\t\t\t\"component-bind\": 37,\n\t\t\t\t\"component-emitter\": 38,\n\t\t\t\t\"debug\": 39,\n\t\t\t\t\"has-binary\": 41,\n\t\t\t\t\"socket.io-parser\": 47,\n\t\t\t\t\"to-array\": 51\n\t\t\t}],\n\t\t\t35: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module dependencies.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar parseuri = _dereq_('parseuri');\n\t\t\t\t\tvar debug = _dereq_('debug')('socket.io-client:url');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module exports.\n\t\t\t\t\t */\n\n\t\t\t\t\tmodule.exports = url;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * URL parser.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {String} url\n\t\t\t\t\t * @param {Object} An object meant to mimic window.location.\n\t\t\t\t\t *                 Defaults to window.location.\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction url(uri, loc) {\n\t\t\t\t\t\tvar obj = uri;\n\n\t\t\t\t\t\t// default to window.location\n\t\t\t\t\t\tvar loc = loc || global.location;\n\t\t\t\t\t\tif (null == uri) uri = loc.protocol + '//' + loc.host;\n\n\t\t\t\t\t\t// relative path support\n\t\t\t\t\t\tif ('string' == typeof uri) {\n\t\t\t\t\t\t\tif ('/' == uri.charAt(0)) {\n\t\t\t\t\t\t\t\tif ('/' == uri.charAt(1)) {\n\t\t\t\t\t\t\t\t\turi = loc.protocol + uri;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\turi = loc.host + uri;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!/^(https?|wss?):\\/\\//.test(uri)) {\n\t\t\t\t\t\t\t\tdebug('protocol-less url %s', uri);\n\t\t\t\t\t\t\t\tif ('undefined' != typeof loc) {\n\t\t\t\t\t\t\t\t\turi = loc.protocol + '//' + uri;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\turi = 'https://' + uri;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// parse\n\t\t\t\t\t\t\tdebug('parse %s', uri);\n\t\t\t\t\t\t\tobj = parseuri(uri);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// make sure we treat `localhost:80` and `localhost` equally\n\t\t\t\t\t\tif (!obj.port) {\n\t\t\t\t\t\t\tif (/^(http|ws)$/.test(obj.protocol)) {\n\t\t\t\t\t\t\t\tobj.port = '80';\n\t\t\t\t\t\t\t} else if (/^(http|ws)s$/.test(obj.protocol)) {\n\t\t\t\t\t\t\t\tobj.port = '443';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobj.path = obj.path || '/';\n\n\t\t\t\t\t\tvar ipv6 = obj.host.indexOf(':') !== -1;\n\t\t\t\t\t\tvar host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n\t\t\t\t\t\t// define unique id\n\t\t\t\t\t\tobj.id = obj.protocol + '://' + host + ':' + obj.port;\n\t\t\t\t\t\t// define href\n\t\t\t\t\t\tobj.href = obj.protocol + '://' + host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\n\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t}\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"debug\": 39,\n\t\t\t\t\"parseuri\": 45\n\t\t\t}],\n\t\t\t36: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Expose `Backoff`.\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = Backoff;\n\n\t\t\t\t/**\n\t\t\t\t * Initialize backoff timer with `opts`.\n\t\t\t\t *\n\t\t\t\t * - `min` initial timeout in milliseconds [100]\n\t\t\t\t * - `max` max timeout [10000]\n\t\t\t\t * - `jitter` [0]\n\t\t\t\t * - `factor` [2]\n\t\t\t\t *\n\t\t\t\t * @param {Object} opts\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction Backoff(opts) {\n\t\t\t\t\topts = opts || {};\n\t\t\t\t\tthis.ms = opts.min || 100;\n\t\t\t\t\tthis.max = opts.max || 10000;\n\t\t\t\t\tthis.factor = opts.factor || 2;\n\t\t\t\t\tthis.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n\t\t\t\t\tthis.attempts = 0;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Return the backoff duration.\n\t\t\t\t *\n\t\t\t\t * @return {Number}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tBackoff.prototype.duration = function () {\n\t\t\t\t\tvar ms = this.ms * Math.pow(this.factor, this.attempts++);\n\t\t\t\t\tif (this.jitter) {\n\t\t\t\t\t\tvar rand = Math.random();\n\t\t\t\t\t\tvar deviation = Math.floor(rand * this.jitter * ms);\n\t\t\t\t\t\tms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n\t\t\t\t\t}\n\t\t\t\t\treturn Math.min(ms, this.max) | 0;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Reset the number of attempts.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tBackoff.prototype.reset = function () {\n\t\t\t\t\tthis.attempts = 0;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Set the minimum duration\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tBackoff.prototype.setMin = function (min) {\n\t\t\t\t\tthis.ms = min;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Set the maximum duration\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tBackoff.prototype.setMax = function (max) {\n\t\t\t\t\tthis.max = max;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Set the jitter\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tBackoff.prototype.setJitter = function (jitter) {\n\t\t\t\t\tthis.jitter = jitter;\n\t\t\t\t};\n\n\n\t\t\t}, {}],\n\t\t\t37: [function (_dereq_, module, exports) {\n\t\t\t\t/**\n\t\t\t\t * Slice reference.\n\t\t\t\t */\n\n\t\t\t\tvar slice = [].slice;\n\n\t\t\t\t/**\n\t\t\t\t * Bind `obj` to `fn`.\n\t\t\t\t *\n\t\t\t\t * @param {Object} obj\n\t\t\t\t * @param {Function|String} fn or string\n\t\t\t\t * @return {Function}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = function (obj, fn) {\n\t\t\t\t\tif ('string' == typeof fn) fn = obj[fn];\n\t\t\t\t\tif ('function' != typeof fn) throw new Error('bind() requires a function');\n\t\t\t\t\tvar args = slice.call(arguments, 2);\n\t\t\t\t\treturn function () {\n\t\t\t\t\t\treturn fn.apply(obj, args.concat(slice.call(arguments)));\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t}, {}],\n\t\t\t38: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Expose `Emitter`.\n\t\t\t\t */\n\n\t\t\t\tmodule.exports = Emitter;\n\n\t\t\t\t/**\n\t\t\t\t * Initialize a new `Emitter`.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction Emitter(obj) {\n\t\t\t\t\tif (obj) return mixin(obj);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Mixin the emitter properties.\n\t\t\t\t *\n\t\t\t\t * @param {Object} obj\n\t\t\t\t * @return {Object}\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction mixin(obj) {\n\t\t\t\t\tfor (var key in Emitter.prototype) {\n\t\t\t\t\t\tobj[key] = Emitter.prototype[key];\n\t\t\t\t\t}\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Listen on the given `event` with `fn`.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @param {Function} fn\n\t\t\t\t * @return {Emitter}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.on =\n\t\t\t\t\tEmitter.prototype.addEventListener = function (event, fn) {\n\t\t\t\t\t\tthis._callbacks = this._callbacks || {};\n\t\t\t\t\t\t(this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n\t\t\t\t\t\t.push(fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Adds an `event` listener that will be invoked a single\n\t\t\t\t * time then automatically removed.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @param {Function} fn\n\t\t\t\t * @return {Emitter}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.once = function (event, fn) {\n\t\t\t\t\tfunction on() {\n\t\t\t\t\t\tthis.off(event, on);\n\t\t\t\t\t\tfn.apply(this, arguments);\n\t\t\t\t\t}\n\n\t\t\t\t\ton.fn = fn;\n\t\t\t\t\tthis.on(event, on);\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Remove the given callback for `event` or all\n\t\t\t\t * registered callbacks.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @param {Function} fn\n\t\t\t\t * @return {Emitter}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.off =\n\t\t\t\t\tEmitter.prototype.removeListener =\n\t\t\t\t\tEmitter.prototype.removeAllListeners =\n\t\t\t\t\tEmitter.prototype.removeEventListener = function (event, fn) {\n\t\t\t\t\t\tthis._callbacks = this._callbacks || {};\n\n\t\t\t\t\t\t// all\n\t\t\t\t\t\tif (0 == arguments.length) {\n\t\t\t\t\t\t\tthis._callbacks = {};\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// specific event\n\t\t\t\t\t\tvar callbacks = this._callbacks['$' + event];\n\t\t\t\t\t\tif (!callbacks) return this;\n\n\t\t\t\t\t\t// remove all handlers\n\t\t\t\t\t\tif (1 == arguments.length) {\n\t\t\t\t\t\t\tdelete this._callbacks['$' + event];\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// remove specific handler\n\t\t\t\t\t\tvar cb;\n\t\t\t\t\t\tfor (var i = 0; i < callbacks.length; i++) {\n\t\t\t\t\t\t\tcb = callbacks[i];\n\t\t\t\t\t\t\tif (cb === fn || cb.fn === fn) {\n\t\t\t\t\t\t\t\tcallbacks.splice(i, 1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Emit `event` with the given args.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @param {Mixed} ...\n\t\t\t\t * @return {Emitter}\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.emit = function (event) {\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\n\t\t\t\t\tvar args = [].slice.call(arguments, 1),\n\t\t\t\t\t\tcallbacks = this._callbacks['$' + event];\n\n\t\t\t\t\tif (callbacks) {\n\t\t\t\t\t\tcallbacks = callbacks.slice(0);\n\t\t\t\t\t\tfor (var i = 0, len = callbacks.length; i < len; ++i) {\n\t\t\t\t\t\t\tcallbacks[i].apply(this, args);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Return array of callbacks for `event`.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @return {Array}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.listeners = function (event) {\n\t\t\t\t\tthis._callbacks = this._callbacks || {};\n\t\t\t\t\treturn this._callbacks['$' + event] || [];\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Check if this emitter has `event` handlers.\n\t\t\t\t *\n\t\t\t\t * @param {String} event\n\t\t\t\t * @return {Boolean}\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEmitter.prototype.hasListeners = function (event) {\n\t\t\t\t\treturn !!this.listeners(event).length;\n\t\t\t\t};\n\n\t\t\t}, {}],\n\t\t\t39: [function (_dereq_, module, exports) {\n\t\t\t\targuments[4][17][0].apply(exports, arguments)\n\t\t\t}, {\n\t\t\t\t\"./debug\": 40,\n\t\t\t\t\"dup\": 17\n\t\t\t}],\n\t\t\t40: [function (_dereq_, module, exports) {\n\t\t\t\targuments[4][18][0].apply(exports, arguments)\n\t\t\t}, {\n\t\t\t\t\"dup\": 18,\n\t\t\t\t\"ms\": 44\n\t\t\t}],\n\t\t\t41: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\n\t\t\t\t\t/*\n\t\t\t\t\t * Module requirements.\n\t\t\t\t\t */\n\n\t\t\t\t\tvar isArray = _dereq_('isarray');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module exports.\n\t\t\t\t\t */\n\n\t\t\t\t\tmodule.exports = hasBinary;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Checks for binary data.\n\t\t\t\t\t *\n\t\t\t\t\t * Right now only Buffer and ArrayBuffer are supported..\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} anything\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction hasBinary(data) {\n\n\t\t\t\t\t\tfunction _hasBinary(obj) {\n\t\t\t\t\t\t\tif (!obj) return false;\n\n\t\t\t\t\t\t\tif ((global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n\t\t\t\t\t\t\t\t(global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n\t\t\t\t\t\t\t\t(global.Blob && obj instanceof Blob) ||\n\t\t\t\t\t\t\t\t(global.File && obj instanceof File)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (isArray(obj)) {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < obj.length; i++) {\n\t\t\t\t\t\t\t\t\tif (_hasBinary(obj[i])) {\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (obj && 'object' == typeof obj) {\n\t\t\t\t\t\t\t\t// see: https://github.com/Automattic/has-binary/pull/4\n\t\t\t\t\t\t\t\tif (obj.toJSON && 'function' == typeof obj.toJSON) {\n\t\t\t\t\t\t\t\t\tobj = obj.toJSON();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfor (var key in obj) {\n\t\t\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn _hasBinary(data);\n\t\t\t\t\t}\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"isarray\": 43\n\t\t\t}],\n\t\t\t42: [function (_dereq_, module, exports) {\n\t\t\t\targuments[4][23][0].apply(exports, arguments)\n\t\t\t}, {\n\t\t\t\t\"dup\": 23\n\t\t\t}],\n\t\t\t43: [function (_dereq_, module, exports) {\n\t\t\t\targuments[4][24][0].apply(exports, arguments)\n\t\t\t}, {\n\t\t\t\t\"dup\": 24\n\t\t\t}],\n\t\t\t44: [function (_dereq_, module, exports) {\n\t\t\t\targuments[4][25][0].apply(exports, arguments)\n\t\t\t}, {\n\t\t\t\t\"dup\": 25\n\t\t\t}],\n\t\t\t45: [function (_dereq_, module, exports) {\n\t\t\t\targuments[4][28][0].apply(exports, arguments)\n\t\t\t}, {\n\t\t\t\t\"dup\": 28\n\t\t\t}],\n\t\t\t46: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/*global Blob,File*/\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Module requirements\n\t\t\t\t\t */\n\n\t\t\t\t\tvar isArray = _dereq_('isarray');\n\t\t\t\t\tvar isBuf = _dereq_('./is-buffer');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n\t\t\t\t\t * Anything with blobs or files should be fed through removeBlobs before coming\n\t\t\t\t\t * here.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} packet - socket.io event packet\n\t\t\t\t\t * @return {Object} with deconstructed packet and list of buffers\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\texports.deconstructPacket = function (packet) {\n\t\t\t\t\t\tvar buffers = [];\n\t\t\t\t\t\tvar packetData = packet.data;\n\n\t\t\t\t\t\tfunction _deconstructPacket(data) {\n\t\t\t\t\t\t\tif (!data) return data;\n\n\t\t\t\t\t\t\tif (isBuf(data)) {\n\t\t\t\t\t\t\t\tvar placeholder = {\n\t\t\t\t\t\t\t\t\t_placeholder: true,\n\t\t\t\t\t\t\t\t\tnum: buffers.length\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbuffers.push(data);\n\t\t\t\t\t\t\t\treturn placeholder;\n\t\t\t\t\t\t\t} else if (isArray(data)) {\n\t\t\t\t\t\t\t\tvar newData = new Array(data.length);\n\t\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\t\tnewData[i] = _deconstructPacket(data[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn newData;\n\t\t\t\t\t\t\t} else if ('object' == typeof data && !(data instanceof Date)) {\n\t\t\t\t\t\t\t\tvar newData = {};\n\t\t\t\t\t\t\t\tfor (var key in data) {\n\t\t\t\t\t\t\t\t\tnewData[key] = _deconstructPacket(data[key]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn newData;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar pack = packet;\n\t\t\t\t\t\tpack.data = _deconstructPacket(packetData);\n\t\t\t\t\t\tpack.attachments = buffers.length; // number of binary 'attachments'\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tpacket: pack,\n\t\t\t\t\t\t\tbuffers: buffers\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Reconstructs a binary packet from its placeholder packet and buffers\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} packet - event packet with placeholders\n\t\t\t\t\t * @param {Array} buffers - binary buffers to put in placeholder positions\n\t\t\t\t\t * @return {Object} reconstructed packet\n\t\t\t\t\t * @api public\n\t\t\t\t\t */\n\n\t\t\t\t\texports.reconstructPacket = function (packet, buffers) {\n\t\t\t\t\t\tvar curPlaceHolder = 0;\n\n\t\t\t\t\t\tfunction _reconstructPacket(data) {\n\t\t\t\t\t\t\tif (data && data._placeholder) {\n\t\t\t\t\t\t\t\tvar buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\n\t\t\t\t\t\t\t\treturn buf;\n\t\t\t\t\t\t\t} else if (isArray(data)) {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\t\tdata[i] = _reconstructPacket(data[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t\t} else if (data && 'object' == typeof data) {\n\t\t\t\t\t\t\t\tfor (var key in data) {\n\t\t\t\t\t\t\t\t\tdata[key] = _reconstructPacket(data[key]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpacket.data = _reconstructPacket(packet.data);\n\t\t\t\t\t\tpacket.attachments = undefined; // no longer useful\n\t\t\t\t\t\treturn packet;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Asynchronously removes Blobs or Files from data via\n\t\t\t\t\t * FileReader's readAsArrayBuffer method. Used before encoding\n\t\t\t\t\t * data as msgpack. Calls callback with the blobless data.\n\t\t\t\t\t *\n\t\t\t\t\t * @param {Object} data\n\t\t\t\t\t * @param {Function} callback\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\texports.removeBlobs = function (data, callback) {\n\t\t\t\t\t\tfunction _removeBlobs(obj, curKey, containingObject) {\n\t\t\t\t\t\t\tif (!obj) return obj;\n\n\t\t\t\t\t\t\t// convert any blob\n\t\t\t\t\t\t\tif ((global.Blob && obj instanceof Blob) ||\n\t\t\t\t\t\t\t\t(global.File && obj instanceof File)) {\n\t\t\t\t\t\t\t\tpendingBlobs++;\n\n\t\t\t\t\t\t\t\t// async filereader\n\t\t\t\t\t\t\t\tvar fileReader = new FileReader();\n\t\t\t\t\t\t\t\tfileReader.onload = function () { // this.result == arraybuffer\n\t\t\t\t\t\t\t\t\tif (containingObject) {\n\t\t\t\t\t\t\t\t\t\tcontainingObject[curKey] = this.result;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tbloblessData = this.result;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// if nothing pending its callback time\n\t\t\t\t\t\t\t\t\tif (!--pendingBlobs) {\n\t\t\t\t\t\t\t\t\t\tcallback(bloblessData);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tfileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n\t\t\t\t\t\t\t} else if (isArray(obj)) { // handle array\n\t\t\t\t\t\t\t\tfor (var i = 0; i < obj.length; i++) {\n\t\t\t\t\t\t\t\t\t_removeBlobs(obj[i], i, obj);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\n\t\t\t\t\t\t\t\tfor (var key in obj) {\n\t\t\t\t\t\t\t\t\t_removeBlobs(obj[key], key, obj);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar pendingBlobs = 0;\n\t\t\t\t\t\tvar bloblessData = data;\n\t\t\t\t\t\t_removeBlobs(bloblessData);\n\t\t\t\t\t\tif (!pendingBlobs) {\n\t\t\t\t\t\t\tcallback(bloblessData);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {\n\t\t\t\t\"./is-buffer\": 48,\n\t\t\t\t\"isarray\": 43\n\t\t\t}],\n\t\t\t47: [function (_dereq_, module, exports) {\n\n\t\t\t\t/**\n\t\t\t\t * Module dependencies.\n\t\t\t\t */\n\n\t\t\t\tvar debug = _dereq_('debug')('socket.io-parser');\n\t\t\t\tvar json = _dereq_('json3');\n\t\t\t\tvar isArray = _dereq_('isarray');\n\t\t\t\tvar Emitter = _dereq_('component-emitter');\n\t\t\t\tvar binary = _dereq_('./binary');\n\t\t\t\tvar isBuf = _dereq_('./is-buffer');\n\n\t\t\t\t/**\n\t\t\t\t * Protocol version.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.protocol = 4;\n\n\t\t\t\t/**\n\t\t\t\t * Packet types.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.types = [\n\t\t\t\t\t'CONNECT',\n\t\t\t\t\t'DISCONNECT',\n\t\t\t\t\t'EVENT',\n\t\t\t\t\t'BINARY_EVENT',\n\t\t\t\t\t'ACK',\n\t\t\t\t\t'BINARY_ACK',\n\t\t\t\t\t'ERROR'\n\t\t\t\t];\n\n\t\t\t\t/**\n\t\t\t\t * Packet type `connect`.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.CONNECT = 0;\n\n\t\t\t\t/**\n\t\t\t\t * Packet type `disconnect`.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.DISCONNECT = 1;\n\n\t\t\t\t/**\n\t\t\t\t * Packet type `event`.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.EVENT = 2;\n\n\t\t\t\t/**\n\t\t\t\t * Packet type `ack`.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.ACK = 3;\n\n\t\t\t\t/**\n\t\t\t\t * Packet type `error`.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.ERROR = 4;\n\n\t\t\t\t/**\n\t\t\t\t * Packet type 'binary event'\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.BINARY_EVENT = 5;\n\n\t\t\t\t/**\n\t\t\t\t * Packet type `binary ack`. For acks with binary arguments.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.BINARY_ACK = 6;\n\n\t\t\t\t/**\n\t\t\t\t * Encoder constructor.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.Encoder = Encoder;\n\n\t\t\t\t/**\n\t\t\t\t * Decoder constructor.\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\texports.Decoder = Decoder;\n\n\t\t\t\t/**\n\t\t\t\t * A socket.io Encoder instance\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction Encoder() {}\n\n\t\t\t\t/**\n\t\t\t\t * Encode a packet as a single string if non-binary, or as a\n\t\t\t\t * buffer sequence, depending on packet type.\n\t\t\t\t *\n\t\t\t\t * @param {Object} obj - packet object\n\t\t\t\t * @param {Function} callback - function to handle encodings (likely engine.write)\n\t\t\t\t * @return Calls callback with Array of encodings\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tEncoder.prototype.encode = function (obj, callback) {\n\t\t\t\t\tdebug('encoding packet %j', obj);\n\n\t\t\t\t\tif (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n\t\t\t\t\t\tencodeAsBinary(obj, callback);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar encoding = encodeAsString(obj);\n\t\t\t\t\t\tcallback([encoding]);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Encode packet as string.\n\t\t\t\t *\n\t\t\t\t * @param {Object} packet\n\t\t\t\t * @return {String} encoded\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction encodeAsString(obj) {\n\t\t\t\t\tvar str = '';\n\t\t\t\t\tvar nsp = false;\n\n\t\t\t\t\t// first is type\n\t\t\t\t\tstr += obj.type;\n\n\t\t\t\t\t// attachments if we have them\n\t\t\t\t\tif (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n\t\t\t\t\t\tstr += obj.attachments;\n\t\t\t\t\t\tstr += '-';\n\t\t\t\t\t}\n\n\t\t\t\t\t// if we have a namespace other than `/`\n\t\t\t\t\t// we append it followed by a comma `,`\n\t\t\t\t\tif (obj.nsp && '/' != obj.nsp) {\n\t\t\t\t\t\tnsp = true;\n\t\t\t\t\t\tstr += obj.nsp;\n\t\t\t\t\t}\n\n\t\t\t\t\t// immediately followed by the id\n\t\t\t\t\tif (null != obj.id) {\n\t\t\t\t\t\tif (nsp) {\n\t\t\t\t\t\t\tstr += ',';\n\t\t\t\t\t\t\tnsp = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstr += obj.id;\n\t\t\t\t\t}\n\n\t\t\t\t\t// json data\n\t\t\t\t\tif (null != obj.data) {\n\t\t\t\t\t\tif (nsp) str += ',';\n\t\t\t\t\t\tstr += json.stringify(obj.data);\n\t\t\t\t\t}\n\n\t\t\t\t\tdebug('encoded %j as %s', obj, str);\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Encode packet as 'buffer sequence' by removing blobs, and\n\t\t\t\t * deconstructing packet into object with placeholders and\n\t\t\t\t * a list of buffers.\n\t\t\t\t *\n\t\t\t\t * @param {Object} packet\n\t\t\t\t * @return {Buffer} encoded\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction encodeAsBinary(obj, callback) {\n\n\t\t\t\t\tfunction writeEncoding(bloblessData) {\n\t\t\t\t\t\tvar deconstruction = binary.deconstructPacket(bloblessData);\n\t\t\t\t\t\tvar pack = encodeAsString(deconstruction.packet);\n\t\t\t\t\t\tvar buffers = deconstruction.buffers;\n\n\t\t\t\t\t\tbuffers.unshift(pack); // add packet info to beginning of data list\n\t\t\t\t\t\tcallback(buffers); // write all the buffers\n\t\t\t\t\t}\n\n\t\t\t\t\tbinary.removeBlobs(obj, writeEncoding);\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * A socket.io Decoder instance\n\t\t\t\t *\n\t\t\t\t * @return {Object} decoder\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tfunction Decoder() {\n\t\t\t\t\tthis.reconstructor = null;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Mix in `Emitter` with Decoder.\n\t\t\t\t */\n\n\t\t\t\tEmitter(Decoder.prototype);\n\n\t\t\t\t/**\n\t\t\t\t * Decodes an ecoded packet string into packet JSON.\n\t\t\t\t *\n\t\t\t\t * @param {String} obj - encoded packet\n\t\t\t\t * @return {Object} packet\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tDecoder.prototype.add = function (obj) {\n\t\t\t\t\tvar packet;\n\t\t\t\t\tif ('string' == typeof obj) {\n\t\t\t\t\t\tpacket = decodeString(obj);\n\t\t\t\t\t\tif (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\n\t\t\t\t\t\t\tthis.reconstructor = new BinaryReconstructor(packet);\n\n\t\t\t\t\t\t\t// no attachments, labeled binary but no binary data to follow\n\t\t\t\t\t\t\tif (this.reconstructor.reconPack.attachments === 0) {\n\t\t\t\t\t\t\t\tthis.emit('decoded', packet);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else { // non-binary full packet\n\t\t\t\t\t\t\tthis.emit('decoded', packet);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (isBuf(obj) || obj.base64) { // raw binary data\n\t\t\t\t\t\tif (!this.reconstructor) {\n\t\t\t\t\t\t\tthrow new Error('got binary data when not reconstructing a packet');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpacket = this.reconstructor.takeBinaryData(obj);\n\t\t\t\t\t\t\tif (packet) { // received final buffer\n\t\t\t\t\t\t\t\tthis.reconstructor = null;\n\t\t\t\t\t\t\t\tthis.emit('decoded', packet);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('Unknown type: ' + obj);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Decode a packet String (JSON data)\n\t\t\t\t *\n\t\t\t\t * @param {String} str\n\t\t\t\t * @return {Object} packet\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction decodeString(str) {\n\t\t\t\t\tvar p = {};\n\t\t\t\t\tvar i = 0;\n\n\t\t\t\t\t// look up type\n\t\t\t\t\tp.type = Number(str.charAt(0));\n\t\t\t\t\tif (null == exports.types[p.type]) return error();\n\n\t\t\t\t\t// look up attachments if type binary\n\t\t\t\t\tif (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n\t\t\t\t\t\tvar buf = '';\n\t\t\t\t\t\twhile (str.charAt(++i) != '-') {\n\t\t\t\t\t\t\tbuf += str.charAt(i);\n\t\t\t\t\t\t\tif (i == str.length) break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (buf != Number(buf) || str.charAt(i) != '-') {\n\t\t\t\t\t\t\tthrow new Error('Illegal attachments');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp.attachments = Number(buf);\n\t\t\t\t\t}\n\n\t\t\t\t\t// look up namespace (if any)\n\t\t\t\t\tif ('/' == str.charAt(i + 1)) {\n\t\t\t\t\t\tp.nsp = '';\n\t\t\t\t\t\twhile (++i) {\n\t\t\t\t\t\t\tvar c = str.charAt(i);\n\t\t\t\t\t\t\tif (',' == c) break;\n\t\t\t\t\t\t\tp.nsp += c;\n\t\t\t\t\t\t\tif (i == str.length) break;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp.nsp = '/';\n\t\t\t\t\t}\n\n\t\t\t\t\t// look up id\n\t\t\t\t\tvar next = str.charAt(i + 1);\n\t\t\t\t\tif ('' !== next && Number(next) == next) {\n\t\t\t\t\t\tp.id = '';\n\t\t\t\t\t\twhile (++i) {\n\t\t\t\t\t\t\tvar c = str.charAt(i);\n\t\t\t\t\t\t\tif (null == c || Number(c) != c) {\n\t\t\t\t\t\t\t\t--i;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tp.id += str.charAt(i);\n\t\t\t\t\t\t\tif (i == str.length) break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp.id = Number(p.id);\n\t\t\t\t\t}\n\n\t\t\t\t\t// look up json data\n\t\t\t\t\tif (str.charAt(++i)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tp.data = json.parse(str.substr(i));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\treturn error();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tdebug('decoded %s as %j', str, p);\n\t\t\t\t\treturn p;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Deallocates a parser's resources\n\t\t\t\t *\n\t\t\t\t * @api public\n\t\t\t\t */\n\n\t\t\t\tDecoder.prototype.destroy = function () {\n\t\t\t\t\tif (this.reconstructor) {\n\t\t\t\t\t\tthis.reconstructor.finishedReconstruction();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * A manager of a binary event's 'buffer sequence'. Should\n\t\t\t\t * be constructed whenever a packet of type BINARY_EVENT is\n\t\t\t\t * decoded.\n\t\t\t\t *\n\t\t\t\t * @param {Object} packet\n\t\t\t\t * @return {BinaryReconstructor} initialized reconstructor\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tfunction BinaryReconstructor(packet) {\n\t\t\t\t\tthis.reconPack = packet;\n\t\t\t\t\tthis.buffers = [];\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Method to be called when binary data received from connection\n\t\t\t\t * after a BINARY_EVENT packet.\n\t\t\t\t *\n\t\t\t\t * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n\t\t\t\t * @return {null | Object} returns null if more binary data is expected or\n\t\t\t\t *   a reconstructed packet object if all buffers have been received.\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tBinaryReconstructor.prototype.takeBinaryData = function (binData) {\n\t\t\t\t\tthis.buffers.push(binData);\n\t\t\t\t\tif (this.buffers.length == this.reconPack.attachments) { // done with buffer list\n\t\t\t\t\t\tvar packet = binary.reconstructPacket(this.reconPack, this.buffers);\n\t\t\t\t\t\tthis.finishedReconstruction();\n\t\t\t\t\t\treturn packet;\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Cleans up binary packet reconstruction variables.\n\t\t\t\t *\n\t\t\t\t * @api private\n\t\t\t\t */\n\n\t\t\t\tBinaryReconstructor.prototype.finishedReconstruction = function () {\n\t\t\t\t\tthis.reconPack = null;\n\t\t\t\t\tthis.buffers = [];\n\t\t\t\t};\n\n\t\t\t\tfunction error(data) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: exports.ERROR,\n\t\t\t\t\t\tdata: 'parser error'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t}, {\n\t\t\t\t\"./binary\": 46,\n\t\t\t\t\"./is-buffer\": 48,\n\t\t\t\t\"component-emitter\": 49,\n\t\t\t\t\"debug\": 39,\n\t\t\t\t\"isarray\": 43,\n\t\t\t\t\"json3\": 50\n\t\t\t}],\n\t\t\t48: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\n\t\t\t\t\tmodule.exports = isBuf;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Returns true if obj is a buffer or an arraybuffer.\n\t\t\t\t\t *\n\t\t\t\t\t * @api private\n\t\t\t\t\t */\n\n\t\t\t\t\tfunction isBuf(obj) {\n\t\t\t\t\t\treturn (global.Buffer && global.Buffer.isBuffer(obj)) ||\n\t\t\t\t\t\t\t(global.ArrayBuffer && obj instanceof ArrayBuffer);\n\t\t\t\t\t}\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {}],\n\t\t\t49: [function (_dereq_, module, exports) {\n\t\t\t\targuments[4][15][0].apply(exports, arguments)\n\t\t\t}, {\n\t\t\t\t\"dup\": 15\n\t\t\t}],\n\t\t\t50: [function (_dereq_, module, exports) {\n\t\t\t\t(function (global) {\n\t\t\t\t\t/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\n\t\t\t\t\t;\n\t\t\t\t\t(function () {\n\t\t\t\t\t\t// Detect the `define` function exposed by asynchronous module loaders. The\n\t\t\t\t\t\t// strict `define` check is necessary for compatibility with `r.js`.\n\t\t\t\t\t\tvar isLoader = typeof define === \"function\" && define.amd;\n\n\t\t\t\t\t\t// A set of types used to distinguish objects from primitives.\n\t\t\t\t\t\tvar objectTypes = {\n\t\t\t\t\t\t\t\"function\": true,\n\t\t\t\t\t\t\t\"object\": true\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Detect the `exports` object exposed by CommonJS implementations.\n\t\t\t\t\t\tvar freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n\t\t\t\t\t\t// Use the `global` object exposed by Node (including Browserify via\n\t\t\t\t\t\t// `insert-module-globals`), Narwhal, and Ringo as the default context,\n\t\t\t\t\t\t// and the `window` object in browsers. Rhino exports a `global` function\n\t\t\t\t\t\t// instead.\n\t\t\t\t\t\tvar root = objectTypes[typeof window] && window || this,\n\t\t\t\t\t\t\tfreeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n\t\t\t\t\t\tif (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n\t\t\t\t\t\t\troot = freeGlobal;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Public: Initializes JSON 3 using the given `context` object, attaching the\n\t\t\t\t\t\t// `stringify` and `parse` functions to the specified `exports` object.\n\t\t\t\t\t\tfunction runInContext(context, exports) {\n\t\t\t\t\t\t\tcontext || (context = root[\"Object\"]());\n\t\t\t\t\t\t\texports || (exports = root[\"Object\"]());\n\n\t\t\t\t\t\t\t// Native constructor aliases.\n\t\t\t\t\t\t\tvar Number = context[\"Number\"] || root[\"Number\"],\n\t\t\t\t\t\t\t\tString = context[\"String\"] || root[\"String\"],\n\t\t\t\t\t\t\t\tObject = context[\"Object\"] || root[\"Object\"],\n\t\t\t\t\t\t\t\tDate = context[\"Date\"] || root[\"Date\"],\n\t\t\t\t\t\t\t\tSyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n\t\t\t\t\t\t\t\tTypeError = context[\"TypeError\"] || root[\"TypeError\"],\n\t\t\t\t\t\t\t\tMath = context[\"Math\"] || root[\"Math\"],\n\t\t\t\t\t\t\t\tnativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n\t\t\t\t\t\t\t// Delegate to the native `stringify` and `parse` implementations.\n\t\t\t\t\t\t\tif (typeof nativeJSON == \"object\" && nativeJSON) {\n\t\t\t\t\t\t\t\texports.stringify = nativeJSON.stringify;\n\t\t\t\t\t\t\t\texports.parse = nativeJSON.parse;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Convenience aliases.\n\t\t\t\t\t\t\tvar objectProto = Object.prototype,\n\t\t\t\t\t\t\t\tgetClass = objectProto.toString,\n\t\t\t\t\t\t\t\tisProperty, forEach, undef;\n\n\t\t\t\t\t\t\t// Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n\t\t\t\t\t\t\tvar isExtended = new Date(-3509827334573292);\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n\t\t\t\t\t\t\t\t// results for certain dates in Opera >= 10.53.\n\t\t\t\t\t\t\t\tisExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n\t\t\t\t\t\t\t\t\t// Safari < 2.0.2 stores the internal millisecond time value correctly,\n\t\t\t\t\t\t\t\t\t// but clips the values returned by the date methods to the range of\n\t\t\t\t\t\t\t\t\t// signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n\t\t\t\t\t\t\t\t\tisExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n\t\t\t\t\t\t\t} catch (exception) {}\n\n\t\t\t\t\t\t\t// Internal: Determines whether the native `JSON.stringify` and `parse`\n\t\t\t\t\t\t\t// implementations are spec-compliant. Based on work by Ken Snyder.\n\t\t\t\t\t\t\tfunction has(name) {\n\t\t\t\t\t\t\t\tif (has[name] !== undef) {\n\t\t\t\t\t\t\t\t\t// Return cached feature test result.\n\t\t\t\t\t\t\t\t\treturn has[name];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar isSupported;\n\t\t\t\t\t\t\t\tif (name == \"bug-string-char-index\") {\n\t\t\t\t\t\t\t\t\t// IE <= 7 doesn't support accessing string characters using square\n\t\t\t\t\t\t\t\t\t// bracket notation. IE 8 only supports this for primitives.\n\t\t\t\t\t\t\t\t\tisSupported = \"a\" [0] != \"a\";\n\t\t\t\t\t\t\t\t} else if (name == \"json\") {\n\t\t\t\t\t\t\t\t\t// Indicates whether both `JSON.stringify` and `JSON.parse` are\n\t\t\t\t\t\t\t\t\t// supported.\n\t\t\t\t\t\t\t\t\tisSupported = has(\"json-stringify\") && has(\"json-parse\");\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n\t\t\t\t\t\t\t\t\t// Test `JSON.stringify`.\n\t\t\t\t\t\t\t\t\tif (name == \"json-stringify\") {\n\t\t\t\t\t\t\t\t\t\tvar stringify = exports.stringify,\n\t\t\t\t\t\t\t\t\t\t\tstringifySupported = typeof stringify == \"function\" && isExtended;\n\t\t\t\t\t\t\t\t\t\tif (stringifySupported) {\n\t\t\t\t\t\t\t\t\t\t\t// A test function object with a custom `toJSON` method.\n\t\t\t\t\t\t\t\t\t\t\t(value = function () {\n\t\t\t\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t\t\t\t}).toJSON = value;\n\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\tstringifySupported =\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Firefox 3.1b1 and b2 serialize string, number, and boolean\n\t\t\t\t\t\t\t\t\t\t\t\t\t// primitives as object literals.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(0) === \"0\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n\t\t\t\t\t\t\t\t\t\t\t\t\t// literals.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Number()) === \"0\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new String()) == '\"\"' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n\t\t\t\t\t\t\t\t\t\t\t\t\t// does not define a canonical JSON representation (this applies to\n\t\t\t\t\t\t\t\t\t\t\t\t\t// objects with `toJSON` properties as well, *unless* they are nested\n\t\t\t\t\t\t\t\t\t\t\t\t\t// within an object or array).\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(getClass) === undef &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b3 pass this test.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(undef) === undef &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n\t\t\t\t\t\t\t\t\t\t\t\t\t// respectively, if the value is omitted entirely.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify() === undef &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, 2 throw an error if the given value is not a number,\n\t\t\t\t\t\t\t\t\t\t\t\t\t// string, array, object, Boolean, or `null` literal. This applies to\n\t\t\t\t\t\t\t\t\t\t\t\t\t// objects with custom `toJSON` methods as well, unless they are nested\n\t\t\t\t\t\t\t\t\t\t\t\t\t// inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n\t\t\t\t\t\t\t\t\t\t\t\t\t// methods entirely.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(value) === \"1\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify([value]) == \"[1]\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n\t\t\t\t\t\t\t\t\t\t\t\t\t// `\"[null]\"`.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify([undef]) == \"[null]\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// YUI 3.0.0b1 fails to serialize `null` literals.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(null) == \"null\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, 2 halts serialization if an array contains a function:\n\t\t\t\t\t\t\t\t\t\t\t\t\t// `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n\t\t\t\t\t\t\t\t\t\t\t\t\t// elides non-JSON values from objects and arrays, unless they\n\t\t\t\t\t\t\t\t\t\t\t\t\t// define custom `toJSON` methods.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify([undef, getClass, null]) == \"[null,null,null]\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n\t\t\t\t\t\t\t\t\t\t\t\t\t// where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"]\n\t\t\t\t\t\t\t\t\t\t\t\t\t}) == serialized &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(null, value) === \"1\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n\t\t\t\t\t\t\t\t\t\t\t\t\t// serialize extended years.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// The milliseconds are optional in ES 5, but required in 5.1.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n\t\t\t\t\t\t\t\t\t\t\t\t\t// four-digit years instead of six-digit years. Credits: @Yaffle.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n\t\t\t\t\t\t\t\t\t\t\t\t\t// values less than 1000. Credits: @Yaffle.\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {\n\t\t\t\t\t\t\t\t\t\t\t\tstringifySupported = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tisSupported = stringifySupported;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// Test `JSON.parse`.\n\t\t\t\t\t\t\t\t\tif (name == \"json-parse\") {\n\t\t\t\t\t\t\t\t\t\tvar parse = exports.parse;\n\t\t\t\t\t\t\t\t\t\tif (typeof parse == \"function\") {\n\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t// FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n\t\t\t\t\t\t\t\t\t\t\t\t// Conforming implementations should also coerce the initial argument to\n\t\t\t\t\t\t\t\t\t\t\t\t// a string prior to parsing.\n\t\t\t\t\t\t\t\t\t\t\t\tif (parse(\"0\") === 0 && !parse(false)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Simple parsing test.\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = parse(serialized);\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (parseSupported) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseSupported = !parse('\"\\t\"');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parseSupported) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 4.0 and 4.0.1 allow leading `+` signs and leading\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// certain octal literals.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseSupported = parse(\"01\") !== 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parseSupported) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// points. These environments, along with FF 3.1b1 and 2,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// also allow trailing commas in JSON objects and arrays.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseSupported = parse(\"1.\") !== 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {\n\t\t\t\t\t\t\t\t\t\t\t\tparseSupported = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tisSupported = parseSupported;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn has[name] = !!isSupported;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!has(\"json\")) {\n\t\t\t\t\t\t\t\t// Common `[[Class]]` name aliases.\n\t\t\t\t\t\t\t\tvar functionClass = \"[object Function]\",\n\t\t\t\t\t\t\t\t\tdateClass = \"[object Date]\",\n\t\t\t\t\t\t\t\t\tnumberClass = \"[object Number]\",\n\t\t\t\t\t\t\t\t\tstringClass = \"[object String]\",\n\t\t\t\t\t\t\t\t\tarrayClass = \"[object Array]\",\n\t\t\t\t\t\t\t\t\tbooleanClass = \"[object Boolean]\";\n\n\t\t\t\t\t\t\t\t// Detect incomplete support for accessing string characters by index.\n\t\t\t\t\t\t\t\tvar charIndexBuggy = has(\"bug-string-char-index\");\n\n\t\t\t\t\t\t\t\t// Define additional utility methods if the `Date` methods are buggy.\n\t\t\t\t\t\t\t\tif (!isExtended) {\n\t\t\t\t\t\t\t\t\tvar floor = Math.floor;\n\t\t\t\t\t\t\t\t\t// A mapping between the months of the year and the number of days between\n\t\t\t\t\t\t\t\t\t// January 1st and the first of the respective month.\n\t\t\t\t\t\t\t\t\tvar Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n\t\t\t\t\t\t\t\t\t// Internal: Calculates the number of days between the Unix epoch and the\n\t\t\t\t\t\t\t\t\t// first day of the given month.\n\t\t\t\t\t\t\t\t\tvar getDay = function (year, month) {\n\t\t\t\t\t\t\t\t\t\treturn Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Internal: Determines if a property is a direct property of the given\n\t\t\t\t\t\t\t\t// object. Delegates to the native `Object#hasOwnProperty` method.\n\t\t\t\t\t\t\t\tif (!(isProperty = objectProto.hasOwnProperty)) {\n\t\t\t\t\t\t\t\t\tisProperty = function (property) {\n\t\t\t\t\t\t\t\t\t\tvar members = {},\n\t\t\t\t\t\t\t\t\t\t\tconstructor;\n\t\t\t\t\t\t\t\t\t\tif ((members.__proto__ = null, members.__proto__ = {\n\t\t\t\t\t\t\t\t\t\t\t\t// The *proto* property cannot be set multiple times in recent\n\t\t\t\t\t\t\t\t\t\t\t\t// versions of Firefox and SeaMonkey.\n\t\t\t\t\t\t\t\t\t\t\t\t\"toString\": 1\n\t\t\t\t\t\t\t\t\t\t\t}, members).toString != getClass) {\n\t\t\t\t\t\t\t\t\t\t\t// Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n\t\t\t\t\t\t\t\t\t\t\t// supports the mutable *proto* property.\n\t\t\t\t\t\t\t\t\t\t\tisProperty = function (property) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Capture and break the object's prototype chain (see section 8.6.2\n\t\t\t\t\t\t\t\t\t\t\t\t// of the ES 5.1 spec). The parenthesized expression prevents an\n\t\t\t\t\t\t\t\t\t\t\t\t// unsafe transformation by the Closure Compiler.\n\t\t\t\t\t\t\t\t\t\t\t\tvar original = this.__proto__,\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult = property in (this.__proto__ = null, this);\n\t\t\t\t\t\t\t\t\t\t\t\t// Restore the original prototype chain.\n\t\t\t\t\t\t\t\t\t\t\t\tthis.__proto__ = original;\n\t\t\t\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t// Capture a reference to the top-level `Object` constructor.\n\t\t\t\t\t\t\t\t\t\t\tconstructor = members.constructor;\n\t\t\t\t\t\t\t\t\t\t\t// Use the `constructor` property to simulate `Object#hasOwnProperty` in\n\t\t\t\t\t\t\t\t\t\t\t// other environments.\n\t\t\t\t\t\t\t\t\t\t\tisProperty = function (property) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar parent = (this.constructor || constructor).prototype;\n\t\t\t\t\t\t\t\t\t\t\t\treturn property in this && !(property in parent && this[property] === parent[property]);\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tmembers = null;\n\t\t\t\t\t\t\t\t\t\treturn isProperty.call(this, property);\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Internal: Normalizes the `for...in` iteration algorithm across\n\t\t\t\t\t\t\t\t// environments. Each enumerated key is yielded to a `callback` function.\n\t\t\t\t\t\t\t\tforEach = function (object, callback) {\n\t\t\t\t\t\t\t\t\tvar size = 0,\n\t\t\t\t\t\t\t\t\t\tProperties, members, property;\n\n\t\t\t\t\t\t\t\t\t// Tests for bugs in the current environment's `for...in` algorithm. The\n\t\t\t\t\t\t\t\t\t// `valueOf` property inherits the non-enumerable flag from\n\t\t\t\t\t\t\t\t\t// `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n\t\t\t\t\t\t\t\t\t(Properties = function () {\n\t\t\t\t\t\t\t\t\t\tthis.valueOf = 0;\n\t\t\t\t\t\t\t\t\t}).prototype.valueOf = 0;\n\n\t\t\t\t\t\t\t\t\t// Iterate over a new instance of the `Properties` class.\n\t\t\t\t\t\t\t\t\tmembers = new Properties();\n\t\t\t\t\t\t\t\t\tfor (property in members) {\n\t\t\t\t\t\t\t\t\t\t// Ignore all properties inherited from `Object.prototype`.\n\t\t\t\t\t\t\t\t\t\tif (isProperty.call(members, property)) {\n\t\t\t\t\t\t\t\t\t\t\tsize++;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tProperties = members = null;\n\n\t\t\t\t\t\t\t\t\t// Normalize the iteration algorithm.\n\t\t\t\t\t\t\t\t\tif (!size) {\n\t\t\t\t\t\t\t\t\t\t// A list of non-enumerable properties inherited from `Object.prototype`.\n\t\t\t\t\t\t\t\t\t\tmembers = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n\t\t\t\t\t\t\t\t\t\t// IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n\t\t\t\t\t\t\t\t\t\t// properties.\n\t\t\t\t\t\t\t\t\t\tforEach = function (object, callback) {\n\t\t\t\t\t\t\t\t\t\t\tvar isFunction = getClass.call(object) == functionClass,\n\t\t\t\t\t\t\t\t\t\t\t\tproperty, length;\n\t\t\t\t\t\t\t\t\t\t\tvar hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n\t\t\t\t\t\t\t\t\t\t\tfor (property in object) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Gecko <= 1.0 enumerates the `prototype` property of functions under\n\t\t\t\t\t\t\t\t\t\t\t\t// certain conditions; IE does not.\n\t\t\t\t\t\t\t\t\t\t\t\tif (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcallback(property);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// Manually invoke the callback for each non-enumerable property.\n\t\t\t\t\t\t\t\t\t\t\tfor (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t} else if (size == 2) {\n\t\t\t\t\t\t\t\t\t\t// Safari <= 2.0.4 enumerates shadowed properties twice.\n\t\t\t\t\t\t\t\t\t\tforEach = function (object, callback) {\n\t\t\t\t\t\t\t\t\t\t\t// Create a set of iterated properties.\n\t\t\t\t\t\t\t\t\t\t\tvar members = {},\n\t\t\t\t\t\t\t\t\t\t\t\tisFunction = getClass.call(object) == functionClass,\n\t\t\t\t\t\t\t\t\t\t\t\tproperty;\n\t\t\t\t\t\t\t\t\t\t\tfor (property in object) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Store each property name to prevent double enumeration. The\n\t\t\t\t\t\t\t\t\t\t\t\t// `prototype` property of functions is not enumerated due to cross-\n\t\t\t\t\t\t\t\t\t\t\t\t// environment inconsistencies.\n\t\t\t\t\t\t\t\t\t\t\t\tif (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcallback(property);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// No bugs detected; use the standard `for...in` algorithm.\n\t\t\t\t\t\t\t\t\t\tforEach = function (object, callback) {\n\t\t\t\t\t\t\t\t\t\t\tvar isFunction = getClass.call(object) == functionClass,\n\t\t\t\t\t\t\t\t\t\t\t\tproperty, isConstructor;\n\t\t\t\t\t\t\t\t\t\t\tfor (property in object) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcallback(property);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// Manually invoke the callback for the `constructor` property due to\n\t\t\t\t\t\t\t\t\t\t\t// cross-environment inconsistencies.\n\t\t\t\t\t\t\t\t\t\t\tif (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n\t\t\t\t\t\t\t\t\t\t\t\tcallback(property);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn forEach(object, callback);\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t// Public: Serializes a JavaScript `value` as a JSON string. The optional\n\t\t\t\t\t\t\t\t// `filter` argument may specify either a function that alters how object and\n\t\t\t\t\t\t\t\t// array members are serialized, or an array of strings and numbers that\n\t\t\t\t\t\t\t\t// indicates which properties should be serialized. The optional `width`\n\t\t\t\t\t\t\t\t// argument may be either a string or number that specifies the indentation\n\t\t\t\t\t\t\t\t// level of the output.\n\t\t\t\t\t\t\t\tif (!has(\"json-stringify\")) {\n\t\t\t\t\t\t\t\t\t// Internal: A map of control characters and their escaped equivalents.\n\t\t\t\t\t\t\t\t\tvar Escapes = {\n\t\t\t\t\t\t\t\t\t\t92: \"\\\\\\\\\",\n\t\t\t\t\t\t\t\t\t\t34: '\\\\\"',\n\t\t\t\t\t\t\t\t\t\t8: \"\\\\b\",\n\t\t\t\t\t\t\t\t\t\t12: \"\\\\f\",\n\t\t\t\t\t\t\t\t\t\t10: \"\\\\n\",\n\t\t\t\t\t\t\t\t\t\t13: \"\\\\r\",\n\t\t\t\t\t\t\t\t\t\t9: \"\\\\t\"\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Internal: Converts `value` into a zero-padded string such that its\n\t\t\t\t\t\t\t\t\t// length is at least equal to `width`. The `width` must be <= 6.\n\t\t\t\t\t\t\t\t\tvar leadingZeroes = \"000000\";\n\t\t\t\t\t\t\t\t\tvar toPaddedString = function (width, value) {\n\t\t\t\t\t\t\t\t\t\t// The `|| 0` expression is necessary to work around a bug in\n\t\t\t\t\t\t\t\t\t\t// Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n\t\t\t\t\t\t\t\t\t\treturn (leadingZeroes + (value || 0)).slice(-width);\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Internal: Double-quotes a string `value`, replacing all ASCII control\n\t\t\t\t\t\t\t\t\t// characters (characters with code unit values between 0 and 31) with\n\t\t\t\t\t\t\t\t\t// their escaped equivalents. This is an implementation of the\n\t\t\t\t\t\t\t\t\t// `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n\t\t\t\t\t\t\t\t\tvar unicodePrefix = \"\\\\u00\";\n\t\t\t\t\t\t\t\t\tvar quote = function (value) {\n\t\t\t\t\t\t\t\t\t\tvar result = '\"',\n\t\t\t\t\t\t\t\t\t\t\tindex = 0,\n\t\t\t\t\t\t\t\t\t\t\tlength = value.length,\n\t\t\t\t\t\t\t\t\t\t\tuseCharIndex = !charIndexBuggy || length > 10;\n\t\t\t\t\t\t\t\t\t\tvar symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n\t\t\t\t\t\t\t\t\t\tfor (; index < length; index++) {\n\t\t\t\t\t\t\t\t\t\t\tvar charCode = value.charCodeAt(index);\n\t\t\t\t\t\t\t\t\t\t\t// If the character is a control character, append its Unicode or\n\t\t\t\t\t\t\t\t\t\t\t// shorthand escape sequence; otherwise, append the character as-is.\n\t\t\t\t\t\t\t\t\t\t\tswitch (charCode) {\n\t\t\t\t\t\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 10:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 34:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 92:\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult += Escapes[charCode];\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode < 32) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult += unicodePrefix + toPaddedString(2, charCode.toString(16));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult += useCharIndex ? symbols[index] : value.charAt(index);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn result + '\"';\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Internal: Recursively serializes an object. Implements the\n\t\t\t\t\t\t\t\t\t// `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n\t\t\t\t\t\t\t\t\tvar serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n\t\t\t\t\t\t\t\t\t\tvar value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t// Necessary for host object support.\n\t\t\t\t\t\t\t\t\t\t\tvalue = object[property];\n\t\t\t\t\t\t\t\t\t\t} catch (exception) {}\n\t\t\t\t\t\t\t\t\t\tif (typeof value == \"object\" && value) {\n\t\t\t\t\t\t\t\t\t\t\tclassName = getClass.call(value);\n\t\t\t\t\t\t\t\t\t\t\tif (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (value > -1 / 0 && value < 1 / 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Dates are serialized according to the `Date#toJSON` method\n\t\t\t\t\t\t\t\t\t\t\t\t\t// specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n\t\t\t\t\t\t\t\t\t\t\t\t\t// for the ISO 8601 date time string format.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (getDay) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Manually compute the year, month, date, hours, minutes,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// seconds, and milliseconds if the `getUTC*` methods are\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// buggy. Adapted from @Yaffle's `date-shim` project.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate = floor(value / 864e5);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate = 1 + date - getDay(year, month);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The `time` value specifies the time within the day (see ES\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// to compute `A modulo B`, as the `%` operator does not\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// correspond to the `modulo` operation for negative numbers.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttime = (value % 864e5 + 864e5) % 864e5;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The hours, minutes, seconds, and milliseconds are obtained by\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// decomposing the time within the day. See section 15.9.1.10.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thours = floor(time / 36e5) % 24;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tminutes = floor(time / 6e4) % 60;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tseconds = floor(time / 1e3) % 60;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmilliseconds = time % 1e3;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tyear = value.getUTCFullYear();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmonth = value.getUTCMonth();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate = value.getUTCDate();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thours = value.getUTCHours();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tminutes = value.getUTCMinutes();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tseconds = value.getUTCSeconds();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmilliseconds = value.getUTCMilliseconds();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Serialize extended years correctly.\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Months, dates, hours, minutes, and seconds should have two\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// digits; milliseconds should have three.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Milliseconds are optional in ES 5.0, but required in 5.1.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\".\" + toPaddedString(3, milliseconds) + \"Z\";\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = null;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n\t\t\t\t\t\t\t\t\t\t\t\t// `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n\t\t\t\t\t\t\t\t\t\t\t\t// ignores all `toJSON` methods on these objects unless they are\n\t\t\t\t\t\t\t\t\t\t\t\t// defined directly on an instance.\n\t\t\t\t\t\t\t\t\t\t\t\tvalue = value.toJSON(property);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\t\t\t\t\t// If a replacement function was provided, call it to obtain the value\n\t\t\t\t\t\t\t\t\t\t\t// for serialization.\n\t\t\t\t\t\t\t\t\t\t\tvalue = callback.call(object, property, value);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\t\t\t\t\t\treturn \"null\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName = getClass.call(value);\n\t\t\t\t\t\t\t\t\t\tif (className == booleanClass) {\n\t\t\t\t\t\t\t\t\t\t\t// Booleans are represented literally.\n\t\t\t\t\t\t\t\t\t\t\treturn \"\" + value;\n\t\t\t\t\t\t\t\t\t\t} else if (className == numberClass) {\n\t\t\t\t\t\t\t\t\t\t\t// JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n\t\t\t\t\t\t\t\t\t\t\t// `\"null\"`.\n\t\t\t\t\t\t\t\t\t\t\treturn value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n\t\t\t\t\t\t\t\t\t\t} else if (className == stringClass) {\n\t\t\t\t\t\t\t\t\t\t\t// Strings are double-quoted and escaped.\n\t\t\t\t\t\t\t\t\t\t\treturn quote(\"\" + value);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// Recursively serialize objects and arrays.\n\t\t\t\t\t\t\t\t\t\tif (typeof value == \"object\") {\n\t\t\t\t\t\t\t\t\t\t\t// Check for cyclic structures. This is a linear search; performance\n\t\t\t\t\t\t\t\t\t\t\t// is inversely proportional to the number of unique nested objects.\n\t\t\t\t\t\t\t\t\t\t\tfor (length = stack.length; length--;) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (stack[length] === value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Cyclic structures cannot be serialized by `JSON.stringify`.\n\t\t\t\t\t\t\t\t\t\t\t\t\tthrow TypeError();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// Add the object to the stack of traversed objects.\n\t\t\t\t\t\t\t\t\t\t\tstack.push(value);\n\t\t\t\t\t\t\t\t\t\t\tresults = [];\n\t\t\t\t\t\t\t\t\t\t\t// Save the current indentation level and indent one additional level.\n\t\t\t\t\t\t\t\t\t\t\tprefix = indentation;\n\t\t\t\t\t\t\t\t\t\t\tindentation += whitespace;\n\t\t\t\t\t\t\t\t\t\t\tif (className == arrayClass) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Recursively serialize array elements.\n\t\t\t\t\t\t\t\t\t\t\t\tfor (index = 0, length = value.length; index < length; index++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = serialize(index, value, callback, properties, whitespace, indentation, stack);\n\t\t\t\t\t\t\t\t\t\t\t\t\tresults.push(element === undef ? \"null\" : element);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tresult = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t// Recursively serialize object members. Members are selected from\n\t\t\t\t\t\t\t\t\t\t\t\t// either a user-specified list of property names, or the object\n\t\t\t\t\t\t\t\t\t\t\t\t// itself.\n\t\t\t\t\t\t\t\t\t\t\t\tforEach(properties || value, function (property) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (element !== undef) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// is not the empty string, let `member` {quote(property) + \":\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// be the concatenation of `member` and the `space` character.\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The \"`space` character\" refers to the literal space\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// character, not the `space` {width} argument provided to\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// `JSON.stringify`.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresults.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tresult = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// Remove the object from the traversed object stack.\n\t\t\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n\t\t\t\t\t\t\t\t\texports.stringify = function (source, filter, width) {\n\t\t\t\t\t\t\t\t\t\tvar whitespace, callback, properties, className;\n\t\t\t\t\t\t\t\t\t\tif (objectTypes[typeof filter] && filter) {\n\t\t\t\t\t\t\t\t\t\t\tif ((className = getClass.call(filter)) == functionClass) {\n\t\t\t\t\t\t\t\t\t\t\t\tcallback = filter;\n\t\t\t\t\t\t\t\t\t\t\t} else if (className == arrayClass) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Convert the property names array into a makeshift set.\n\t\t\t\t\t\t\t\t\t\t\t\tproperties = {};\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (width) {\n\t\t\t\t\t\t\t\t\t\t\tif ((className = getClass.call(width)) == numberClass) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Convert the `width` to an integer and create a string containing\n\t\t\t\t\t\t\t\t\t\t\t\t// `width` number of space characters.\n\t\t\t\t\t\t\t\t\t\t\t\tif ((width -= width % 1) > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if (className == stringClass) {\n\t\t\t\t\t\t\t\t\t\t\t\twhitespace = width.length <= 10 ? width : width.slice(0, 10);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// Opera <= 7.54u2 discards the values associated with empty string keys\n\t\t\t\t\t\t\t\t\t\t// (`\"\"`) only if they are used directly within an object member list\n\t\t\t\t\t\t\t\t\t\t// (e.g., `!(\"\" in { \"\": 1})`).\n\t\t\t\t\t\t\t\t\t\treturn serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Public: Parses a JSON source string.\n\t\t\t\t\t\t\t\tif (!has(\"json-parse\")) {\n\t\t\t\t\t\t\t\t\tvar fromCharCode = String.fromCharCode;\n\n\t\t\t\t\t\t\t\t\t// Internal: A map of escaped control characters and their unescaped\n\t\t\t\t\t\t\t\t\t// equivalents.\n\t\t\t\t\t\t\t\t\tvar Unescapes = {\n\t\t\t\t\t\t\t\t\t\t92: \"\\\\\",\n\t\t\t\t\t\t\t\t\t\t34: '\"',\n\t\t\t\t\t\t\t\t\t\t47: \"/\",\n\t\t\t\t\t\t\t\t\t\t98: \"\\b\",\n\t\t\t\t\t\t\t\t\t\t116: \"\\t\",\n\t\t\t\t\t\t\t\t\t\t110: \"\\n\",\n\t\t\t\t\t\t\t\t\t\t102: \"\\f\",\n\t\t\t\t\t\t\t\t\t\t114: \"\\r\"\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Internal: Stores the parser state.\n\t\t\t\t\t\t\t\t\tvar Index, Source;\n\n\t\t\t\t\t\t\t\t\t// Internal: Resets the parser state and throws a `SyntaxError`.\n\t\t\t\t\t\t\t\t\tvar abort = function () {\n\t\t\t\t\t\t\t\t\t\tIndex = Source = null;\n\t\t\t\t\t\t\t\t\t\tthrow SyntaxError();\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Internal: Returns the next token, or `\"$\"` if the parser has reached\n\t\t\t\t\t\t\t\t\t// the end of the source string. A token may be a string, number, `null`\n\t\t\t\t\t\t\t\t\t// literal, or Boolean literal.\n\t\t\t\t\t\t\t\t\tvar lex = function () {\n\t\t\t\t\t\t\t\t\t\tvar source = Source,\n\t\t\t\t\t\t\t\t\t\t\tlength = source.length,\n\t\t\t\t\t\t\t\t\t\t\tvalue, begin, position, isSigned, charCode;\n\t\t\t\t\t\t\t\t\t\twhile (Index < length) {\n\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\n\t\t\t\t\t\t\t\t\t\t\tswitch (charCode) {\n\t\t\t\t\t\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 10:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 32:\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Skip whitespace tokens, including tabs, carriage returns, line\n\t\t\t\t\t\t\t\t\t\t\t\t\t// feeds, and space characters.\n\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\tcase 123:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 125:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 91:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 93:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 58:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 44:\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n\t\t\t\t\t\t\t\t\t\t\t\t\t// the current position.\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = charIndexBuggy ? source.charAt(Index) : source[Index];\n\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t\t\t\t\t\tcase 34:\n\t\t\t\t\t\t\t\t\t\t\t\t\t// `\"` delimits a JSON string; advance to the next character and\n\t\t\t\t\t\t\t\t\t\t\t\t\t// begin parsing the string. String tokens are prefixed with the\n\t\t\t\t\t\t\t\t\t\t\t\t\t// sentinel `@` character to distinguish them from punctuators and\n\t\t\t\t\t\t\t\t\t\t\t\t\t// end-of-string tokens.\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (value = \"@\", Index++; Index < length;) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode < 32) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Unescaped ASCII control characters (those with a code unit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// less than the space character) are not permitted.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (charCode == 92) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// A reverse solidus (`\\`) marks the beginning of an escaped\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// control character (including `\"`, `\\`, and `/`) or Unicode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// escape sequence.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(++Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tswitch (charCode) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 92:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 34:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 47:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 98:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 116:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 110:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 102:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 114:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Revive escaped control characters.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue += Unescapes[charCode];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 117:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// `\\u` marks the beginning of a Unicode escape sequence.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Advance to the first character and validate the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// four-digit code point.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbegin = ++Index;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (position = Index + 4; Index < position; Index++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// A valid sequence comprises four hexdigits (case-\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// insensitive) that form a single hexadecimal value.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Invalid Unicode escape sequence.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Revive the escaped character.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue += fromCharCode(\"0x\" + source.slice(begin, Index));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Invalid escape sequence.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 34) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// An unescaped double-quote character marks the end of the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// string.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbegin = Index;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Optimize for the common case where a string is valid.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twhile (charCode >= 32 && charCode != 92 && charCode != 34) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(++Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Append the string as-is.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue += source.slice(begin, Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (source.charCodeAt(Index) == 34) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Advance to the next character and return the revived string.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Unterminated string.\n\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse numbers and literals.\n\t\t\t\t\t\t\t\t\t\t\t\t\tbegin = Index;\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Advance past the negative sign, if one is specified.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 45) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSigned = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(++Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse an integer or floating-point value.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode >= 48 && charCode <= 57) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Leading zeroes are interpreted as octal literals.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Illegal octal literal.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSigned = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse the integer component.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Floats cannot contain a leading decimal point; however, this\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// case is already accounted for by the parser.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (source.charCodeAt(Index) == 46) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition = ++Index;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse the decimal component.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (position == Index) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Illegal trailing decimal.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex = position;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse exponents. The `e` denoting the exponent is\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// case-insensitive.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 101 || charCode == 69) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharCode = source.charCodeAt(++Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Skip past the sign following the exponent, if one is\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// specified.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (charCode == 43 || charCode == 45) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex++;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse the exponential component.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (position == Index) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Illegal empty exponent.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex = position;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Coerce the parsed value to a JavaScript number.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn +source.slice(begin, Index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// A negative sign may only precede numbers.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (isSigned) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// `true`, `false`, and `null` literals.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (source.slice(Index, Index + 4) == \"true\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex += 4;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (source.slice(Index, Index + 5) == \"false\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex += 5;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (source.slice(Index, Index + 4) == \"null\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIndex += 4;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Unrecognized token.\n\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// Return the sentinel `$` character if the parser has reached the end\n\t\t\t\t\t\t\t\t\t\t// of the source string.\n\t\t\t\t\t\t\t\t\t\treturn \"$\";\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Internal: Parses a JSON `value` token.\n\t\t\t\t\t\t\t\t\tvar get = function (value) {\n\t\t\t\t\t\t\t\t\t\tvar results, hasMembers;\n\t\t\t\t\t\t\t\t\t\tif (value == \"$\") {\n\t\t\t\t\t\t\t\t\t\t\t// Unexpected end of input.\n\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (typeof value == \"string\") {\n\t\t\t\t\t\t\t\t\t\t\tif ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n\t\t\t\t\t\t\t\t\t\t\t\t// Remove the sentinel `@` character.\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.slice(1);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// Parse object and array literals.\n\t\t\t\t\t\t\t\t\t\t\tif (value == \"[\") {\n\t\t\t\t\t\t\t\t\t\t\t\t// Parses a JSON array, returning a new JavaScript array.\n\t\t\t\t\t\t\t\t\t\t\t\tresults = [];\n\t\t\t\t\t\t\t\t\t\t\t\tfor (;; hasMembers || (hasMembers = true)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = lex();\n\t\t\t\t\t\t\t\t\t\t\t\t\t// A closing square bracket marks the end of the array literal.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \"]\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// If the array literal contains elements, the current token\n\t\t\t\t\t\t\t\t\t\t\t\t\t// should be a comma separating the previous element from the\n\t\t\t\t\t\t\t\t\t\t\t\t\t// next.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (hasMembers) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \",\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = lex();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \"]\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Unexpected trailing `,` in array literal.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// A `,` must separate each array element.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Elisions and leading commas are not permitted.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \",\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tresults.push(get(value));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t\t\t\t\t} else if (value == \"{\") {\n\t\t\t\t\t\t\t\t\t\t\t\t// Parses a JSON object, returning a new JavaScript object.\n\t\t\t\t\t\t\t\t\t\t\t\tresults = {};\n\t\t\t\t\t\t\t\t\t\t\t\tfor (;; hasMembers || (hasMembers = true)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = lex();\n\t\t\t\t\t\t\t\t\t\t\t\t\t// A closing curly brace marks the end of the object literal.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \"}\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// If the object literal contains members, the current token\n\t\t\t\t\t\t\t\t\t\t\t\t\t// should be a comma separator.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (hasMembers) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \",\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = lex();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \"}\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Unexpected trailing `,` in object literal.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// A `,` must separate each object member.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Leading commas are not permitted, object property names must be\n\t\t\t\t\t\t\t\t\t\t\t\t\t// double-quoted strings, and a `:` must separate each property\n\t\t\t\t\t\t\t\t\t\t\t\t\t// name and value.\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tresults[value.slice(1)] = get(lex());\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// Unexpected token encountered.\n\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Internal: Updates a traversed object member.\n\t\t\t\t\t\t\t\t\tvar update = function (source, property, callback) {\n\t\t\t\t\t\t\t\t\t\tvar element = walk(source, property, callback);\n\t\t\t\t\t\t\t\t\t\tif (element === undef) {\n\t\t\t\t\t\t\t\t\t\t\tdelete source[property];\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsource[property] = element;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Internal: Recursively traverses a parsed JSON object, invoking the\n\t\t\t\t\t\t\t\t\t// `callback` function for each value. This is an implementation of the\n\t\t\t\t\t\t\t\t\t// `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n\t\t\t\t\t\t\t\t\tvar walk = function (source, property, callback) {\n\t\t\t\t\t\t\t\t\t\tvar value = source[property],\n\t\t\t\t\t\t\t\t\t\t\tlength;\n\t\t\t\t\t\t\t\t\t\tif (typeof value == \"object\" && value) {\n\t\t\t\t\t\t\t\t\t\t\t// `forEach` can't be used to traverse an array in Opera <= 8.54\n\t\t\t\t\t\t\t\t\t\t\t// because its `Object#hasOwnProperty` implementation returns `false`\n\t\t\t\t\t\t\t\t\t\t\t// for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n\t\t\t\t\t\t\t\t\t\t\tif (getClass.call(value) == arrayClass) {\n\t\t\t\t\t\t\t\t\t\t\t\tfor (length = value.length; length--;) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdate(value, length, callback);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tforEach(value, function (property) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdate(value, property, callback);\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn callback.call(source, property, value);\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n\t\t\t\t\t\t\t\t\texports.parse = function (source, callback) {\n\t\t\t\t\t\t\t\t\t\tvar result, value;\n\t\t\t\t\t\t\t\t\t\tIndex = 0;\n\t\t\t\t\t\t\t\t\t\tSource = \"\" + source;\n\t\t\t\t\t\t\t\t\t\tresult = get(lex());\n\t\t\t\t\t\t\t\t\t\t// If a JSON string contains multiple tokens, it is invalid.\n\t\t\t\t\t\t\t\t\t\tif (lex() != \"$\") {\n\t\t\t\t\t\t\t\t\t\t\tabort();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// Reset the parser state.\n\t\t\t\t\t\t\t\t\t\tIndex = Source = null;\n\t\t\t\t\t\t\t\t\t\treturn callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\texports[\"runInContext\"] = runInContext;\n\t\t\t\t\t\t\treturn exports;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (freeExports && !isLoader) {\n\t\t\t\t\t\t\t// Export for CommonJS environments.\n\t\t\t\t\t\t\trunInContext(root, freeExports);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Export for web browsers and JavaScript engines.\n\t\t\t\t\t\t\tvar nativeJSON = root.JSON,\n\t\t\t\t\t\t\t\tpreviousJSON = root[\"JSON3\"],\n\t\t\t\t\t\t\t\tisRestored = false;\n\n\t\t\t\t\t\t\tvar JSON3 = runInContext(root, (root[\"JSON3\"] = {\n\t\t\t\t\t\t\t\t// Public: Restores the original value of the global `JSON` object and\n\t\t\t\t\t\t\t\t// returns a reference to the `JSON3` object.\n\t\t\t\t\t\t\t\t\"noConflict\": function () {\n\t\t\t\t\t\t\t\t\tif (!isRestored) {\n\t\t\t\t\t\t\t\t\t\tisRestored = true;\n\t\t\t\t\t\t\t\t\t\troot.JSON = nativeJSON;\n\t\t\t\t\t\t\t\t\t\troot[\"JSON3\"] = previousJSON;\n\t\t\t\t\t\t\t\t\t\tnativeJSON = previousJSON = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn JSON3;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\troot.JSON = {\n\t\t\t\t\t\t\t\t\"parse\": JSON3.parse,\n\t\t\t\t\t\t\t\t\"stringify\": JSON3.stringify\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Export for asynchronous module loaders.\n\t\t\t\t\t\tif (isLoader) {\n\t\t\t\t\t\t\tdefine(function () {\n\t\t\t\t\t\t\t\treturn JSON3;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}).call(this);\n\n\t\t\t\t}).call(this, typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n\t\t\t}, {}],\n\t\t\t51: [function (_dereq_, module, exports) {\n\t\t\t\tmodule.exports = toArray\n\n\t\t\t\tfunction toArray(list, index) {\n\t\t\t\t\tvar array = []\n\n\t\t\t\t\tindex = index || 0\n\n\t\t\t\t\tfor (var i = index || 0; i < list.length; i++) {\n\t\t\t\t\t\tarray[i - index] = list[i]\n\t\t\t\t\t}\n\n\t\t\t\t\treturn array\n\t\t\t\t}\n\n\t\t\t}, {}]\n\t\t}, {}, [31])(31)\n\t});\n}"
  ]
}
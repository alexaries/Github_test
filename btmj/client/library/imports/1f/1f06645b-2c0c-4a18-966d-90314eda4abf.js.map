{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "radix",
    "base",
    "crypto",
    "value",
    "h",
    "Math",
    "floor",
    "l",
    "String",
    "fromCharCode",
    "encodermap",
    "decodermap",
    "i",
    "code",
    "v",
    "encode",
    "data",
    "content",
    "len",
    "length",
    "a",
    "b",
    "c",
    "d",
    "getCode",
    "index",
    "charCodeAt",
    "charAt",
    "decode",
    "newData",
    "Uint8Array",
    "cnt",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "onPlayCallback",
    "_voiceMediaPath",
    "init",
    "sys",
    "isNative",
    "jsb",
    "fileUtils",
    "getWritablePath",
    "setStorageDir",
    "prepare",
    "filename",
    "vv",
    "audioMgr",
    "pauseAll",
    "window",
    "startRecord",
    "clearCache",
    "os",
    "OS_ANDROID",
    "reflection",
    "callStaticMethod",
    "OS_IOS",
    "release",
    "resumeAll",
    "stopRecord",
    "cancel",
    "cancelRecord",
    "voice",
    "localId",
    "writeVoice",
    "voiceData",
    "fileData",
    "url",
    "writeDataToFile",
    "isFileExist",
    "removeFile",
    "play",
    "stop",
    "getVoiceLevel",
    "maxLevel",
    "random",
    "getVoiceData",
    "console",
    "log",
    "getDataFromFile",
    "download",
    "dir",
    "isDirectoryExist",
    "createDirectory"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var radix = 12;\r\nvar base = 128 - radix;\r\n\r\nfunction crypto(value) {\r\n    value -= base;\r\n    var h = Math.floor(value / radix) + base;\r\n    var l = value % radix + base;\r\n    return String.fromCharCode(h) + String.fromCharCode(l);\r\n}\r\nvar encodermap = {}\r\nvar decodermap = {}\r\nfor (var i = 0; i < 256; ++i) {\r\n    var code = null;\r\n    var v = i + 1;\r\n    if (v >= base) {\r\n        code = crypto(v);\r\n    } else {\r\n        code = String.fromCharCode(v);\r\n    }\r\n    encodermap[i] = code;\r\n    decodermap[code] = i;\r\n}\r\n\r\nfunction encode(data) {\r\n    var content = \"\";\r\n    var len = data.length;\r\n    var a = (len >> 24) & 0xff;\r\n    var b = (len >> 16) & 0xff;\r\n    var c = (len >> 8) & 0xff;\r\n    var d = len & 0xff;\r\n    content += encodermap[a];\r\n    content += encodermap[b];\r\n    content += encodermap[c];\r\n    content += encodermap[d];\r\n    for (var i = 0; i < data.length; ++i) {\r\n        content += encodermap[data[i]];\r\n    }\r\n    return content;\r\n}\r\n\r\nfunction getCode(content, index) {\r\n    var c = content.charCodeAt(index);\r\n    if (c >= base) {\r\n        c = content.charAt(index) + content.charAt(index + 1);\r\n    } else {\r\n        c = content.charAt(index);\r\n    }\r\n    return c;\r\n}\r\n\r\nfunction decode(content) {\r\n    var index = 0;\r\n    var len = 0;\r\n    for (var i = 0; i < 4; ++i) {\r\n        var c = getCode(content, index);\r\n        index += c.length;\r\n        var v = decodermap[c];\r\n        len |= v << (3 - i) * 8;\r\n    }\r\n    var newData = new Uint8Array(len);\r\n    var cnt = 0;\r\n    while (index < content.length) {\r\n        var c = getCode(content, index);\r\n        index += c.length;\r\n        newData[cnt] = decodermap[c];\r\n        cnt++;\r\n    }\r\n    return newData;\r\n}\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        onPlayCallback: null,\r\n        _voiceMediaPath: null,\r\n    },\r\n    // use this for initialization\r\n    init: function() {\r\n        if (cc.sys.isNative) {\r\n            this._voiceMediaPath = jsb.fileUtils.getWritablePath() + \"/voicemsgs/\";\r\n            this.setStorageDir(this._voiceMediaPath);\r\n        }\r\n    },\r\n    prepare: function(filename) {\r\n        cc.vv.audioMgr.pauseAll();\r\n        if (!cc.sys.isNative) {\r\n            window.startRecord();\r\n            return;\r\n        }\r\n        this.clearCache(filename);\r\n        if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            jsb.reflection.callStaticMethod(\"com/vivigames/voicesdk/VoiceRecorder\", \"prepare\", \"(Ljava/lang/String;)V\", filename);\r\n        } else if (cc.sys.os == cc.sys.OS_IOS) {\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"prepareRecord:\", filename);\r\n        }\r\n    },\r\n    release: function() {\r\n        cc.vv.audioMgr.resumeAll();\r\n        if (!cc.sys.isNative) {\r\n            window.stopRecord();\r\n            return;\r\n        }\r\n        if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            jsb.reflection.callStaticMethod(\"com/vivigames/voicesdk/VoiceRecorder\", \"release\", \"()V\");\r\n        } else if (cc.sys.os == cc.sys.OS_IOS) {\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"finishRecord\");\r\n        }\r\n    },\r\n    cancel: function() {\r\n        cc.vv.audioMgr.resumeAll();\r\n        if (!cc.sys.isNative) {\r\n            window.cancelRecord();\r\n            window.voice.localId = null;\r\n            return;\r\n        }\r\n        if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            jsb.reflection.callStaticMethod(\"com/vivigames/voicesdk/VoiceRecorder\", \"cancel\", \"()V\");\r\n        } else if (cc.sys.os == cc.sys.OS_IOS) {\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"cancelRecord\");\r\n        }\r\n    },\r\n    writeVoice: function(filename, voiceData) {\r\n        if (!cc.sys.isNative) {\r\n            return;\r\n        }\r\n        if (voiceData && voiceData.length > 0) {\r\n            var fileData = decode(voiceData);\r\n            var url = this._voiceMediaPath + filename;\r\n            this.clearCache(filename);\r\n            jsb.fileUtils.writeDataToFile(fileData, url);\r\n        }\r\n    },\r\n    clearCache: function(filename) {\r\n        if (cc.sys.isNative) {\r\n            var url = this._voiceMediaPath + filename;\r\n            //console.log(\"check file:\" + url);\r\n            if (jsb.fileUtils.isFileExist(url)) {\r\n                //console.log(\"remove:\" + url);\r\n                jsb.fileUtils.removeFile(url);\r\n            }\r\n            if (jsb.fileUtils.isFileExist(url + \".wav\")) {\r\n                //console.log(\"remove:\" + url + \".wav\");\r\n                jsb.fileUtils.removeFile(url + \".wav\");\r\n            }\r\n        }\r\n    },\r\n    play: function(filename) {\r\n        if (!cc.sys.isNative) {\r\n            return;\r\n        }\r\n        cc.vv.audioMgr.pauseAll();\r\n        if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            jsb.reflection.callStaticMethod(\"com/vivigames/voicesdk/VoicePlayer\", \"play\", \"(Ljava/lang/String;)V\", filename);\r\n        } else if (cc.sys.os == cc.sys.OS_IOS) {\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"play:\", filename);\r\n        } else {}\r\n    },\r\n    stop: function() {\r\n        if (!cc.sys.isNative) {\r\n            return;\r\n        }\r\n        cc.vv.audioMgr.resumeAll();\r\n        if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            jsb.reflection.callStaticMethod(\"com/vivigames/voicesdk/VoicePlayer\", \"stop\", \"()V\");\r\n        } else if (cc.sys.os == cc.sys.OS_IOS) {\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"stopPlay\");\r\n        } else {}\r\n    },\r\n    getVoiceLevel: function(maxLevel) {\r\n        if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            return jsb.reflection.callStaticMethod(\"com/vivigames/voicesdk/VoiceRecorder\", \"getVoiceLevel\", \"(I)I\", maxLevel);\r\n        } else if (cc.sys.os == cc.sys.OS_IOS) {} else {\r\n            return Math.floor(Math.random() * maxLevel + 1);\r\n        }\r\n    },\r\n    getVoiceData: function(filename) {\r\n        if (cc.sys.isNative) {\r\n            var url = this._voiceMediaPath + filename;\r\n            console.log(\"getVoiceData:\" + url);\r\n            var fileData = jsb.fileUtils.getDataFromFile(url);\r\n            if (fileData) {\r\n                var content = encode(fileData);\r\n                return content;\r\n            }\r\n        }\r\n        return \"\";\r\n    },\r\n    download: function() {},\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n    // },\r\n    setStorageDir: function(dir) {\r\n        if (!cc.sys.isNative) {\r\n            return;\r\n        }\r\n        if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            jsb.reflection.callStaticMethod(\"com/vivigames/voicesdk/VoiceRecorder\", \"setStorageDir\", \"(Ljava/lang/String;)V\", dir);\r\n        } else if (cc.sys.os == cc.sys.OS_IOS) {\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"setStorageDir:\", dir);\r\n            if (!jsb.fileUtils.isDirectoryExist(dir)) {\r\n                jsb.fileUtils.createDirectory(dir);\r\n            }\r\n        }\r\n    }\r\n});"
  ]
}
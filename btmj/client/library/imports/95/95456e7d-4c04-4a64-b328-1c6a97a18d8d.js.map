{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "dataEventHandler",
    "cqEventHandler",
    "roomId",
    "maxNumOfGames",
    "numOfGames",
    "numOfMJ",
    "seatIndex",
    "seats",
    "turn",
    "button",
    "chupai",
    "gamestate",
    "isOver",
    "dissoveData",
    "room_type",
    "cq_data",
    "reset",
    "curaction",
    "i",
    "length",
    "holds",
    "folds",
    "pengs",
    "caiShen",
    "chis",
    "angangs",
    "diangangs",
    "wangangs",
    "ready",
    "hued",
    "tinged",
    "clear",
    "dispatchEvent",
    "event",
    "data",
    "console",
    "log",
    "emit",
    "cqDispatchEvent",
    "getSeatIndexByID",
    "userId",
    "s",
    "userid",
    "isOwner",
    "getSeatByID",
    "seat",
    "getSelfData",
    "getLocalIndex",
    "index",
    "ret",
    "getLocalIndexZJH",
    "getLocalIndexByUserIdZJH",
    "prepareReplay",
    "roomInfo",
    "detailOfGame",
    "id",
    "base_info",
    "baseInfo",
    "seatindex",
    "score",
    "game_seats",
    "extraPais",
    "vv",
    "userMgr",
    "conf",
    "type",
    "getWanfa",
    "strArr",
    "maxGames",
    "push",
    "baseScore",
    "yipaoduoxiang",
    "join",
    "requireByGame",
    "initHandlers",
    "net",
    "handlers",
    "self",
    "t",
    "require",
    "NetMgr",
    "doGuo",
    "pai",
    "seatData",
    "doMopai",
    "doChupai",
    "idx",
    "indexOf",
    "splice",
    "doPeng",
    "extraPengPai",
    "doChi",
    "chiArray",
    "extraPai",
    "sort",
    "a",
    "b",
    "getGangType",
    "cnt",
    "doGang",
    "gangtype",
    "doCaiShen",
    "doHu",
    "doTurnChange",
    "si",
    "last",
    "connectGameServer",
    "ip",
    "port",
    "onConnectOK",
    "sd",
    "token",
    "roomid",
    "time",
    "sign",
    "send",
    "onConnectFailed",
    "wc",
    "hide",
    "show",
    "connect",
    "connectMatchServer",
    "connect_data",
    "match_data",
    "match_net",
    "alert"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        dataEventHandler: null,\r\n        cqEventHandler: null,\r\n        roomId: null,\r\n        maxNumOfGames: 0,\r\n        numOfGames: 0,\r\n        numOfMJ: 0,\r\n        seatIndex: -1,\r\n        seats: null,\r\n        turn: -1,\r\n        button: -1,\r\n        chupai: -1,\r\n        gamestate: \"\",\r\n        isOver: false,\r\n        dissoveData: null,\r\n        room_type: -1,\r\n        cq_data: null,\r\n    },\r\n    reset: function() {\r\n        this.turn = -1;\r\n        this.chupai = -1;\r\n        this.button = -1;\r\n        this.gamestate = \"\";\r\n        this.curaction = null;\r\n        for (var i = 0; i < this.seats.length; ++i) {\r\n            this.seats[i].holds = [];\r\n            this.seats[i].folds = [];\r\n            this.seats[i].pengs = [];\r\n            this.seats[i].caiShen = [];\r\n            this.seats[i].chis = [];\r\n            this.seats[i].angangs = [];\r\n            this.seats[i].diangangs = [];\r\n            this.seats[i].wangangs = [];\r\n            this.seats[i].ready = false;\r\n            this.seats[i].hued = false;\r\n            this.seats[i].tinged = false;\r\n        }\r\n    },\r\n    clear: function() {\r\n        this.dataEventHandler = null;\r\n        this.cqEventHandler = null;\r\n        if (this.isOver == null) {\r\n            this.seats = null;\r\n            this.roomId = null;\r\n            this.room_type = -1;\r\n            this.maxNumOfGames = 0;\r\n            this.numOfGames = 0;\r\n        }\r\n    },\r\n    dispatchEvent(event, data) {\r\n        if (event == 'test') console.log(this.dataEventHandler);\r\n        if (this.dataEventHandler) {\r\n            this.dataEventHandler.emit(event, data);\r\n        }\r\n    },\r\n    cqDispatchEvent(event, data) {\r\n        if (this.cqEventHandler) {\r\n            // console.log('cqDispatchEvent',data);\r\n            this.cqEventHandler.emit(event, data);\r\n        }\r\n    },\r\n    getSeatIndexByID: function(userId) {\r\n        if (this.seats) {\r\n            for (var i = 0; i < this.seats.length; ++i) {\r\n                var s = this.seats[i];\r\n                if (s.userid == userId) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    },\r\n    isOwner: function() {\r\n        return this.seatIndex == 0;\r\n    },\r\n    getSeatByID: function(userId) {\r\n        var seatIndex = this.getSeatIndexByID(userId);\r\n        var seat = this.seats[seatIndex];\r\n        return seat;\r\n    },\r\n    getSelfData: function() {\r\n        return this.seats[this.seatIndex];\r\n    },\r\n    getLocalIndex: function(index) {\r\n        var ret = (index - this.seatIndex + 4) % 4;\r\n        return ret;\r\n    },\r\n    getLocalIndexZJH: function(index) {\r\n        var ret = (index - this.seatIndex + 5) % 5;\r\n        return ret;\r\n    },\r\n    getLocalIndexByUserIdZJH: function(userId) {\r\n        var seatIndex = this.getSeatIndexByID(userId);\r\n        var ret = this.getLocalIndexZJH(seatIndex);\r\n        return ret;\r\n    },\r\n    prepareReplay: function(roomInfo, detailOfGame) {\r\n        this.roomId = roomInfo.id;\r\n        this.seats = roomInfo.seats;\r\n        this.turn = detailOfGame.base_info.button;\r\n        this.room_type = 0;\r\n        var baseInfo = detailOfGame.base_info;\r\n        for (var i = 0; i < this.seats.length; ++i) {\r\n            var s = this.seats[i];\r\n            s.seatindex = i;\r\n            s.score = null;\r\n            s.holds = baseInfo.game_seats[i];\r\n            s.pengs = [];\r\n            s.caiShen = [];\r\n            s.chis = [];\r\n            s.extraPais = [];\r\n            s.angangs = [];\r\n            s.diangangs = [];\r\n            s.wangangs = [];\r\n            s.folds = [];\r\n            console.log(s);\r\n            if (cc.vv.userMgr.userId == s.userid) {\r\n                this.seatIndex = i;\r\n            }\r\n        }\r\n        this.conf = {\r\n            type: baseInfo.type,\r\n        }\r\n        if (this.conf.type == null) {\r\n            this.conf.type == \"ykx\";\r\n        }\r\n    },\r\n    getWanfa: function() {\r\n        var conf = this.conf;\r\n        if (conf) {\r\n            var strArr = [];\r\n            if (conf.maxGames) {\r\n                strArr.push(conf.maxGames + \"局\");\r\n            }\r\n            if (conf.baseScore) {\r\n                strArr.push(\" 底分:\" + conf.baseScore);\r\n            }\r\n            if (conf.yipaoduoxiang == true) {\r\n                strArr.push(\" 一炮多响\");\r\n            }\r\n            return strArr.join(\" \");\r\n        }\r\n        return \"\";\r\n    },\r\n    requireByGame: function() {\r\n        // var gameHandler = require('');\r\n        // gameHandler.initEvents();\r\n    },\r\n    initHandlers: function(type) {\r\n        cc.vv.net.handlers = {};\r\n        var self = this;\r\n        var t;\r\n        if (type == 2) {\r\n            t = require('ZjhNetMgr');\r\n        } else if (type == 1) {\r\n            t = require('CqNetMgr');\r\n        } else if (type == 0) {\r\n            t = require('MjNetMgr');\r\n        } else if (type == 3) {\r\n            t = require('DnNetMgr');\r\n        } else if (type == 4) {\r\n            t = require('DzpkNetMgr');\r\n        } else if (type == 100) {\r\n            t = require('JbsNetMgr');\r\n        }\r\n        cc.vv.NetMgr = new t();\r\n        cc.vv.NetMgr.initHandlers(self);\r\n    },\r\n    doGuo: function(seatIndex, pai) {\r\n        var seatData = this.seats[seatIndex];\r\n        var folds = seatData.folds;\r\n        if (folds) {\r\n            folds.push(pai);\r\n        }\r\n        this.dispatchEvent('guo_notify', seatData);\r\n    },\r\n    doMopai: function(seatIndex, pai) {\r\n        var seatData = this.seats[seatIndex];\r\n        if (seatData.holds) {\r\n            seatData.holds.push(pai);\r\n            this.dispatchEvent('game_mopai', {\r\n                seatIndex: seatIndex,\r\n                pai: pai\r\n            });\r\n        }\r\n    },\r\n    doChupai: function(seatIndex, pai) {\r\n        this.chupai = pai;\r\n        var seatData = this.seats[seatIndex];\r\n        if (seatData.holds) {\r\n            var idx = seatData.holds.indexOf(pai);\r\n            seatData.holds.splice(idx, 1);\r\n        }\r\n        this.dispatchEvent('game_chupai_notify', {\r\n            seatData: seatData,\r\n            pai: pai\r\n        });\r\n    },\r\n    doPeng: function(seatIndex, pai, extraPengPai) {\r\n        console.log(\"doPeng\", extraPengPai);\r\n        var seatData = this.seats[seatIndex];\r\n        //移除手牌\r\n        if (seatData.holds) {\r\n            for (var i = 0; i < 2; ++i) {\r\n                var idx = seatData.holds.indexOf(pai);\r\n                seatData.holds.splice(idx, 1);\r\n            }\r\n        }\r\n        //更新碰牌数据\r\n        var pengs = seatData.pengs;\r\n        pengs.push(pai);\r\n        if (extraPengPai != null && extraPengPai.length > 0) {\r\n            seatData.extraPais = extraPengPai;\r\n        }\r\n        // console.log('------------------------------------');\r\n        // console.log(\"玩家的手中多余的牌是\", seatData.extraPais);\r\n        // console.log('------------------------------------');\r\n        this.dispatchEvent('peng_notify', seatData);\r\n    },\r\n    doChi: function(seatIndex, pai, chiArray, extraPai) {\r\n        var seatData = this.seats[seatIndex];\r\n        //移除手牌\r\n        // console.log(\"吃牌回掉函数\");\r\n        if (seatData.holds) {\r\n            for (var i = 0; i < 2; ++i) {\r\n                var idx = seatData.holds.indexOf(chiArray[i]);\r\n                if (idx != -1) {\r\n                    seatData.holds.splice(idx, 1);\r\n                }\r\n            }\r\n            var chis = seatData.chis;\r\n            chiArray.push(pai);\r\n            chiArray.sort(function(a, b) {\r\n                return a - b;\r\n            });\r\n            chis.push(chiArray);\r\n        }\r\n        if (extraPai != null && extraPai.length > 0) {\r\n            seatData.extraPais = extraPai;\r\n        }\r\n        this.dispatchEvent('chi_notify', seatData);\r\n    },\r\n    getGangType: function(seatData, pai) {\r\n        if (seatData.pengs.indexOf(pai) != -1) {\r\n            return \"wangang\";\r\n        } else {\r\n            var cnt = 0;\r\n            for (var i = 0; i < seatData.holds.length; ++i) {\r\n                if (seatData.holds[i] == pai) {\r\n                    cnt++;\r\n                }\r\n            }\r\n            if (cnt == 3) {\r\n                return \"diangang\";\r\n            } else {\r\n                return \"angang\";\r\n            }\r\n        }\r\n    },\r\n    doGang: function(seatIndex, pai, gangtype) {\r\n        var seatData = this.seats[seatIndex];\r\n        if (!gangtype) {\r\n            gangtype = this.getGangType(seatData, pai);\r\n        }\r\n        if (gangtype == \"wangang\") {\r\n            if (seatData.pengs.indexOf(pai) != -1) {\r\n                var idx = seatData.pengs.indexOf(pai);\r\n                if (idx != -1) {\r\n                    seatData.pengs.splice(idx, 1);\r\n                }\r\n            }\r\n            seatData.wangangs.push(pai);\r\n        }\r\n        if (seatData.holds) {\r\n            for (var i = 0; i <= 4; ++i) {\r\n                var idx = seatData.holds.indexOf(pai);\r\n                if (idx == -1) {\r\n                    //如果没有找到，表示移完了，直接跳出循环\r\n                    break;\r\n                }\r\n                seatData.holds.splice(idx, 1);\r\n            }\r\n        }\r\n        if (gangtype == \"angang\") {\r\n            if (!seatData.angangs) {\r\n                seatData.angangs = [];\r\n            }\r\n            seatData.angangs.push(pai);\r\n        } else if (gangtype == \"diangang\") {\r\n            if (!seatData.diangangs) {\r\n                seatData.diangangs = [];\r\n            }\r\n            seatData.diangangs.push(pai);\r\n        }\r\n        this.dispatchEvent('gang_notify', {\r\n            seatData: seatData,\r\n            gangtype: gangtype\r\n        });\r\n    },\r\n    // 财神\r\n    doCaiShen: function(seatIndex, pai) {\r\n        console.log(\"财神!docaishen\", seatIndex, pai);\r\n        var seatData = this.seats[seatIndex];\r\n        // 移除手牌\r\n        if (seatData.holds) {\r\n            var idx = seatData.holds.indexOf(pai);\r\n            seatData.holds.splice(idx, 1);\r\n        }\r\n        var caiShen = seatData.caiShen;\r\n        caiShen.push(pai);\r\n        this.dispatchEvent('game_caishen_notify', seatData);\r\n    },\r\n    doHu: function(data) {\r\n        this.dispatchEvent('hupai', data);\r\n    },\r\n    doTurnChange: function(si) {\r\n        var data = {\r\n            last: this.turn,\r\n            turn: si,\r\n        }\r\n        this.turn = si;\r\n        this.dispatchEvent('game_chupai', data);\r\n    },\r\n    connectGameServer: function(data) {\r\n        this.initHandlers(cc.vv.userMgr.room_type);\r\n        this.dissoveData = null;\r\n        cc.vv.net.ip = data.ip + \":\" + data.port;\r\n        console.log(cc.vv.net.ip);\r\n        var self = this;\r\n        var onConnectOK = function() {\r\n            console.log(\"onConnectOK\");\r\n            var sd = {\r\n                token: data.token,\r\n                roomid: data.roomid,\r\n                time: data.time,\r\n                sign: data.sign,\r\n            };\r\n            console.log(\"login============\");\r\n            cc.vv.net.send(\"login\", sd);\r\n        };\r\n        var onConnectFailed = function() {\r\n            console.log(\"failed.\");\r\n            cc.vv.wc.hide();\r\n        };\r\n        cc.vv.wc.show(\"正在进入房间\");\r\n        cc.vv.net.connect(onConnectOK, onConnectFailed);\r\n    },\r\n    connectMatchServer: function(connect_data, match_data) {\r\n            this.initHandlers(100); //锦标赛的type设为100\r\n            cc.vv.match_net.ip = connect_data.ip + \":\" + connect_data.port;\r\n            var self = this;\r\n            var onConnectOK = function() {\r\n                if (match_data) {\r\n                    match_data.userid = cc.vv.userMgr.userId\r\n                }\r\n                cc.vv.match_net.send(\"login\", match_data);\r\n                cc.vv.wc.hide();\r\n            };\r\n            var onConnectFailed = function() {\r\n                cc.vv.wc.hide();\r\n                cc.vv.alert.show(\"注意\", \"进入比赛队列失败！\");\r\n            };\r\n\r\n            cc.vv.wc.show(\"正在进入比赛队列\");\r\n            cc.vv.match_net.connect(onConnectOK, onConnectFailed);\r\n        }\r\n        // called every frame, uncomment this function to activate update callback\r\n        // update: function (dt) {\r\n        // },\r\n});"
  ]
}